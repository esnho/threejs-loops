(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{19:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(17);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=i(this,a(t).call(this));var r=new n.HemisphereLight(16777215,16777215,3);return r.color.setHSL(Math.NormalizeHue(325),.1,.94),r.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),r.position.set(0,2,0),e.add(r),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["Group"]),t}()},21:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(17);r(19);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h={intensity:1,castShadow:!1,bias:0,projectionSides:void 0,mapSize:512},l=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];r=s(this,(e=u(t)).call.apply(e,[this].concat(a)));var l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}({},h,a[0]),p=l.intensity,d=l.castShadow,f=l.bias,m=l.projectionSides,v=l.mapSize;r.intensity=p,r.projectionSides=m,r.mapSize=v;var b=new n.DirectionalLight("white",.65*r.intensity),y=new n.DirectionalLight("white",.55*r.intensity);return b.shadow.bias=f||0,y.shadow.bias=f||0,b.castShadow=d,y.castShadow=d,r.updateProjection(b,r.projectionSides),r.updateProjection(y,r.projectionSides),r.updateShadowMap(b,r.mapSize),r.updateShadowMap(b,r.mapSize),b.position.copy(new n.Vector3(9,3.5,0)),y.position.copy(new n.Vector3(-10,2,0)),r.add(b,y),r}var r,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n["Group"]),r=t,(o=[{key:"updateProjection",value:function(e,t){e.shadow.camera.left=-t,e.shadow.camera.right=t,e.shadow.camera.updateProjectionMatrix()}},{key:"updateShadowMap",value:function(e,t){e.shadow.mapSize.width=t,e.shadow.mapSize.height=t}}])&&a(r.prototype,o),l&&a(r,l),t}()},23:function(e,t,r){"use strict";function n(e){throw new Error(e)}e.exports=function(e){e.OBJLoader=function(t){this.manager=void 0!==t?t:e.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},e.OBJLoader.prototype={constructor:e.OBJLoader,load:function(t,r,o,i){var a=this;this.onError=i||n;var s=new e.FileLoader(a.manager);s.setPath(this.path),s.load(t,function(e){r(a.parse(e))},o,i)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"==typeof r.clone){var n=r.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){var n=this.vertices,o=this.object.geometry.vertices;o.push(n[e+0]),o.push(n[e+1]),o.push(n[e+2]),o.push(n[t+0]),o.push(n[t+1]),o.push(n[t+2]),o.push(n[r+0]),o.push(n[r+1]),o.push(n[r+2])},addVertexLine:function(e){var t=this.vertices,r=this.object.geometry.vertices;r.push(t[e+0]),r.push(t[e+1]),r.push(t[e+2])},addNormal:function(e,t,r){var n=this.normals,o=this.object.geometry.normals;o.push(n[e+0]),o.push(n[e+1]),o.push(n[e+2]),o.push(n[t+0]),o.push(n[t+1]),o.push(n[t+2]),o.push(n[r+0]),o.push(n[r+1]),o.push(n[r+2])},addUV:function(e,t,r){var n=this.uvs,o=this.object.geometry.uvs;o.push(n[e+0]),o.push(n[e+1]),o.push(n[t+0]),o.push(n[t+1]),o.push(n[r+0]),o.push(n[r+1])},addUVLine:function(e){var t=this.uvs,r=this.object.geometry.uvs;r.push(t[e+0]),r.push(t[e+1])},addFace:function(e,t,r,n,o,i,a,s,u,c,h,l){var p,d=this.vertices.length,f=this.parseVertexIndex(e,d),m=this.parseVertexIndex(t,d),v=this.parseVertexIndex(r,d);if(void 0===n?this.addVertex(f,m,v):(p=this.parseVertexIndex(n,d),this.addVertex(f,m,p),this.addVertex(m,v,p)),void 0!==o){var b=this.uvs.length;f=this.parseUVIndex(o,b),m=this.parseUVIndex(i,b),v=this.parseUVIndex(a,b),void 0===n?this.addUV(f,m,v):(p=this.parseUVIndex(s,b),this.addUV(f,m,p),this.addUV(m,v,p))}if(void 0!==u){var y=this.normals.length;f=this.parseNormalIndex(u,y),m=u===c?f:this.parseNormalIndex(c,y),v=u===h?f:this.parseNormalIndex(h,y),void 0===n?this.addNormal(f,m,v):(p=this.parseNormalIndex(l,y),this.addNormal(f,m,p),this.addNormal(m,v,p))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var r=this.vertices.length,n=this.uvs.length,o=0,i=e.length;o<i;o++)this.addVertexLine(this.parseVertexIndex(e[o],r));var a=0;for(i=t.length;a<i;a++)this.addUVLine(this.parseUVIndex(t[a],n))}};return e.startObject("",!1),e},parse:function(t,r){void 0===r&&(r=!0),r&&console.time("OBJLoader");var n=this._createParserState();-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));for(var o=t.split("\n"),i="",a="",s="",u=[],c="function"==typeof"".trimLeft,h=0,l=o.length;h<l;h++)if(i=o[h],0!==(i=c?i.trimLeft():i.trim()).length&&"#"!==(a=i.charAt(0)))if("v"===a)" "===(s=i.charAt(1))&&null!==(u=this.regexp.vertex_pattern.exec(i))?n.vertices.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])):"n"===s&&null!==(u=this.regexp.normal_pattern.exec(i))?n.normals.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])):"t"===s&&null!==(u=this.regexp.uv_pattern.exec(i))?n.uvs.push(parseFloat(u[1]),parseFloat(u[2])):this.onError("Unexpected vertex/normal/uv line: '"+i+"'");else if("f"===a)null!==(u=this.regexp.face_vertex_uv_normal.exec(i))?n.addFace(u[1],u[4],u[7],u[10],u[2],u[5],u[8],u[11],u[3],u[6],u[9],u[12]):null!==(u=this.regexp.face_vertex_uv.exec(i))?n.addFace(u[1],u[3],u[5],u[7],u[2],u[4],u[6],u[8]):null!==(u=this.regexp.face_vertex_normal.exec(i))?n.addFace(u[1],u[3],u[5],u[7],void 0,void 0,void 0,void 0,u[2],u[4],u[6],u[8]):null!==(u=this.regexp.face_vertex.exec(i))?n.addFace(u[1],u[2],u[3],u[4]):this.onError("Unexpected face line: '"+i+"'");else if("l"===a){var p=i.substring(1).trim().split(" "),d=[],f=[];if(-1===i.indexOf("/"))d=p;else for(var m=0,v=p.length;m<v;m++){var b=p[m].split("/");""!==b[0]&&d.push(b[0]),""!==b[1]&&f.push(b[1])}n.addLineGeometry(d,f)}else if(null!==(u=this.regexp.object_pattern.exec(i))){var y=(" "+u[0].substr(1).trim()).substr(1);n.startObject(y)}else if(this.regexp.material_use_pattern.test(i))n.object.startMaterial(i.substring(7).trim(),n.materialLibraries);else if(this.regexp.material_library_pattern.test(i))n.materialLibraries.push(i.substring(7).trim());else if(null!==(u=this.regexp.smoothing_pattern.exec(i))){var g=u[1].trim().toLowerCase();n.object.smooth="1"===g||"on"===g,(I=n.object.currentMaterial())&&(I.smooth=n.object.smooth)}else{if("\0"===i)continue;this.onError("Unexpected line: '"+i+"'")}n.finalize();var w=new e.Group;w.materialLibraries=[].concat(n.materialLibraries);for(h=0,l=n.objects.length;h<l;h++){var x=n.objects[h],j=x.geometry,_=x.materials,S="Line"===j.type;if(0!==j.vertices.length){var L=new e.BufferGeometry;L.addAttribute("position",new e.BufferAttribute(new Float32Array(j.vertices),3)),j.normals.length>0?L.addAttribute("normal",new e.BufferAttribute(new Float32Array(j.normals),3)):L.computeVertexNormals(),j.uvs.length>0&&L.addAttribute("uv",new e.BufferAttribute(new Float32Array(j.uvs),2));for(var O,M=[],V=0,E=_.length;V<E;V++){var P=_[V],I=void 0;if(null!==this.materials&&(I=this.materials.create(P.name),S&&I&&!(I instanceof e.LineBasicMaterial))){var F=new e.LineBasicMaterial;F.copy(I),I=F}I||((I=S?new e.LineBasicMaterial:new e.MeshPhongMaterial).name=P.name),I.shading=P.smooth?e.SmoothShading:e.FlatShading,M.push(I)}if(M.length>1){for(V=0,E=_.length;V<E;V++){P=_[V];L.addGroup(P.groupStart,P.groupCount,V)}var z=new e.MultiMaterial(M);O=S?new e.LineSegments(L,z):new e.Mesh(L,z)}else O=S?new e.LineSegments(L,M[0]):new e.Mesh(L,M[0]);O.name=x.name,w.add(O)}}return r&&console.timeEnd("OBJLoader"),w}}}},34:function(e,t,r){e.exports=r.p+"obj/Lowpoly_tree_sample.obj"},8:function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n=r(17),o=r(34),i=r.n(o),a=r(21),s=r(23);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}s(n);var c=function(){function e(t){var r=t.scene,o=t.onLoad;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=r,this.setupCamera(),r.renderer.shadowMap.enabled=!0,r.renderer.shadowMap.type=n.PCFSoftShadowMap,this.root=new n.Group,this.loadTree(),this.setupLights(),o&&o()}var t,r,o;return t=e,(r=[{key:"loading",value:function(e){}},{key:"setupLights",value:function(){var e=new a.a({intensity:1.8,castShadow:!0,bias:2e-5,projectionSides:2.5,mapSize:2048});e.rotateY(Math.PI),this.root.add(e)}},{key:"setupCamera",value:function(){var e=this.scene.camera.aspect;this.scene.camera=new n.OrthographicCamera(10*e/-2,10*e/2,5,-5,1,150),this.scene.camera.position.copy(new n.Vector3(0,3.5,10)),this.scene.camera.lookAt(new n.Vector3(0,0,0))}},{key:"loadTree",value:function(){var e=new n.OBJLoader;this.onHeadReady=this.onTreeReady.bind(this),this.onHeadLoading=this.onHeadLoading.bind(this),this.onTreeReady=this.onTreeReady.bind(this),e.load(i.a,this.onTreeReady,this.onHeadLoading,function(e){console.log("An error happened",e)})}},{key:"onHeadLoading",value:function(e){var t=e.loaded/e.total;console.log(100*t+"% loaded"),this.loading(Math.sin(t))}},{key:"onTreeReady",value:function(e){for(var t=0;t<10;t++){var r=new n.Vector3(3*t,0,0);this.addTree(e,r)}}},{key:"addTree",value:function(e,t){var r=e.clone();r.position.copy(t),r.scale.copy(new n.Vector3(.2,.2,.2)),r.children[0].material[0].color.setRGB(1,.6,0),r.children[0].material[1].color.setRGB(.8,1,.2),this.root.add(r)}},{key:"update",value:function(e,t){var r=0;this.root.traverse(function(t){var n=t.scale.clone();n.y=Math.abs(Math.sin(e+r))+.2,t.scale.copy(n),r++})}}])&&u(t.prototype,r),o&&u(t,o),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1doaXRlSGVtaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1R3b0RpcmVjdGlvbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtb2JqLWxvYWRlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9vYmovTG93cG9seV90cmVlX3NhbXBsZS5vYmoiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL1RyZWVFeGFtcGxlLmpzIl0sIm5hbWVzIjpbIldoaXRlSGVtaSIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2dldFByb3RvdHlwZU9mIiwiY2FsbCIsImhlbWlMaWdodCIsIkhlbWlzcGhlcmVMaWdodCIsImNvbG9yIiwic2V0SFNMIiwiTWF0aCIsIk5vcm1hbGl6ZUh1ZSIsImdyb3VuZENvbG9yIiwicG9zaXRpb24iLCJzZXQiLCJhZGQiLCJHcm91cCIsImRlZmF1bHRQYXJhbXMiLCJpbnRlbnNpdHkiLCJjYXN0U2hhZG93IiwiYmlhcyIsInByb2plY3Rpb25TaWRlcyIsInVuZGVmaW5lZCIsIm1hcFNpemUiLCJUd29EaXJlY3Rpb25hbHMiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsIl9kZWZhdWx0UGFyYW1zJGFyZ3MkIiwiX29iamVjdFNwcmVhZCIsImRpcmVjdGlvbmFsTGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0IiwiZGlyZWN0aW9uYWxMaWdodDIiLCJzaGFkb3ciLCJ1cGRhdGVQcm9qZWN0aW9uIiwidXBkYXRlU2hhZG93TWFwIiwiY29weSIsIlZlY3RvcjMiLCJsaWdodCIsImNhbWVyYSIsImxlZnQiLCJyaWdodCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ3aWR0aCIsImhlaWdodCIsImRlZmF1bHRPbkVycm9yIiwiZXJyIiwiRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiVEhSRUUiLCJPQkpMb2FkZXIiLCJtYW5hZ2VyIiwiRGVmYXVsdExvYWRpbmdNYW5hZ2VyIiwibWF0ZXJpYWxzIiwicmVnZXhwIiwidmVydGV4X3BhdHRlcm4iLCJub3JtYWxfcGF0dGVybiIsInV2X3BhdHRlcm4iLCJmYWNlX3ZlcnRleCIsImZhY2VfdmVydGV4X3V2IiwiZmFjZV92ZXJ0ZXhfdXZfbm9ybWFsIiwiZmFjZV92ZXJ0ZXhfbm9ybWFsIiwib2JqZWN0X3BhdHRlcm4iLCJzbW9vdGhpbmdfcGF0dGVybiIsIm1hdGVyaWFsX2xpYnJhcnlfcGF0dGVybiIsIm1hdGVyaWFsX3VzZV9wYXR0ZXJuIiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJsb2FkIiwidXJsIiwib25Mb2FkIiwib25Qcm9ncmVzcyIsIm9uRXJyb3IiLCJzY29wZSIsImxvYWRlciIsIkZpbGVMb2FkZXIiLCJzZXRQYXRoIiwicGF0aCIsInRleHQiLCJwYXJzZSIsInZhbHVlIiwic2V0TWF0ZXJpYWxzIiwiX2NyZWF0ZVBhcnNlclN0YXRlIiwic3RhdGUiLCJvYmplY3RzIiwib2JqZWN0IiwidmVydGljZXMiLCJub3JtYWxzIiwidXZzIiwibWF0ZXJpYWxMaWJyYXJpZXMiLCJzdGFydE9iamVjdCIsIm5hbWUiLCJmcm9tRGVjbGFyYXRpb24iLCJwcmV2aW91c01hdGVyaWFsIiwiY3VycmVudE1hdGVyaWFsIiwiX2ZpbmFsaXplIiwiZ2VvbWV0cnkiLCJzbW9vdGgiLCJzdGFydE1hdGVyaWFsIiwibGlicmFyaWVzIiwicHJldmlvdXMiLCJpbmhlcml0ZWQiLCJncm91cENvdW50Iiwic3BsaWNlIiwiaW5kZXgiLCJtYXRlcmlhbCIsIm10bGxpYiIsImlzQXJyYXkiLCJncm91cFN0YXJ0IiwiZ3JvdXBFbmQiLCJjbG9uZSIsImNsb25lZCIsImJpbmQiLCJwdXNoIiwiZW5kIiwibGFzdE11bHRpTWF0ZXJpYWwiLCJtaSIsImRlY2xhcmVkIiwiZmluYWxpemUiLCJwYXJzZVZlcnRleEluZGV4IiwibGVuIiwicGFyc2VJbnQiLCJwYXJzZU5vcm1hbEluZGV4IiwicGFyc2VVVkluZGV4IiwiYWRkVmVydGV4IiwiYSIsImIiLCJjIiwic3JjIiwiZHN0IiwiYWRkVmVydGV4TGluZSIsImFkZE5vcm1hbCIsImFkZFVWIiwiYWRkVVZMaW5lIiwiYWRkRmFjZSIsImQiLCJ1YSIsInViIiwidWMiLCJ1ZCIsIm5hIiwibmIiLCJuYyIsIm5kIiwiaWQiLCJ2TGVuIiwiaWEiLCJpYiIsImljIiwidXZMZW4iLCJuTGVuIiwiYWRkTGluZUdlb21ldHJ5IiwidHlwZSIsInZpIiwibCIsInV2aSIsImRlYnVnIiwiY29uc29sZSIsInRpbWUiLCJpbmRleE9mIiwicmVwbGFjZSIsImxpbmVzIiwic3BsaXQiLCJsaW5lIiwibGluZUZpcnN0Q2hhciIsImxpbmVTZWNvbmRDaGFyIiwicmVzdWx0IiwidHJpbUxlZnQiLCJpIiwidHJpbSIsImNoYXJBdCIsImV4ZWMiLCJwYXJzZUZsb2F0IiwibGluZVBhcnRzIiwic3Vic3RyaW5nIiwibGluZVZlcnRpY2VzIiwibGluZVVWcyIsImxpIiwibGxlbiIsInBhcnRzIiwic3Vic3RyIiwidGVzdCIsInRvTG93ZXJDYXNlIiwiY29udGFpbmVyIiwiaXNMaW5lIiwiYnVmZmVyZ2VvbWV0cnkiLCJCdWZmZXJHZW9tZXRyeSIsImFkZEF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsIkZsb2F0MzJBcnJheSIsImNvbXB1dGVWZXJ0ZXhOb3JtYWxzIiwibWVzaCIsImNyZWF0ZWRNYXRlcmlhbHMiLCJtaUxlbiIsInNvdXJjZU1hdGVyaWFsIiwiY3JlYXRlIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJtYXRlcmlhbExpbmUiLCJNZXNoUGhvbmdNYXRlcmlhbCIsInNoYWRpbmciLCJTbW9vdGhTaGFkaW5nIiwiRmxhdFNoYWRpbmciLCJhZGRHcm91cCIsIm11bHRpTWF0ZXJpYWwiLCJNdWx0aU1hdGVyaWFsIiwiTGluZVNlZ21lbnRzIiwiTWVzaCIsInRpbWVFbmQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIlRyZWVFeGFtcGxlIiwiX3JlZiIsInNjZW5lIiwic2V0dXBDYW1lcmEiLCJyZW5kZXJlciIsInNoYWRvd01hcCIsImVuYWJsZWQiLCJyb290IiwibG9hZFRyZWUiLCJzZXR1cExpZ2h0cyIsInBlcmNlbnRhZ2UiLCJsaWdodHMiLCJMaWdodHMiLCJyb3RhdGVZIiwiUEkiLCJhc3BlY3QiLCJmcnVzdHVtU2l6ZSIsImxvb2tBdCIsIm9uSGVhZFJlYWR5Iiwib25UcmVlUmVhZHkiLCJvbkhlYWRMb2FkaW5nIiwidHJlZSIsImVycm9yIiwibG9nIiwieGhyIiwibG9hZGluZyIsImxvYWRlZCIsInRvdGFsIiwic2luIiwibmV3UG9zaXRpb24iLCJhZGRUcmVlIiwibmV3VHJlZSIsInNjYWxlIiwiY2hpbGRyZW4iLCJzZXRSR0IiLCJ0aW1lRWxhcHNlZCIsImRlbHRhIiwidHJhdmVyc2UiLCJvbGRTY2FsZSIsInkiLCJhYnMiXSwibWFwcGluZ3MiOiIwd0JBS3FCQSxjQUNuQixTQUFBQSxJQUFjLElBQUFDLCtGQUFBQyxDQUFBQyxLQUFBSCxHQUNaQyxFQUFBRyxFQUFBRCxLQUFBRSxFQUFBTCxHQUFBTSxLQUFBSCxPQUVBLElBQU1JLEVBQVksSUFBSUMsa0JBQWlCLFNBQVUsU0FBVSxHQUgvQyxPQUlkRCxFQUFVRSxNQUFNQyxPQUNmQyxLQUFLQyxhQUFhLEtBQ2xCLEdBQ0EsS0FFREwsRUFBVU0sWUFBWUgsT0FDckJDLEtBQUtDLGFBQWEsS0FDbEIsR0FDQSxLQUVETCxFQUFVTyxTQUFTQyxJQUFLLEVBQUcsRUFBRyxHQUM5QmQsRUFBS2UsSUFBS1QsR0FmSU4sOE9BRHVCZ0IsbWdDQ0V2QyxJQUFNQyxFQUFnQixDQUNsQkMsVUFBVyxFQUNYQyxZQUFZLEVBQ1pDLEtBQU0sRUFDTkMscUJBQWlCQyxFQUNqQkMsUUFBUyxLQUdRQyxjQUNqQixTQUFBQSxJQUFxQixJQUFBQyxFQUFBekIsK0ZBQUFDLENB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QUcxSSxTQUFTLEdBQUd4RyxNQUFNbVAsT0FBTyxHQUFLLEVBQUcsSUFDckR6UCxLQUFLOE4sS0FBS2pOLElBQUl5TyxrQ0FHVEksRUFBYUMsR0FDbEIsSUFBSXRHLEVBQUssRUFDVHJKLEtBQUs4TixLQUFLOEIsU0FBUyxTQUFDaEIsR0FDbEIsSUFBTWlCLEVBQVdqQixFQUFLVyxNQUFNcEksUUFDNUIwSSxFQUFTQyxFQUFJdFAsS0FBS3VQLElBQUt2UCxLQUFLMk8sSUFBSU8sRUFBY3JHLElBQVEsR0FDdER1RixFQUFLVyxNQUFNL00sS0FBS3FOLEdBQ2hCeEciLCJmaWxlIjoiLi9qcy9UcmVlRXhhbXBsZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuXHRHcm91cCxcblx0SGVtaXNwaGVyZUxpZ2h0XG59IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2hpdGVIZW1pIGV4dGVuZHMgR3JvdXAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgY29uc3QgaGVtaUxpZ2h0ID0gbmV3IEhlbWlzcGhlcmVMaWdodCggMHhmZmZmZmYsIDB4ZmZmZmZmLCAzLjAgKTtcblx0XHRoZW1pTGlnaHQuY29sb3Iuc2V0SFNMKFxuXHRcdFx0TWF0aC5Ob3JtYWxpemVIdWUoMzI1KSwgXG5cdFx0XHQwLjEsXG5cdFx0XHQwLjk0XG5cdFx0KTtcblx0XHRoZW1pTGlnaHQuZ3JvdW5kQ29sb3Iuc2V0SFNMKFxuXHRcdFx0TWF0aC5Ob3JtYWxpemVIdWUoMzI1KSwgXG5cdFx0XHQwLjEsIFxuXHRcdFx0MC42NFxuXHRcdCk7XG5cdFx0aGVtaUxpZ2h0LnBvc2l0aW9uLnNldCggMCwgMiwgMCApO1xuXHRcdHRoaXMuYWRkKCBoZW1pTGlnaHQgKTtcblx0fVxufVxuIiwiaW1wb3J0IHtcbiAgICBHcm91cCxcbiAgICBEaXJlY3Rpb25hbExpZ2h0LFxuICAgIFZlY3RvcjNcbiAgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgV2hpdGVIZW1pIGZyb20gJy4vV2hpdGVIZW1pLmpzJztcblxuY29uc3QgZGVmYXVsdFBhcmFtcyA9IHtcbiAgICBpbnRlbnNpdHk6IDEsXG4gICAgY2FzdFNoYWRvdzogZmFsc2UsXG4gICAgYmlhczogMCxcbiAgICBwcm9qZWN0aW9uU2lkZXM6IHVuZGVmaW5lZCxcbiAgICBtYXBTaXplOiA1MTIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3b0RpcmVjdGlvbmFscyBleHRlbmRzIEdyb3VwIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuXHRcdGNvbnN0IHtcbiAgICAgICAgICAgIGludGVuc2l0eSxcbiAgICAgICAgICAgIGNhc3RTaGFkb3csXG4gICAgICAgICAgICBiaWFzLFxuICAgICAgICAgICAgcHJvamVjdGlvblNpZGVzLFxuICAgICAgICAgICAgbWFwU2l6ZVxuICAgICAgICB9ID0ge1xuICAgICAgICAgICAgLi4uZGVmYXVsdFBhcmFtcyxcbiAgICAgICAgICAgIC4uLmFyZ3NbMF1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSBpbnRlbnNpdHk7XG4gICAgICAgIHRoaXMucHJvamVjdGlvblNpZGVzID0gcHJvamVjdGlvblNpZGVzO1xuICAgICAgICB0aGlzLm1hcFNpemUgPSBtYXBTaXplO1xuICAgICAgICBcbiAgICAgICAgLyogY29uc3Qgd2hpdGVFbWkgPSBuZXcgV2hpdGVIZW1pKCk7XG4gICAgICAgIHRoaXMuYWRkKHdoaXRlRW1pKTsgKi9cblxuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoJ3doaXRlJywgMC42NSAqIHRoaXMuaW50ZW5zaXR5KTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodDIgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgnd2hpdGUnLCAwLjU1ICogdGhpcy5pbnRlbnNpdHkpO1xuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5iaWFzID0gYmlhcyB8fCAwO1xuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5zaGFkb3cuYmlhcyA9IGJpYXMgfHwgMDtcbiAgICAgICAgXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuY2FzdFNoYWRvdyA9IGNhc3RTaGFkb3c7XG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLmNhc3RTaGFkb3cgPSBjYXN0U2hhZG93O1xuXG4gICAgICAgIHRoaXMudXBkYXRlUHJvamVjdGlvbihkaXJlY3Rpb25hbExpZ2h0LCB0aGlzLnByb2plY3Rpb25TaWRlcyk7XG4gICAgICAgIHRoaXMudXBkYXRlUHJvamVjdGlvbihkaXJlY3Rpb25hbExpZ2h0MiwgdGhpcy5wcm9qZWN0aW9uU2lkZXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNoYWRvd01hcChkaXJlY3Rpb25hbExpZ2h0LCB0aGlzLm1hcFNpemUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNoYWRvd01hcChkaXJlY3Rpb25hbExpZ2h0LCB0aGlzLm1hcFNpemUpO1xuXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24uY29weShcbiAgICAgICAgICAgIG5ldyBWZWN0b3IzKFxuICAgICAgICAgICAgICAgIDksXG4gICAgICAgICAgICAgICAgMy41LFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgLTEwLFxuICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuYWRkKGRpcmVjdGlvbmFsTGlnaHQsIGRpcmVjdGlvbmFsTGlnaHQyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQcm9qZWN0aW9uKGxpZ2h0LCBwcm9qZWN0aW9uU2lkZXMpIHtcbiAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gLXByb2plY3Rpb25TaWRlcztcbiAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IHByb2plY3Rpb25TaWRlcztcbiAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlU2hhZG93TWFwKGxpZ2h0LCBtYXBTaXplKSB7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gbWFwU2l6ZTtcbiAgICAgICAgbGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gbWFwU2l6ZTtcbiAgICB9XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBkZWZhdWx0T25FcnJvcihlcnIpIHtcbiAgdGhyb3cgbmV3IEVycm9yKGVycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRIUkVFKSB7XG5cbiAgLyoqXG4gICAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gICAqL1xuXG4gIFRIUkVFLk9CSkxvYWRlciA9IGZ1bmN0aW9uIChtYW5hZ2VyKSB7XG5cbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyICE9PSB1bmRlZmluZWQgPyBtYW5hZ2VyIDogVEhSRUUuRGVmYXVsdExvYWRpbmdNYW5hZ2VyO1xuXG4gICAgdGhpcy5tYXRlcmlhbHMgPSBudWxsO1xuXG4gICAgdGhpcy5yZWdleHAgPSB7XG4gICAgICAvLyB2IGZsb2F0IGZsb2F0IGZsb2F0XG4gICAgICB2ZXJ0ZXhfcGF0dGVybjogL152XFxzKyhbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKVxccysoW1xcZHxcXC58XFwrfFxcLXxlfEVdKylcXHMrKFtcXGR8XFwufFxcK3xcXC18ZXxFXSspLyxcbiAgICAgIC8vIHZuIGZsb2F0IGZsb2F0IGZsb2F0XG4gICAgICBub3JtYWxfcGF0dGVybjogL152blxccysoW1xcZHxcXC58XFwrfFxcLXxlfEVdKylcXHMrKFtcXGR8XFwufFxcK3xcXC18ZXxFXSspXFxzKyhbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKS8sXG4gICAgICAvLyB2dCBmbG9hdCBmbG9hdFxuICAgICAgdXZfcGF0dGVybjogL152dFxccysoW1xcZHxcXC58XFwrfFxcLXxlfEVdKylcXHMrKFtcXGR8XFwufFxcK3xcXC18ZXxFXSspLyxcbiAgICAgIC8vIGYgdmVydGV4IHZlcnRleCB2ZXJ0ZXhcbiAgICAgIGZhY2VfdmVydGV4OiAvXmZcXHMrKC0/XFxkKylcXHMrKC0/XFxkKylcXHMrKC0/XFxkKykoPzpcXHMrKC0/XFxkKykpPy8sXG4gICAgICAvLyBmIHZlcnRleC91diB2ZXJ0ZXgvdXYgdmVydGV4L3V2XG4gICAgICBmYWNlX3ZlcnRleF91djogL15mXFxzKygtP1xcZCspXFwvKC0/XFxkKylcXHMrKC0/XFxkKylcXC8oLT9cXGQrKVxccysoLT9cXGQrKVxcLygtP1xcZCspKD86XFxzKygtP1xcZCspXFwvKC0/XFxkKykpPy8sXG4gICAgICAvLyBmIHZlcnRleC91di9ub3JtYWwgdmVydGV4L3V2L25vcm1hbCB2ZXJ0ZXgvdXYvbm9ybWFsXG4gICAgICBmYWNlX3ZlcnRleF91dl9ub3JtYWw6IC9eZlxccysoLT9cXGQrKVxcLygtP1xcZCspXFwvKC0/XFxkKylcXHMrKC0/XFxkKylcXC8oLT9cXGQrKVxcLygtP1xcZCspXFxzKygtP1xcZCspXFwvKC0/XFxkKylcXC8oLT9cXGQrKSg/OlxccysoLT9cXGQrKVxcLygtP1xcZCspXFwvKC0/XFxkKykpPy8sXG4gICAgICAvLyBmIHZlcnRleC8vbm9ybWFsIHZlcnRleC8vbm9ybWFsIHZlcnRleC8vbm9ybWFsXG4gICAgICBmYWNlX3ZlcnRleF9ub3JtYWw6IC9eZlxccysoLT9cXGQrKVxcL1xcLygtP1xcZCspXFxzKygtP1xcZCspXFwvXFwvKC0/XFxkKylcXHMrKC0/XFxkKylcXC9cXC8oLT9cXGQrKSg/OlxccysoLT9cXGQrKVxcL1xcLygtP1xcZCspKT8vLFxuICAgICAgLy8gbyBvYmplY3RfbmFtZSB8IGcgZ3JvdXBfbmFtZVxuICAgICAgb2JqZWN0X3BhdHRlcm46IC9eW29nXVxccyooLispPy8sXG4gICAgICAvLyBzIGJvb2xlYW5cbiAgICAgIHNtb290aGluZ19wYXR0ZXJuOiAvXnNcXHMrKFxcZCt8b258b2ZmKS8sXG4gICAgICAvLyBtdGxsaWIgZmlsZV9yZWZlcmVuY2VcbiAgICAgIG1hdGVyaWFsX2xpYnJhcnlfcGF0dGVybjogL15tdGxsaWIgLyxcbiAgICAgIC8vIHVzZW10bCBtYXRlcmlhbF9uYW1lXG4gICAgICBtYXRlcmlhbF91c2VfcGF0dGVybjogL151c2VtdGwgL1xuICAgIH07XG4gIH07XG5cbiAgVEhSRUUuT0JKTG9hZGVyLnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0cnVjdG9yOiBUSFJFRS5PQkpMb2FkZXIsXG5cbiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKHVybCwgb25Mb2FkLCBvblByb2dyZXNzLCBvbkVycm9yKSB7XG5cbiAgICAgIHZhciBzY29wZSA9IHRoaXM7XG4gICAgICB0aGlzLm9uRXJyb3IgPSBvbkVycm9yIHx8IGRlZmF1bHRPbkVycm9yO1xuXG4gICAgICB2YXIgbG9hZGVyID0gbmV3IFRIUkVFLkZpbGVMb2FkZXIoc2NvcGUubWFuYWdlcik7XG4gICAgICBsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO1xuICAgICAgbG9hZGVyLmxvYWQodXJsLCBmdW5jdGlvbiAodGV4dCkge1xuXG4gICAgICAgIG9uTG9hZChzY29wZS5wYXJzZSh0ZXh0KSk7XG4gICAgICB9LCBvblByb2dyZXNzLCBvbkVycm9yKTtcbiAgICB9LFxuXG4gICAgc2V0UGF0aDogZnVuY3Rpb24gc2V0UGF0aCh2YWx1ZSkge1xuXG4gICAgICB0aGlzLnBhdGggPSB2YWx1ZTtcbiAgICB9LFxuXG4gICAgc2V0TWF0ZXJpYWxzOiBmdW5jdGlvbiBzZXRNYXRlcmlhbHMobWF0ZXJpYWxzKSB7XG5cbiAgICAgIHRoaXMubWF0ZXJpYWxzID0gbWF0ZXJpYWxzO1xuICAgIH0sXG5cbiAgICBfY3JlYXRlUGFyc2VyU3RhdGU6IGZ1bmN0aW9uIF9jcmVhdGVQYXJzZXJTdGF0ZSgpIHtcblxuICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICBvYmplY3RzOiBbXSxcbiAgICAgICAgb2JqZWN0OiB7fSxcblxuICAgICAgICB2ZXJ0aWNlczogW10sXG4gICAgICAgIG5vcm1hbHM6IFtdLFxuICAgICAgICB1dnM6IFtdLFxuXG4gICAgICAgIG1hdGVyaWFsTGlicmFyaWVzOiBbXSxcblxuICAgICAgICBzdGFydE9iamVjdDogZnVuY3Rpb24gc3RhcnRPYmplY3QobmFtZSwgZnJvbURlY2xhcmF0aW9uKSB7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBvYmplY3QgKGluaXRpYWwgZnJvbSByZXNldCkgaXMgbm90IGZyb20gYSBnL28gZGVjbGFyYXRpb24gaW4gdGhlIHBhcnNlZFxuICAgICAgICAgIC8vIGZpbGUuIFdlIG5lZWQgdG8gdXNlIGl0IGZvciB0aGUgZmlyc3QgcGFyc2VkIGcvbyB0byBrZWVwIHRoaW5ncyBpbiBzeW5jLlxuICAgICAgICAgIGlmICh0aGlzLm9iamVjdCAmJiB0aGlzLm9iamVjdC5mcm9tRGVjbGFyYXRpb24gPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgIHRoaXMub2JqZWN0Lm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QuZnJvbURlY2xhcmF0aW9uID0gZnJvbURlY2xhcmF0aW9uICE9PSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJldmlvdXNNYXRlcmlhbCA9IHRoaXMub2JqZWN0ICYmIHR5cGVvZiB0aGlzLm9iamVjdC5jdXJyZW50TWF0ZXJpYWwgPT09ICdmdW5jdGlvbicgPyB0aGlzLm9iamVjdC5jdXJyZW50TWF0ZXJpYWwoKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmICh0aGlzLm9iamVjdCAmJiB0eXBlb2YgdGhpcy5vYmplY3QuX2ZpbmFsaXplID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgIHRoaXMub2JqZWN0Ll9maW5hbGl6ZSh0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLm9iamVjdCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgfHwgJycsXG4gICAgICAgICAgICBmcm9tRGVjbGFyYXRpb246IGZyb21EZWNsYXJhdGlvbiAhPT0gZmFsc2UsXG5cbiAgICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICAgIHZlcnRpY2VzOiBbXSxcbiAgICAgICAgICAgICAgbm9ybWFsczogW10sXG4gICAgICAgICAgICAgIHV2czogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXRlcmlhbHM6IFtdLFxuICAgICAgICAgICAgc21vb3RoOiB0cnVlLFxuXG4gICAgICAgICAgICBzdGFydE1hdGVyaWFsOiBmdW5jdGlvbiBzdGFydE1hdGVyaWFsKG5hbWUsIGxpYnJhcmllcykge1xuXG4gICAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuX2ZpbmFsaXplKGZhbHNlKTtcblxuICAgICAgICAgICAgICAvLyBOZXcgdXNlbXRsIGRlY2xhcmF0aW9uIG92ZXJ3cml0ZXMgYW4gaW5oZXJpdGVkIG1hdGVyaWFsLCBleGNlcHQgaWYgZmFjZXMgd2VyZSBkZWNsYXJlZFxuICAgICAgICAgICAgICAvLyBhZnRlciB0aGUgbWF0ZXJpYWwsIHRoZW4gaXQgbXVzdCBiZSBwcmVzZXJ2ZWQgZm9yIHByb3BlciBNdWx0aU1hdGVyaWFsIGNvbnRpbnVhdGlvbi5cbiAgICAgICAgICAgICAgaWYgKHByZXZpb3VzICYmIChwcmV2aW91cy5pbmhlcml0ZWQgfHwgcHJldmlvdXMuZ3JvdXBDb3VudCA8PSAwKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRlcmlhbHMuc3BsaWNlKHByZXZpb3VzLmluZGV4LCAxKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogdGhpcy5tYXRlcmlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgbXRsbGliOiBBcnJheS5pc0FycmF5KGxpYnJhcmllcykgJiYgbGlicmFyaWVzLmxlbmd0aCA+IDAgPyBsaWJyYXJpZXNbbGlicmFyaWVzLmxlbmd0aCAtIDFdIDogJycsXG4gICAgICAgICAgICAgICAgc21vb3RoOiBwcmV2aW91cyAhPT0gdW5kZWZpbmVkID8gcHJldmlvdXMuc21vb3RoIDogdGhpcy5zbW9vdGgsXG4gICAgICAgICAgICAgICAgZ3JvdXBTdGFydDogcHJldmlvdXMgIT09IHVuZGVmaW5lZCA/IHByZXZpb3VzLmdyb3VwRW5kIDogMCxcbiAgICAgICAgICAgICAgICBncm91cEVuZDogLTEsXG4gICAgICAgICAgICAgICAgZ3JvdXBDb3VudDogLTEsXG4gICAgICAgICAgICAgICAgaW5oZXJpdGVkOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZShpbmRleCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGNsb25lZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicgPyBpbmRleCA6IHRoaXMuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbXRsbGliOiB0aGlzLm10bGxpYixcbiAgICAgICAgICAgICAgICAgICAgc21vb3RoOiB0aGlzLnNtb290aCxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBTdGFydDogMCxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBFbmQ6IC0xLFxuICAgICAgICAgICAgICAgICAgICBncm91cENvdW50OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgaW5oZXJpdGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGNsb25lZC5jbG9uZSA9IHRoaXMuY2xvbmUuYmluZChjbG9uZWQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgdGhpcy5tYXRlcmlhbHMucHVzaChtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgY3VycmVudE1hdGVyaWFsOiBmdW5jdGlvbiBjdXJyZW50TWF0ZXJpYWwoKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXMubWF0ZXJpYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbHNbdGhpcy5tYXRlcmlhbHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgX2ZpbmFsaXplOiBmdW5jdGlvbiBfZmluYWxpemUoZW5kKSB7XG5cbiAgICAgICAgICAgICAgdmFyIGxhc3RNdWx0aU1hdGVyaWFsID0gdGhpcy5jdXJyZW50TWF0ZXJpYWwoKTtcbiAgICAgICAgICAgICAgaWYgKGxhc3RNdWx0aU1hdGVyaWFsICYmIGxhc3RNdWx0aU1hdGVyaWFsLmdyb3VwRW5kID09PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBFbmQgPSB0aGlzLmdlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aCAvIDM7XG4gICAgICAgICAgICAgICAgbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBDb3VudCA9IGxhc3RNdWx0aU1hdGVyaWFsLmdyb3VwRW5kIC0gbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBTdGFydDtcbiAgICAgICAgICAgICAgICBsYXN0TXVsdGlNYXRlcmlhbC5pbmhlcml0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElnbm9yZSBvYmplY3RzIHRhaWwgbWF0ZXJpYWxzIGlmIG5vIGZhY2UgZGVjbGFyYXRpb25zIGZvbGxvd2VkIHRoZW0gYmVmb3JlIGEgbmV3IG8vZyBzdGFydGVkLlxuICAgICAgICAgICAgICBpZiAoZW5kICYmIHRoaXMubWF0ZXJpYWxzLmxlbmd0aCA+IDEpIHtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIG1pID0gdGhpcy5tYXRlcmlhbHMubGVuZ3RoIC0gMTsgbWkgPj0gMDsgbWktLSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF0ZXJpYWxzW21pXS5ncm91cENvdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRlcmlhbHMuc3BsaWNlKG1pLCAxKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBHdWFyYW50ZWUgYXQgbGVhc3Qgb25lIGVtcHR5IG1hdGVyaWFsLCB0aGlzIG1ha2VzIHRoZSBjcmVhdGlvbiBsYXRlciBtb3JlIHN0cmFpZ2h0IGZvcndhcmQuXG4gICAgICAgICAgICAgIGlmIChlbmQgJiYgdGhpcy5tYXRlcmlhbHMubGVuZ3RoID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1hdGVyaWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgICAgICAgc21vb3RoOiB0aGlzLnNtb290aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RNdWx0aU1hdGVyaWFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBJbmhlcml0IHByZXZpb3VzIG9iamVjdHMgbWF0ZXJpYWwuXG4gICAgICAgICAgLy8gU3BlYyB0ZWxscyB1cyB0aGF0IGEgZGVjbGFyZWQgbWF0ZXJpYWwgbXVzdCBiZSBzZXQgdG8gYWxsIG9iamVjdHMgdW50aWwgYSBuZXcgbWF0ZXJpYWwgaXMgZGVjbGFyZWQuXG4gICAgICAgICAgLy8gSWYgYSB1c2VtdGwgZGVjbGFyYXRpb24gaXMgZW5jb3VudGVyZWQgd2hpbGUgdGhpcyBuZXcgb2JqZWN0IGlzIGJlaW5nIHBhcnNlZCwgaXQgd2lsbFxuICAgICAgICAgIC8vIG92ZXJ3cml0ZSB0aGUgaW5oZXJpdGVkIG1hdGVyaWFsLiBFeGNlcHRpb24gYmVpbmcgdGhhdCB0aGVyZSB3YXMgYWxyZWFkeSBmYWNlIGRlY2xhcmF0aW9uc1xuICAgICAgICAgIC8vIHRvIHRoZSBpbmhlcml0ZWQgbWF0ZXJpYWwsIHRoZW4gaXQgd2lsbCBiZSBwcmVzZXJ2ZWQgZm9yIHByb3BlciBNdWx0aU1hdGVyaWFsIGNvbnRpbnVhdGlvbi5cblxuICAgICAgICAgIGlmIChwcmV2aW91c01hdGVyaWFsICYmIHByZXZpb3VzTWF0ZXJpYWwubmFtZSAmJiB0eXBlb2YgcHJldmlvdXNNYXRlcmlhbC5jbG9uZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cbiAgICAgICAgICAgIHZhciBkZWNsYXJlZCA9IHByZXZpb3VzTWF0ZXJpYWwuY2xvbmUoMCk7XG4gICAgICAgICAgICBkZWNsYXJlZC5pbmhlcml0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QubWF0ZXJpYWxzLnB1c2goZGVjbGFyZWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKHRoaXMub2JqZWN0KTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5hbGl6ZTogZnVuY3Rpb24gZmluYWxpemUoKSB7XG5cbiAgICAgICAgICBpZiAodGhpcy5vYmplY3QgJiYgdHlwZW9mIHRoaXMub2JqZWN0Ll9maW5hbGl6ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5fZmluYWxpemUodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlVmVydGV4SW5kZXg6IGZ1bmN0aW9uIHBhcnNlVmVydGV4SW5kZXgodmFsdWUsIGxlbikge1xuXG4gICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICByZXR1cm4gKGluZGV4ID49IDAgPyBpbmRleCAtIDEgOiBpbmRleCArIGxlbiAvIDMpICogMztcbiAgICAgICAgfSxcblxuICAgICAgICBwYXJzZU5vcm1hbEluZGV4OiBmdW5jdGlvbiBwYXJzZU5vcm1hbEluZGV4KHZhbHVlLCBsZW4pIHtcblxuICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgcmV0dXJuIChpbmRleCA+PSAwID8gaW5kZXggLSAxIDogaW5kZXggKyBsZW4gLyAzKSAqIDM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFyc2VVVkluZGV4OiBmdW5jdGlvbiBwYXJzZVVWSW5kZXgodmFsdWUsIGxlbikge1xuXG4gICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICByZXR1cm4gKGluZGV4ID49IDAgPyBpbmRleCAtIDEgOiBpbmRleCArIGxlbiAvIDIpICogMjtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRWZXJ0ZXg6IGZ1bmN0aW9uIGFkZFZlcnRleChhLCBiLCBjKSB7XG5cbiAgICAgICAgICB2YXIgc3JjID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgICB2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudmVydGljZXM7XG5cbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDJdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDJdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDJdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRWZXJ0ZXhMaW5lOiBmdW5jdGlvbiBhZGRWZXJ0ZXhMaW5lKGEpIHtcblxuICAgICAgICAgIHZhciBzcmMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICAgIHZhciBkc3QgPSB0aGlzLm9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlcztcblxuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMl0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZE5vcm1hbDogZnVuY3Rpb24gYWRkTm9ybWFsKGEsIGIsIGMpIHtcblxuICAgICAgICAgIHZhciBzcmMgPSB0aGlzLm5vcm1hbHM7XG4gICAgICAgICAgdmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5Lm5vcm1hbHM7XG5cbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDJdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDJdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDJdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRVVjogZnVuY3Rpb24gYWRkVVYoYSwgYiwgYykge1xuXG4gICAgICAgICAgdmFyIHNyYyA9IHRoaXMudXZzO1xuICAgICAgICAgIHZhciBkc3QgPSB0aGlzLm9iamVjdC5nZW9tZXRyeS51dnM7XG5cbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYSArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYiArIDFdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDBdKTtcbiAgICAgICAgICBkc3QucHVzaChzcmNbYyArIDFdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRVVkxpbmU6IGZ1bmN0aW9uIGFkZFVWTGluZShhKSB7XG5cbiAgICAgICAgICB2YXIgc3JjID0gdGhpcy51dnM7XG4gICAgICAgICAgdmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5LnV2cztcblxuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMV0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZEZhY2U6IGZ1bmN0aW9uIGFkZEZhY2UoYSwgYiwgYywgZCwgdWEsIHViLCB1YywgdWQsIG5hLCBuYiwgbmMsIG5kKSB7XG5cbiAgICAgICAgICB2YXIgdkxlbiA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xuXG4gICAgICAgICAgdmFyIGlhID0gdGhpcy5wYXJzZVZlcnRleEluZGV4KGEsIHZMZW4pO1xuICAgICAgICAgIHZhciBpYiA9IHRoaXMucGFyc2VWZXJ0ZXhJbmRleChiLCB2TGVuKTtcbiAgICAgICAgICB2YXIgaWMgPSB0aGlzLnBhcnNlVmVydGV4SW5kZXgoYywgdkxlbik7XG4gICAgICAgICAgdmFyIGlkO1xuXG4gICAgICAgICAgaWYgKGQgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICB0aGlzLmFkZFZlcnRleChpYSwgaWIsIGljKTtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZCA9IHRoaXMucGFyc2VWZXJ0ZXhJbmRleChkLCB2TGVuKTtcblxuICAgICAgICAgICAgdGhpcy5hZGRWZXJ0ZXgoaWEsIGliLCBpZCk7XG4gICAgICAgICAgICB0aGlzLmFkZFZlcnRleChpYiwgaWMsIGlkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodWEgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICB2YXIgdXZMZW4gPSB0aGlzLnV2cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlhID0gdGhpcy5wYXJzZVVWSW5kZXgodWEsIHV2TGVuKTtcbiAgICAgICAgICAgIGliID0gdGhpcy5wYXJzZVVWSW5kZXgodWIsIHV2TGVuKTtcbiAgICAgICAgICAgIGljID0gdGhpcy5wYXJzZVVWSW5kZXgodWMsIHV2TGVuKTtcblxuICAgICAgICAgICAgaWYgKGQgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgIHRoaXMuYWRkVVYoaWEsIGliLCBpYyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgIGlkID0gdGhpcy5wYXJzZVVWSW5kZXgodWQsIHV2TGVuKTtcblxuICAgICAgICAgICAgICB0aGlzLmFkZFVWKGlhLCBpYiwgaWQpO1xuICAgICAgICAgICAgICB0aGlzLmFkZFVWKGliLCBpYywgaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuYSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIC8vIE5vcm1hbHMgYXJlIG1hbnkgdGltZXMgdGhlIHNhbWUuIElmIHNvLCBza2lwIGZ1bmN0aW9uIGNhbGwgYW5kIHBhcnNlSW50LlxuICAgICAgICAgICAgdmFyIG5MZW4gPSB0aGlzLm5vcm1hbHMubGVuZ3RoO1xuICAgICAgICAgICAgaWEgPSB0aGlzLnBhcnNlTm9ybWFsSW5kZXgobmEsIG5MZW4pO1xuXG4gICAgICAgICAgICBpYiA9IG5hID09PSBuYiA/IGlhIDogdGhpcy5wYXJzZU5vcm1hbEluZGV4KG5iLCBuTGVuKTtcbiAgICAgICAgICAgIGljID0gbmEgPT09IG5jID8gaWEgOiB0aGlzLnBhcnNlTm9ybWFsSW5kZXgobmMsIG5MZW4pO1xuXG4gICAgICAgICAgICBpZiAoZCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgdGhpcy5hZGROb3JtYWwoaWEsIGliLCBpYyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgIGlkID0gdGhpcy5wYXJzZU5vcm1hbEluZGV4KG5kLCBuTGVuKTtcblxuICAgICAgICAgICAgICB0aGlzLmFkZE5vcm1hbChpYSwgaWIsIGlkKTtcbiAgICAgICAgICAgICAgdGhpcy5hZGROb3JtYWwoaWIsIGljLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZExpbmVHZW9tZXRyeTogZnVuY3Rpb24gYWRkTGluZUdlb21ldHJ5KHZlcnRpY2VzLCB1dnMpIHtcblxuICAgICAgICAgIHRoaXMub2JqZWN0Lmdlb21ldHJ5LnR5cGUgPSAnTGluZSc7XG5cbiAgICAgICAgICB2YXIgdkxlbiA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xuICAgICAgICAgIHZhciB1dkxlbiA9IHRoaXMudXZzLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAodmFyIHZpID0gMCwgbCA9IHZlcnRpY2VzLmxlbmd0aDsgdmkgPCBsOyB2aSsrKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVmVydGV4TGluZSh0aGlzLnBhcnNlVmVydGV4SW5kZXgodmVydGljZXNbdmldLCB2TGVuKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yICh2YXIgdXZpID0gMCwgbCA9IHV2cy5sZW5ndGg7IHV2aSA8IGw7IHV2aSsrKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVVZMaW5lKHRoaXMucGFyc2VVVkluZGV4KHV2c1t1dmldLCB1dkxlbikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9O1xuXG4gICAgICBzdGF0ZS5zdGFydE9iamVjdCgnJywgZmFsc2UpO1xuXG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSxcblxuICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZSh0ZXh0LCBkZWJ1Zykge1xuICAgICAgaWYgKHR5cGVvZiBkZWJ1ZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVidWcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgY29uc29sZS50aW1lKCdPQkpMb2FkZXInKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXRlID0gdGhpcy5fY3JlYXRlUGFyc2VyU3RhdGUoKTtcblxuICAgICAgaWYgKHRleHQuaW5kZXhPZignXFxyXFxuJykgIT09IC0xKSB7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBmYXN0ZXIgdGhhbiBTdHJpbmcuc3BsaXQgd2l0aCByZWdleCB0aGF0IHNwbGl0cyBvbiBib3RoXG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcclxcbi9nLCAnXFxuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXh0LmluZGV4T2YoJ1xcXFxcXG4nKSAhPT0gLTEpIHtcblxuICAgICAgICAvLyBqb2luIGxpbmVzIHNlcGFyYXRlZCBieSBhIGxpbmUgY29udGludWF0aW9uIGNoYXJhY3RlciAoXFwpXG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcXFxcXG4vZywgJycpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBsaW5lID0gJycsXG4gICAgICAgICAgbGluZUZpcnN0Q2hhciA9ICcnLFxuICAgICAgICAgIGxpbmVTZWNvbmRDaGFyID0gJyc7XG4gICAgICB2YXIgbGluZUxlbmd0aCA9IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIC8vIEZhc3RlciB0byBqdXN0IHRyaW0gbGVmdCBzaWRlIG9mIHRoZSBsaW5lLiBVc2UgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFyIHRyaW1MZWZ0ID0gdHlwZW9mICcnLnRyaW1MZWZ0ID09PSAnZnVuY3Rpb24nO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgIGxpbmUgPSBsaW5lc1tpXTtcblxuICAgICAgICBsaW5lID0gdHJpbUxlZnQgPyBsaW5lLnRyaW1MZWZ0KCkgOiBsaW5lLnRyaW0oKTtcblxuICAgICAgICBsaW5lTGVuZ3RoID0gbGluZS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGxpbmVMZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgIGxpbmVGaXJzdENoYXIgPSBsaW5lLmNoYXJBdCgwKTtcblxuICAgICAgICAvLyBAdG9kbyBpbnZva2UgcGFzc2VkIGluIGhhbmRsZXIgaWYgYW55XG4gICAgICAgIGlmIChsaW5lRmlyc3RDaGFyID09PSAnIycpIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChsaW5lRmlyc3RDaGFyID09PSAndicpIHtcblxuICAgICAgICAgIGxpbmVTZWNvbmRDaGFyID0gbGluZS5jaGFyQXQoMSk7XG5cbiAgICAgICAgICBpZiAobGluZVNlY29uZENoYXIgPT09ICcgJyAmJiAocmVzdWx0ID0gdGhpcy5yZWdleHAudmVydGV4X3BhdHRlcm4uZXhlYyhsaW5lKSkgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgLy8gMCAgICAgICAgICAgICAgICAgIDEgICAgICAyICAgICAgM1xuICAgICAgICAgICAgLy8gW1widiAxLjAgMi4wIDMuMFwiLCBcIjEuMFwiLCBcIjIuMFwiLCBcIjMuMFwiXVxuXG4gICAgICAgICAgICBzdGF0ZS52ZXJ0aWNlcy5wdXNoKHBhcnNlRmxvYXQocmVzdWx0WzFdKSwgcGFyc2VGbG9hdChyZXN1bHRbMl0pLCBwYXJzZUZsb2F0KHJlc3VsdFszXSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGluZVNlY29uZENoYXIgPT09ICduJyAmJiAocmVzdWx0ID0gdGhpcy5yZWdleHAubm9ybWFsX3BhdHRlcm4uZXhlYyhsaW5lKSkgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgLy8gMCAgICAgICAgICAgICAgICAgICAxICAgICAgMiAgICAgIDNcbiAgICAgICAgICAgIC8vIFtcInZuIDEuMCAyLjAgMy4wXCIsIFwiMS4wXCIsIFwiMi4wXCIsIFwiMy4wXCJdXG5cbiAgICAgICAgICAgIHN0YXRlLm5vcm1hbHMucHVzaChwYXJzZUZsb2F0KHJlc3VsdFsxXSksIHBhcnNlRmxvYXQocmVzdWx0WzJdKSwgcGFyc2VGbG9hdChyZXN1bHRbM10pKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxpbmVTZWNvbmRDaGFyID09PSAndCcgJiYgKHJlc3VsdCA9IHRoaXMucmVnZXhwLnV2X3BhdHRlcm4uZXhlYyhsaW5lKSkgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgLy8gMCAgICAgICAgICAgICAgIDEgICAgICAyXG4gICAgICAgICAgICAvLyBbXCJ2dCAwLjEgMC4yXCIsIFwiMC4xXCIsIFwiMC4yXCJdXG5cbiAgICAgICAgICAgIHN0YXRlLnV2cy5wdXNoKHBhcnNlRmxvYXQocmVzdWx0WzFdKSwgcGFyc2VGbG9hdChyZXN1bHRbMl0pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJVbmV4cGVjdGVkIHZlcnRleC9ub3JtYWwvdXYgbGluZTogJ1wiICsgbGluZSArIFwiJ1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGluZUZpcnN0Q2hhciA9PT0gXCJmXCIpIHtcblxuICAgICAgICAgIGlmICgocmVzdWx0ID0gdGhpcy5yZWdleHAuZmFjZV92ZXJ0ZXhfdXZfbm9ybWFsLmV4ZWMobGluZSkpICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIC8vIGYgdmVydGV4L3V2L25vcm1hbCB2ZXJ0ZXgvdXYvbm9ybWFsIHZlcnRleC91di9ub3JtYWxcbiAgICAgICAgICAgIC8vIDAgICAgICAgICAgICAgICAgICAgICAgICAxICAgIDIgICAgMyAgICA0ICAgIDUgICAgNiAgICA3ICAgIDggICAgOSAgIDEwICAgICAgICAgMTEgICAgICAgICAxMlxuICAgICAgICAgICAgLy8gW1wiZiAxLzEvMSAyLzIvMiAzLzMvM1wiLCBcIjFcIiwgXCIxXCIsIFwiMVwiLCBcIjJcIiwgXCIyXCIsIFwiMlwiLCBcIjNcIiwgXCIzXCIsIFwiM1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuXG4gICAgICAgICAgICBzdGF0ZS5hZGRGYWNlKHJlc3VsdFsxXSwgcmVzdWx0WzRdLCByZXN1bHRbN10sIHJlc3VsdFsxMF0sIHJlc3VsdFsyXSwgcmVzdWx0WzVdLCByZXN1bHRbOF0sIHJlc3VsdFsxMV0sIHJlc3VsdFszXSwgcmVzdWx0WzZdLCByZXN1bHRbOV0sIHJlc3VsdFsxMl0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoKHJlc3VsdCA9IHRoaXMucmVnZXhwLmZhY2VfdmVydGV4X3V2LmV4ZWMobGluZSkpICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIC8vIGYgdmVydGV4L3V2IHZlcnRleC91diB2ZXJ0ZXgvdXZcbiAgICAgICAgICAgIC8vIDAgICAgICAgICAgICAgICAgICAxICAgIDIgICAgMyAgICA0ICAgIDUgICAgNiAgIDcgICAgICAgICAgOFxuICAgICAgICAgICAgLy8gW1wiZiAxLzEgMi8yIDMvM1wiLCBcIjFcIiwgXCIxXCIsIFwiMlwiLCBcIjJcIiwgXCIzXCIsIFwiM1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZF1cblxuICAgICAgICAgICAgc3RhdGUuYWRkRmFjZShyZXN1bHRbMV0sIHJlc3VsdFszXSwgcmVzdWx0WzVdLCByZXN1bHRbN10sIHJlc3VsdFsyXSwgcmVzdWx0WzRdLCByZXN1bHRbNl0sIHJlc3VsdFs4XSk7XG4gICAgICAgICAgfSBlbHNlIGlmICgocmVzdWx0ID0gdGhpcy5yZWdleHAuZmFjZV92ZXJ0ZXhfbm9ybWFsLmV4ZWMobGluZSkpICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIC8vIGYgdmVydGV4Ly9ub3JtYWwgdmVydGV4Ly9ub3JtYWwgdmVydGV4Ly9ub3JtYWxcbiAgICAgICAgICAgIC8vIDAgICAgICAgICAgICAgICAgICAgICAxICAgIDIgICAgMyAgICA0ICAgIDUgICAgNiAgIDcgICAgICAgICAgOFxuICAgICAgICAgICAgLy8gW1wiZiAxLy8xIDIvLzIgMy8vM1wiLCBcIjFcIiwgXCIxXCIsIFwiMlwiLCBcIjJcIiwgXCIzXCIsIFwiM1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZF1cblxuICAgICAgICAgICAgc3RhdGUuYWRkRmFjZShyZXN1bHRbMV0sIHJlc3VsdFszXSwgcmVzdWx0WzVdLCByZXN1bHRbN10sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcmVzdWx0WzJdLCByZXN1bHRbNF0sIHJlc3VsdFs2XSwgcmVzdWx0WzhdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKChyZXN1bHQgPSB0aGlzLnJlZ2V4cC5mYWNlX3ZlcnRleC5leGVjKGxpbmUpKSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAvLyBmIHZlcnRleCB2ZXJ0ZXggdmVydGV4XG4gICAgICAgICAgICAvLyAwICAgICAgICAgICAgMSAgICAyICAgIDMgICA0XG4gICAgICAgICAgICAvLyBbXCJmIDEgMiAzXCIsIFwiMVwiLCBcIjJcIiwgXCIzXCIsIHVuZGVmaW5lZF1cblxuICAgICAgICAgICAgc3RhdGUuYWRkRmFjZShyZXN1bHRbMV0sIHJlc3VsdFsyXSwgcmVzdWx0WzNdLCByZXN1bHRbNF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcIlVuZXhwZWN0ZWQgZmFjZSBsaW5lOiAnXCIgKyBsaW5lICsgXCInXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsaW5lRmlyc3RDaGFyID09PSBcImxcIikge1xuXG4gICAgICAgICAgdmFyIGxpbmVQYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKDEpLnRyaW0oKS5zcGxpdChcIiBcIik7XG4gICAgICAgICAgdmFyIGxpbmVWZXJ0aWNlcyA9IFtdLFxuICAgICAgICAgICAgICBsaW5lVVZzID0gW107XG5cbiAgICAgICAgICBpZiAobGluZS5pbmRleE9mKFwiL1wiKSA9PT0gLTEpIHtcblxuICAgICAgICAgICAgbGluZVZlcnRpY2VzID0gbGluZVBhcnRzO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGxpID0gMCwgbGxlbiA9IGxpbmVQYXJ0cy5sZW5ndGg7IGxpIDwgbGxlbjsgbGkrKykge1xuXG4gICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGxpbmVQYXJ0c1tsaV0uc3BsaXQoXCIvXCIpO1xuXG4gICAgICAgICAgICAgIGlmIChwYXJ0c1swXSAhPT0gXCJcIikgbGluZVZlcnRpY2VzLnB1c2gocGFydHNbMF0pO1xuICAgICAgICAgICAgICBpZiAocGFydHNbMV0gIT09IFwiXCIpIGxpbmVVVnMucHVzaChwYXJ0c1sxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlLmFkZExpbmVHZW9tZXRyeShsaW5lVmVydGljZXMsIGxpbmVVVnMpO1xuICAgICAgICB9IGVsc2UgaWYgKChyZXN1bHQgPSB0aGlzLnJlZ2V4cC5vYmplY3RfcGF0dGVybi5leGVjKGxpbmUpKSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgLy8gbyBvYmplY3RfbmFtZVxuICAgICAgICAgIC8vIG9yXG4gICAgICAgICAgLy8gZyBncm91cF9uYW1lXG5cbiAgICAgICAgICAvLyBXT1JLQVJPVU5EOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yODY5XG4gICAgICAgICAgLy8gdmFyIG5hbWUgPSByZXN1bHRbIDAgXS5zdWJzdHIoIDEgKS50cmltKCk7XG4gICAgICAgICAgdmFyIG5hbWUgPSAoXCIgXCIgKyByZXN1bHRbMF0uc3Vic3RyKDEpLnRyaW0oKSkuc3Vic3RyKDEpO1xuXG4gICAgICAgICAgc3RhdGUuc3RhcnRPYmplY3QobmFtZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZWdleHAubWF0ZXJpYWxfdXNlX3BhdHRlcm4udGVzdChsaW5lKSkge1xuXG4gICAgICAgICAgLy8gbWF0ZXJpYWxcblxuICAgICAgICAgIHN0YXRlLm9iamVjdC5zdGFydE1hdGVyaWFsKGxpbmUuc3Vic3RyaW5nKDcpLnRyaW0oKSwgc3RhdGUubWF0ZXJpYWxMaWJyYXJpZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVnZXhwLm1hdGVyaWFsX2xpYnJhcnlfcGF0dGVybi50ZXN0KGxpbmUpKSB7XG5cbiAgICAgICAgICAvLyBtdGwgZmlsZVxuXG4gICAgICAgICAgc3RhdGUubWF0ZXJpYWxMaWJyYXJpZXMucHVzaChsaW5lLnN1YnN0cmluZyg3KS50cmltKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKChyZXN1bHQgPSB0aGlzLnJlZ2V4cC5zbW9vdGhpbmdfcGF0dGVybi5leGVjKGxpbmUpKSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgLy8gc21vb3RoIHNoYWRpbmdcblxuICAgICAgICAgIC8vIEB0b2RvIEhhbmRsZSBmaWxlcyB0aGF0IGhhdmUgdmFyeWluZyBzbW9vdGggdmFsdWVzIGZvciBhIHNldCBvZiBmYWNlcyBpbnNpZGUgb25lIGdlb21ldHJ5LFxuICAgICAgICAgIC8vIGJ1dCBkb2VzIG5vdCBkZWZpbmUgYSB1c2VtdGwgZm9yIGVhY2ggZmFjZSBzZXQuXG4gICAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgZGV0ZWN0ZWQgYW5kIGEgZHVtbXkgbWF0ZXJpYWwgY3JlYXRlZCAobGF0ZXIgTXVsdGlNYXRlcmlhbCBhbmQgZ2VvbWV0cnkgZ3JvdXBzKS5cbiAgICAgICAgICAvLyBUaGlzIHJlcXVpcmVzIHNvbWUgY2FyZSB0byBub3QgY3JlYXRlIGV4dHJhIG1hdGVyaWFsIG9uIGVhY2ggc21vb3RoIHZhbHVlIGZvciBcIm5vcm1hbFwiIG9iaiBmaWxlcy5cbiAgICAgICAgICAvLyB3aGVyZSBleHBsaWNpdCB1c2VtdGwgZGVmaW5lcyBnZW9tZXRyeSBncm91cHMuXG4gICAgICAgICAgLy8gRXhhbXBsZSBhc3NldDogZXhhbXBsZXMvbW9kZWxzL29iai9jZXJiZXJ1cy9DZXJiZXJ1cy5vYmpcblxuICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdFsxXS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBzdGF0ZS5vYmplY3Quc21vb3RoID0gdmFsdWUgPT09ICcxJyB8fCB2YWx1ZSA9PT0gJ29uJztcblxuICAgICAgICAgIHZhciBtYXRlcmlhbCA9IHN0YXRlLm9iamVjdC5jdXJyZW50TWF0ZXJpYWwoKTtcbiAgICAgICAgICBpZiAobWF0ZXJpYWwpIHtcblxuICAgICAgICAgICAgbWF0ZXJpYWwuc21vb3RoID0gc3RhdGUub2JqZWN0LnNtb290aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvLyBIYW5kbGUgbnVsbCB0ZXJtaW5hdGVkIGZpbGVzIHdpdGhvdXQgZXhjZXB0aW9uXG4gICAgICAgICAgaWYgKGxpbmUgPT09ICdcXDAnKSBjb250aW51ZTtcblxuICAgICAgICAgIHRoaXMub25FcnJvcihcIlVuZXhwZWN0ZWQgbGluZTogJ1wiICsgbGluZSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdGF0ZS5maW5hbGl6ZSgpO1xuXG4gICAgICB2YXIgY29udGFpbmVyID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgICBjb250YWluZXIubWF0ZXJpYWxMaWJyYXJpZXMgPSBbXS5jb25jYXQoc3RhdGUubWF0ZXJpYWxMaWJyYXJpZXMpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHN0YXRlLm9iamVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgdmFyIG9iamVjdCA9IHN0YXRlLm9iamVjdHNbaV07XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcbiAgICAgICAgdmFyIG1hdGVyaWFscyA9IG9iamVjdC5tYXRlcmlhbHM7XG4gICAgICAgIHZhciBpc0xpbmUgPSBnZW9tZXRyeS50eXBlID09PSAnTGluZSc7XG5cbiAgICAgICAgLy8gU2tpcCBvL2cgbGluZSBkZWNsYXJhdGlvbnMgdGhhdCBkaWQgbm90IGZvbGxvdyB3aXRoIGFueSBmYWNlc1xuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICB2YXIgYnVmZmVyZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblxuICAgICAgICBidWZmZXJnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnZlcnRpY2VzKSwgMykpO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5ub3JtYWxzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgIGJ1ZmZlcmdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnbm9ybWFsJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5Lm5vcm1hbHMpLCAzKSk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICBidWZmZXJnZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LnV2cy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICBidWZmZXJnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2JywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnV2cyksIDIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBtYXRlcmlhbHNcblxuICAgICAgICB2YXIgY3JlYXRlZE1hdGVyaWFscyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIG1pID0gMCwgbWlMZW4gPSBtYXRlcmlhbHMubGVuZ3RoOyBtaSA8IG1pTGVuOyBtaSsrKSB7XG5cbiAgICAgICAgICB2YXIgc291cmNlTWF0ZXJpYWwgPSBtYXRlcmlhbHNbbWldO1xuICAgICAgICAgIHZhciBtYXRlcmlhbCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmICh0aGlzLm1hdGVyaWFscyAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBtYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWxzLmNyZWF0ZShzb3VyY2VNYXRlcmlhbC5uYW1lKTtcblxuICAgICAgICAgICAgLy8gbXRsIGV0Yy4gbG9hZGVycyBwcm9iYWJseSBjYW4ndCBjcmVhdGUgbGluZSBtYXRlcmlhbHMgY29ycmVjdGx5LCBjb3B5IHByb3BlcnRpZXMgdG8gYSBsaW5lIG1hdGVyaWFsLlxuICAgICAgICAgICAgaWYgKGlzTGluZSAmJiBtYXRlcmlhbCAmJiAhKG1hdGVyaWFsIGluc3RhbmNlb2YgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwpKSB7XG5cbiAgICAgICAgICAgICAgdmFyIG1hdGVyaWFsTGluZSA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCgpO1xuICAgICAgICAgICAgICBtYXRlcmlhbExpbmUuY29weShtYXRlcmlhbCk7XG4gICAgICAgICAgICAgIG1hdGVyaWFsID0gbWF0ZXJpYWxMaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghbWF0ZXJpYWwpIHtcblxuICAgICAgICAgICAgbWF0ZXJpYWwgPSAhaXNMaW5lID8gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKCkgOiBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoKTtcbiAgICAgICAgICAgIG1hdGVyaWFsLm5hbWUgPSBzb3VyY2VNYXRlcmlhbC5uYW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1hdGVyaWFsLnNoYWRpbmcgPSBzb3VyY2VNYXRlcmlhbC5zbW9vdGggPyBUSFJFRS5TbW9vdGhTaGFkaW5nIDogVEhSRUUuRmxhdFNoYWRpbmc7XG5cbiAgICAgICAgICBjcmVhdGVkTWF0ZXJpYWxzLnB1c2gobWF0ZXJpYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1lc2hcblxuICAgICAgICB2YXIgbWVzaDtcblxuICAgICAgICBpZiAoY3JlYXRlZE1hdGVyaWFscy5sZW5ndGggPiAxKSB7XG5cbiAgICAgICAgICBmb3IgKHZhciBtaSA9IDAsIG1pTGVuID0gbWF0ZXJpYWxzLmxlbmd0aDsgbWkgPCBtaUxlbjsgbWkrKykge1xuXG4gICAgICAgICAgICB2YXIgc291cmNlTWF0ZXJpYWwgPSBtYXRlcmlhbHNbbWldO1xuICAgICAgICAgICAgYnVmZmVyZ2VvbWV0cnkuYWRkR3JvdXAoc291cmNlTWF0ZXJpYWwuZ3JvdXBTdGFydCwgc291cmNlTWF0ZXJpYWwuZ3JvdXBDb3VudCwgbWkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBtdWx0aU1hdGVyaWFsID0gbmV3IFRIUkVFLk11bHRpTWF0ZXJpYWwoY3JlYXRlZE1hdGVyaWFscyk7XG4gICAgICAgICAgbWVzaCA9ICFpc0xpbmUgPyBuZXcgVEhSRUUuTWVzaChidWZmZXJnZW9tZXRyeSwgbXVsdGlNYXRlcmlhbCkgOiBuZXcgVEhSRUUuTGluZVNlZ21lbnRzKGJ1ZmZlcmdlb21ldHJ5LCBtdWx0aU1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIG1lc2ggPSAhaXNMaW5lID8gbmV3IFRIUkVFLk1lc2goYnVmZmVyZ2VvbWV0cnksIGNyZWF0ZWRNYXRlcmlhbHNbMF0pIDogbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhidWZmZXJnZW9tZXRyeSwgY3JlYXRlZE1hdGVyaWFsc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNoLm5hbWUgPSBvYmplY3QubmFtZTtcblxuICAgICAgICBjb250YWluZXIuYWRkKG1lc2gpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCdPQkpMb2FkZXInKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwib2JqL0xvd3BvbHlfdHJlZV9zYW1wbGUub2JqXCI7IiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHRyZWUgZnJvbSAnLi4vLi4vb2JqL0xvd3BvbHlfdHJlZV9zYW1wbGUub2JqJztcbmltcG9ydCBMaWdodHMgZnJvbSAnLi4vTGlnaHRzL1R3b0RpcmVjdGlvbmFscyc7XG5pbXBvcnQgKiBhcyBPQkpMb2FkZXIgZnJvbSAndGhyZWUtb2JqLWxvYWRlcic7XG5PQkpMb2FkZXIoVEhSRUUpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmVlRXhhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKHtzY2VuZSwgb25Mb2FkfSkge1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICB0aGlzLnNldHVwQ2FtZXJhKCk7XG4gICAgXG4gICAgc2NlbmUucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgIHNjZW5lLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgIHRoaXMucm9vdCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuXG4gICAgdGhpcy5sb2FkVHJlZSgpO1xuICAgIHRoaXMuc2V0dXBMaWdodHMoKTtcblxuICAgIGlmIChvbkxvYWQpIG9uTG9hZCgpO1xuICB9XG5cbiAgbG9hZGluZyhwZXJjZW50YWdlKSB7ICAgIFxuICAgIFxuICB9XG5cbiAgc2V0dXBMaWdodHMoKSB7XG4gICAgY29uc3QgbGlnaHRzID0gbmV3IExpZ2h0cyh7XG4gICAgICBpbnRlbnNpdHk6IDEuOCxcbiAgICAgIGNhc3RTaGFkb3c6IHRydWUsXG4gICAgICBiaWFzOiAwLjAwMDAyLFxuICAgICAgcHJvamVjdGlvblNpZGVzOiAyLjUsXG4gICAgICBtYXBTaXplOiAyMDQ4XG4gICAgfSk7XG4gICAgbGlnaHRzLnJvdGF0ZVkoTWF0aC5QSSk7XG4gICAgdGhpcy5yb290LmFkZChsaWdodHMpO1xuICB9XG5cbiAgc2V0dXBDYW1lcmEoKSB7XG4gICAgY29uc3QgZnJ1c3R1bVNpemUgPSAxMDtcbiAgICBjb25zdCBhc3BlY3QgPSB0aGlzLnNjZW5lLmNhbWVyYS5hc3BlY3Q7XG4gICAgdGhpcy5zY2VuZS5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAtMixcbiAgICAgIGZydXN0dW1TaXplICogYXNwZWN0IC8gMixcbiAgICAgIGZydXN0dW1TaXplIC8gMixcbiAgICAgIGZydXN0dW1TaXplIC8gLTIsXG4gICAgICAxLFxuICAgICAgMTUwKTtcbiAgICB0aGlzLnNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDMuNSwgMTApKTtcbiAgICB0aGlzLnNjZW5lLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCkpO1xuICB9XG5cbiAgbG9hZFRyZWUoKSB7XG4gICAgY29uc3QgbG9hZGVyID0gbmV3IFRIUkVFLk9CSkxvYWRlcigpO1xuICAgIHRoaXMub25IZWFkUmVhZHkgPSB0aGlzLm9uVHJlZVJlYWR5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkhlYWRMb2FkaW5nID0gdGhpcy5vbkhlYWRMb2FkaW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblRyZWVSZWFkeSA9IHRoaXMub25UcmVlUmVhZHkuYmluZCh0aGlzKTtcbiAgICBsb2FkZXIubG9hZChcbiAgICAgIHRyZWUsXG4gICAgICB0aGlzLm9uVHJlZVJlYWR5LFxuICAgICAgdGhpcy5vbkhlYWRMb2FkaW5nLFxuICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBoYXBwZW5lZCcsIGVycm9yKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgb25IZWFkTG9hZGluZyh4aHIpIHtcbiAgICBjb25zdCBsb2FkaW5nID0geGhyLmxvYWRlZCAvIHhoci50b3RhbDtcbiAgICBjb25zb2xlLmxvZygobG9hZGluZyAqIDEwMCkgKyAnJSBsb2FkZWQnKTtcbiAgICBcbiAgICB0aGlzLmxvYWRpbmcoTWF0aC5zaW4obG9hZGluZykpO1xuICB9XG5cbiAgb25UcmVlUmVhZHkob2JqZWN0KSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoaSAqIDMsIDAsIDApO1xuICAgICAgdGhpcy5hZGRUcmVlKG9iamVjdCwgbmV3UG9zaXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGFkZFRyZWUob2JqZWN0LCBuZXdQb3NpdGlvbikge1xuICAgIGNvbnN0IG5ld1RyZWUgPSBvYmplY3QuY2xvbmUoKTtcbiAgICBuZXdUcmVlLnBvc2l0aW9uLmNvcHkobmV3UG9zaXRpb24pO1xuICAgIG5ld1RyZWUuc2NhbGUuY29weShcbiAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKDAuMiwgMC4yLCAwLjIpXG4gICAgKTtcbiAgICBuZXdUcmVlLmNoaWxkcmVuWzBdLm1hdGVyaWFsWzBdLmNvbG9yLnNldFJHQigxLCAwLjYsIDApO1xuICAgIG5ld1RyZWUuY2hpbGRyZW5bMF0ubWF0ZXJpYWxbMV0uY29sb3Iuc2V0UkdCKDAuOCwgMSwgMC4yKTtcbiAgICB0aGlzLnJvb3QuYWRkKG5ld1RyZWUpO1xuICB9XG5cbiAgdXBkYXRlKHRpbWVFbGFwc2VkLCBkZWx0YSkge1xuICAgIGxldCBpZCA9IDA7XG4gICAgdGhpcy5yb290LnRyYXZlcnNlKCh0cmVlKSA9PiB7XG4gICAgICBjb25zdCBvbGRTY2FsZSA9IHRyZWUuc2NhbGUuY2xvbmUoKTtcbiAgICAgIG9sZFNjYWxlLnkgPSBNYXRoLmFicyggTWF0aC5zaW4odGltZUVsYXBzZWQgKyBpZCkgKSArIDAuMjtcbiAgICAgIHRyZWUuc2NhbGUuY29weShvbGRTY2FsZSk7XG4gICAgICBpZCsrO1xuICAgIH0pO1xuICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=