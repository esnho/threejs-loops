(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{30:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var r=o(28);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=i(this,a(t).call(this));var o=new r.HemisphereLight(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Group"]),t}()},31:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(28);var n=function e(t){var o=t.size,n=void 0===o?5:o,i=t.material,a=t.position,s=t.widthSegments,c=t.heightSegments,u=t.castShadow,h=t.receiveShadow;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var l=1,p=1,f=1;this.color=new r.Color,this.color.setRGB(l,p,f),this.material=i||new r.MeshBasicMaterial({color:this.color});var d=this.material.length>1?r.SphereBufferGeometry:r.SphereGeometry;if(this.geometry=new d(n,s||7,c||9),this.material.length){this.geometry.clearGroups();for(var y=0;y<i.length;y++)this.geometry.addGroup(0,1/0,y)}this.mesh=new r.Mesh(this.geometry,this.material),this.mesh.castShadow=u,this.mesh.receiveShadow=h,a&&this.mesh.position.copy(a),this.root=this.mesh}},33:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var r=o(28);o(30);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h={intensity:1,castShadow:!1,bias:0,projectionSides:void 0,mapSize:512},l=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];o=s(this,(e=c(t)).call.apply(e,[this].concat(a)));var l=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),r.forEach(function(t){i(e,t,o[t])})}return e}({},h,a[0]),p=l.intensity,f=l.castShadow,d=l.bias,y=l.projectionSides,w=l.mapSize;o.intensity=p,o.projectionSides=y,o.mapSize=w,console.log("mapsize",o.mapSize);var m=new r.DirectionalLight("white",.65*o.intensity),b=new r.DirectionalLight("white",.55*o.intensity);return m.shadow.bias=d||0,b.shadow.bias=d||0,m.castShadow=f,b.castShadow=f,o.updateProjection(m,o.projectionSides),o.updateProjection(b,o.projectionSides),o.updateShadowMap(m,o.mapSize),o.updateShadowMap(b,o.mapSize),m.position.copy(new r.Vector3(9,3.5,0)),b.position.copy(new r.Vector3(-10,2,0)),o.add(m,b),o}var o,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Group"]),o=t,(n=[{key:"updateProjection",value:function(e,t){e.shadow.camera.left=-t,e.shadow.camera.right=t,e.shadow.camera.updateProjectionMatrix()}},{key:"updateShadowMap",value:function(e,t){e.shadow.mapSize.width=t,e.shadow.mapSize.height=t}}])&&a(o.prototype,n),l&&a(o,l),t}()},45:function(e,t,o){e.exports=o.p+"obj/Lowpoly_tree_sample.obj"},8:function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return h});var r=o(28),n=o(45),i=o.n(n),a=o(31),s=o(33),c=o(34);function u(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){var o=t.scene,n=t.onLoad;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=o,o.renderer.shadowMap.enabled=!0,o.renderer.shadowMap.type=r.PCFShadowMap,this.root=new r.Group,this.sphereMaterial=new r.MeshStandardMaterial({color:16755200,flatShading:!0}),this.sphere=new a.a({size:3,material:this.sphereMaterial,widthSegments:7,heightSegments:6}),this.root.add(this.sphere.root),this.setupLights(),this.loadTree(),console.log(">>>>>>>",this.sphere),console.log(this.sphere.root.geometry),this.root.add(this.sphere.root),n&&n()}var t,o,n;return t=e,(o=[{key:"setupLights",value:function(){var e=new s.a({intensity:1.8,castShadow:!0,bias:.2,projectionSides:2.5,mapSize:2048});e.rotateY(Math.PI),this.root.add(e)}},{key:"loadTree",value:function(){var e=new c.OBJLoader;this.onHeadReady=this.onTreeReady.bind(this),this.onHeadLoading=this.onTreeLoading.bind(this),this.onTreeReady=this.onTreeReady.bind(this),e.load(i.a,this.onTreeReady,this.onTreeLoading,function(e){console.log("An error happened",e)})}},{key:"onTreeLoading",value:function(e){var t=e.loaded/e.total;console.log(100*t+"% loaded")}},{key:"onTreeReady",value:function(e){console.log(this.sphere.root.geometry);for(var t=0;t<this.sphere.root.geometry.vertices.length;t++)this.addTree(e,this.sphere.root.geometry.vertices[t])}},{key:"addTree",value:function(e,t){var o=e.clone();o.position.copy(t);o.scale.copy(new r.Vector3(.1,.1,.1));var n=new r.Vector3(0,1,0);o.quaternion.setFromUnitVectors(n,t.clone().normalize()),o.children[0].material[0].color.setRGB(1,.6,0),o.children[0].material[1].color.setRGB(.8,1,.2),this.sphere.root.add(o)}},{key:"update",value:function(e,t){this.sphere.root.rotateY(.5*t),this.sphere.root.rotateZ(.1*t);for(var o=0;o<this.sphere.root.children.length;o++){this.sphere.root.children[o].translateY(Math.cos(e+o)*t)}}}])&&u(t.prototype,o),n&&u(t,n),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1doaXRlSGVtaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY1NwaGVyZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1R3b0RpcmVjdGlvbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JqL0xvd3BvbHlfdHJlZV9zYW1wbGUub2JqIiwid2VicGFjazovLy8uL3NyYy9qcy9Mb29wcy9UcmVlRXhhbXBsZS5qcyJdLCJuYW1lcyI6WyJXaGl0ZUhlbWkiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsImNhbGwiLCJoZW1pTGlnaHQiLCJIZW1pc3BoZXJlTGlnaHQiLCJjb2xvciIsInNldEhTTCIsIk1hdGgiLCJOb3JtYWxpemVIdWUiLCJncm91bmRDb2xvciIsInBvc2l0aW9uIiwic2V0IiwiYWRkIiwiR3JvdXAiLCJCYXNpY1NwaGVyZSIsIl9yZWYiLCJfcmVmJHNpemUiLCJzaXplIiwibWF0ZXJpYWwiLCJ3aWR0aFNlZ21lbnRzIiwiaGVpZ2h0U2VnbWVudHMiLCJjYXN0U2hhZG93IiwicmVjZWl2ZVNoYWRvdyIsInNlZWQiLCJyYW5kb20iLCJDb2xvciIsInNldFJHQiIsIk1lc2hCYXNpY01hdGVyaWFsIiwiU3BoZXJlIiwibGVuZ3RoIiwiU3BoZXJlQnVmZmVyR2VvbWV0cnkiLCJTcGhlcmVHZW9tZXRyeSIsImdlb21ldHJ5IiwiY2xlYXJHcm91cHMiLCJpIiwiYWRkR3JvdXAiLCJJbmZpbml0eSIsIm1lc2giLCJNZXNoIiwiY29weSIsInJvb3QiLCJkZWZhdWx0UGFyYW1zIiwiaW50ZW5zaXR5IiwiYmlhcyIsInByb2plY3Rpb25TaWRlcyIsInVuZGVmaW5lZCIsIm1hcFNpemUiLCJUd29EaXJlY3Rpb25hbHMiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsIl9kZWZhdWx0UGFyYW1zJGFyZ3MkIiwiX29iamVjdFNwcmVhZCIsImNvbnNvbGUiLCJsb2ciLCJkaXJlY3Rpb25hbExpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQyIiwic2hhZG93IiwidXBkYXRlUHJvamVjdGlvbiIsInVwZGF0ZVNoYWRvd01hcCIsIlZlY3RvcjMiLCJsaWdodCIsImNhbWVyYSIsImxlZnQiLCJyaWdodCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ3aWR0aCIsImhlaWdodCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIlRyZWVFeGFtcGxlIiwic2NlbmUiLCJvbkxvYWQiLCJyZW5kZXJlciIsInNoYWRvd01hcCIsImVuYWJsZWQiLCJ0eXBlIiwiVEhSRUUiLCJzcGhlcmVNYXRlcmlhbCIsImZsYXRTaGFkaW5nIiwic3BoZXJlIiwic2V0dXBMaWdodHMiLCJsb2FkVHJlZSIsImxpZ2h0cyIsIkxpZ2h0cyIsInJvdGF0ZVkiLCJQSSIsImxvYWRlciIsIk9CSkxvYWRlciIsIm9uSGVhZFJlYWR5Iiwib25UcmVlUmVhZHkiLCJiaW5kIiwib25IZWFkTG9hZGluZyIsIm9uVHJlZUxvYWRpbmciLCJsb2FkIiwidHJlZSIsImVycm9yIiwieGhyIiwibG9hZGluZyIsImxvYWRlZCIsInRvdGFsIiwib2JqZWN0IiwidmVydGljZXMiLCJhZGRUcmVlIiwibmV3UG9zaXRpb24iLCJuZXdUcmVlIiwiY2xvbmUiLCJzY2FsZSIsInVwIiwicXVhdGVybmlvbiIsInNldEZyb21Vbml0VmVjdG9ycyIsIm5vcm1hbGl6ZSIsImNoaWxkcmVuIiwidGltZUVsYXBzZWQiLCJkZWx0YSIsInJvdGF0ZVoiLCJ0cmFuc2xhdGVZIiwiY29zIl0sIm1hcHBpbmdzIjoiMndCQUtxQkEsY0FDbkIsU0FBQUEsSUFBYyxJQUFBQywrRkFBQUMsQ0FBQUMsS0FBQUgs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UXZHLFNBQVM2QixLQUFLeUUsR0FFdEJDLEVBQVFFLE1BQU01RSxLQUNaLElBQUk4QyxVQUZRLFdBS2QsSUFBTStCLEVBQUssSUFBSS9CLFVBQWMsRUFBRyxFQUFHLEdBRW5DNEIsRUFBUUksV0FBV0MsbUJBQ2pCRixFQUNBSixFQUFZRSxRQUFRSyxhQUd0Qk4sRUFBUU8sU0FBUyxHQUFHdEcsU0FBUyxHQUFHYixNQUFNcUIsT0FBTyxFQUFHLEdBQUssR0FDckR1RixFQUFRTyxTQUFTLEdBQUd0RyxTQUFTLEdBQUdiLE1BQU1xQixPQUFPLEdBQUssRUFBRyxJQUNyRDNCLEtBQUt5RixPQUFPaEQsS0FBSzVCLElBQUlxRyxrQ0FHaEJRLEVBQWFDLEdBQ2xCM0gsS0FBS3lGLE9BQU9oRCxLQUFLcUQsUUFBUSxHQUFNNkIsR0FDL0IzSCxLQUFLeUYsT0FBT2hELEtBQUttRixRQUFRLEdBQU1ELEdBQy9CLElBQUssSUFBSXhGLEVBQUksRUFBR0EsRUFBSW5DLEtBQUt5RixPQUFPaEQsS0FBS2dGLFNBQVMzRixPQUFRSyxJQUFLLENBQzNDbkMsS0FBS3lGLE9BQU9oRCxLQUFLZ0YsU0FBU3RGLEdBQ25DMEYsV0FDSHJILEtBQUtzSCxJQUFJSixFQUFjdkYsR0FBTXdGIiwiZmlsZSI6Ii4vanMvVHJlZUV4YW1wbGUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcblx0R3JvdXAsXG5cdEhlbWlzcGhlcmVMaWdodFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoaXRlSGVtaSBleHRlbmRzIEdyb3VwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBIZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmZmLCAweGZmZmZmZiwgMy4wICk7XG5cdFx0aGVtaUxpZ2h0LmNvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLFxuXHRcdFx0MC45NFxuXHRcdCk7XG5cdFx0aGVtaUxpZ2h0Lmdyb3VuZENvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLCBcblx0XHRcdDAuNjRcblx0XHQpO1xuXHRcdGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDIsIDAgKTtcblx0XHR0aGlzLmFkZCggaGVtaUxpZ2h0ICk7XG5cdH1cbn1cbiIsImltcG9ydCB7XG4gIENvbG9yLFxuICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgU3BoZXJlQnVmZmVyR2VvbWV0cnksXG4gIFNwaGVyZUdlb21ldHJ5LFxuICBNZXNoXG59IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzaWNTcGhlcmUge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgc2l6ZSA9IDUsXG4gICAgbWF0ZXJpYWwsXG4gICAgcG9zaXRpb24sXG4gICAgd2lkdGhTZWdtZW50cyxcbiAgICBoZWlnaHRTZWdtZW50cyxcbiAgICBjYXN0U2hhZG93LFxuICAgIHJlY2VpdmVTaGFkb3dcbiAgfSkge1xuICAgIHRoaXMuc2VlZCA9IE1hdGgucmFuZG9tKCk7XG4gICAgY29uc3QgY29sb3IgPSB7cjoxICxnOjEsIGI6MX07XG4gICAgdGhpcy5jb2xvciA9IG5ldyBDb2xvcigpO1xuICAgIHRoaXMuY29sb3Iuc2V0UkdCKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuXG4gICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsIHx8IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogdGhpcy5jb2xvclxuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IFNwaGVyZSA9IHRoaXMubWF0ZXJpYWwubGVuZ3RoID4gMSA/IFNwaGVyZUJ1ZmZlckdlb21ldHJ5IDogU3BoZXJlR2VvbWV0cnk7XG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFNwaGVyZShcbiAgICAgIHNpemUsIFxuICAgICAgd2lkdGhTZWdtZW50cyB8fCA3LCBcbiAgICAgIGhlaWdodFNlZ21lbnRzIHx8IDkpO1xuICAgIFxuICAgIGlmICh0aGlzLm1hdGVyaWFsLmxlbmd0aCkge1xuICAgICAgdGhpcy5nZW9tZXRyeS5jbGVhckdyb3VwcygpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRlcmlhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmFkZEdyb3VwKCAwLCBJbmZpbml0eSwgaSApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKFxuICAgICAgdGhpcy5nZW9tZXRyeSxcbiAgICAgIHRoaXMubWF0ZXJpYWxcbiAgICApO1xuXG4gICAgdGhpcy5tZXNoLmNhc3RTaGFkb3cgPSBjYXN0U2hhZG93O1xuICAgIHRoaXMubWVzaC5yZWNlaXZlU2hhZG93ID0gcmVjZWl2ZVNoYWRvdztcblxuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBHcm91cCxcbiAgICBEaXJlY3Rpb25hbExpZ2h0LFxuICAgIFZlY3RvcjNcbiAgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgV2hpdGVIZW1pIGZyb20gJy4vV2hpdGVIZW1pLmpzJztcblxuY29uc3QgZGVmYXVsdFBhcmFtcyA9IHtcbiAgICBpbnRlbnNpdHk6IDEsXG4gICAgY2FzdFNoYWRvdzogZmFsc2UsXG4gICAgYmlhczogMCxcbiAgICBwcm9qZWN0aW9uU2lkZXM6IHVuZGVmaW5lZCxcbiAgICBtYXBTaXplOiA1MTIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3b0RpcmVjdGlvbmFscyBleHRlbmRzIEdyb3VwIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuXHRcdGNvbnN0IHtcbiAgICAgICAgICAgIGludGVuc2l0eSxcbiAgICAgICAgICAgIGNhc3RTaGFkb3csXG4gICAgICAgICAgICBiaWFzLFxuICAgICAgICAgICAgcHJvamVjdGlvblNpZGVzLFxuICAgICAgICAgICAgbWFwU2l6ZVxuICAgICAgICB9ID0ge1xuICAgICAgICAgICAgLi4uZGVmYXVsdFBhcmFtcyxcbiAgICAgICAgICAgIC4uLmFyZ3NbMF1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSBpbnRlbnNpdHk7XG4gICAgICAgIHRoaXMucHJvamVjdGlvblNpZGVzID0gcHJvamVjdGlvblNpZGVzO1xuICAgICAgICB0aGlzLm1hcFNpemUgPSBtYXBTaXplO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1hcHNpemVcIiwgdGhpcy5tYXBTaXplKVxuICAgICAgICBcbiAgICAgICAgLyogY29uc3Qgd2hpdGVFbWkgPSBuZXcgV2hpdGVIZW1pKCk7XG4gICAgICAgIHRoaXMuYWRkKHdoaXRlRW1pKTsgKi9cblxuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoJ3doaXRlJywgMC42NSAqIHRoaXMuaW50ZW5zaXR5KTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodDIgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgnd2hpdGUnLCAwLjU1ICogdGhpcy5pbnRlbnNpdHkpO1xuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5iaWFzID0gYmlhcyB8fCAwO1xuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5zaGFkb3cuYmlhcyA9IGJpYXMgfHwgMDtcbiAgICAgICAgXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuY2FzdFNoYWRvdyA9IGNhc3RTaGFkb3c7XG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLmNhc3RTaGFkb3cgPSBjYXN0U2hhZG93O1xuXG4gICAgICAgIHRoaXMudXBkYXRlUHJvamVjdGlvbihkaXJlY3Rpb25hbExpZ2h0LCB0aGlzLnByb2plY3Rpb25TaWRlcyk7XG4gICAgICAgIHRoaXMudXBkYXRlUHJvamVjdGlvbihkaXJlY3Rpb25hbExpZ2h0MiwgdGhpcy5wcm9qZWN0aW9uU2lkZXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNoYWRvd01hcChkaXJlY3Rpb25hbExpZ2h0LCB0aGlzLm1hcFNpemUpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNoYWRvd01hcChkaXJlY3Rpb25hbExpZ2h0MiwgdGhpcy5tYXBTaXplKTtcblxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLmNvcHkoXG4gICAgICAgICAgICBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgICAgICA5LFxuICAgICAgICAgICAgICAgIDMuNSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodDIucG9zaXRpb24uY29weShcbiAgICAgICAgICAgIG5ldyBWZWN0b3IzKFxuICAgICAgICAgICAgICAgIC0xMCxcbiAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmFkZChkaXJlY3Rpb25hbExpZ2h0LCBkaXJlY3Rpb25hbExpZ2h0Mik7XG4gICAgfVxuXG4gICAgdXBkYXRlUHJvamVjdGlvbihsaWdodCwgcHJvamVjdGlvblNpZGVzKSB7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5jYW1lcmEubGVmdCA9IC1wcm9qZWN0aW9uU2lkZXM7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5jYW1lcmEucmlnaHQgPSBwcm9qZWN0aW9uU2lkZXM7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNoYWRvd01hcChsaWdodCwgbWFwU2l6ZSkge1xuICAgICAgICBsaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IG1hcFNpemU7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IG1hcFNpemU7XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIm9iai9Mb3dwb2x5X3RyZWVfc2FtcGxlLm9ialwiOyIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB0cmVlIGZyb20gJy4uLy4uL29iai9Mb3dwb2x5X3RyZWVfc2FtcGxlLm9iaic7XG5pbXBvcnQgU3BoZXJlIGZyb20gJy4uL09iamVjdHMvQmFzaWNTcGhlcmUnO1xuaW1wb3J0IExpZ2h0cyBmcm9tICcuLi9MaWdodHMvVHdvRGlyZWN0aW9uYWxzJztcbmltcG9ydCBCYXNpY1NwaGVyZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljU3BoZXJlJztcbmltcG9ydCB7IE9CSkxvYWRlciB9IGZyb20gJ3RocmVlLW9iai1tdGwtbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJlZUV4YW1wbGUge1xuICBjb25zdHJ1Y3Rvcih7c2NlbmUsIG9uTG9hZH0pIHtcbiAgICBcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgXG4gICAgc2NlbmUucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgIHNjZW5lLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU2hhZG93TWFwO1xuXG4gICAgdGhpcy5yb290ID0gbmV3IFRIUkVFLkdyb3VwKCk7XG5cbiAgICB0aGlzLnNwaGVyZU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiAweGZmYWEwMCxcbiAgICAgIGZsYXRTaGFkaW5nOiB0cnVlXG4gICAgfSlcbiAgICB0aGlzLnNwaGVyZSA9IG5ldyBTcGhlcmUoe1xuICAgICAgc2l6ZTogMyxcbiAgICAgIG1hdGVyaWFsOiB0aGlzLnNwaGVyZU1hdGVyaWFsLFxuICAgICAgd2lkdGhTZWdtZW50czogNyxcbiAgICAgIGhlaWdodFNlZ21lbnRzOiA2XG4gICAgfSk7XG4gICAgXG4gICAgdGhpcy5yb290LmFkZCh0aGlzLnNwaGVyZS5yb290KTtcbiAgICB0aGlzLnNldHVwTGlnaHRzKCk7XG4gICAgdGhpcy5sb2FkVHJlZSgpO1xuXG4gICAgY29uc29sZS5sb2coXCI+Pj4+Pj4+XCIsdGhpcy5zcGhlcmUpO1xuXG4gICAgY29uc29sZS5sb2codGhpcy5zcGhlcmUucm9vdC5nZW9tZXRyeSlcblxuICAgIHRoaXMucm9vdC5hZGQodGhpcy5zcGhlcmUucm9vdCk7XG5cbiAgICBpZiAob25Mb2FkKSBvbkxvYWQoKTtcbiAgfVxuXG4gIHNldHVwTGlnaHRzKCkge1xuICAgIGNvbnN0IGxpZ2h0cyA9IG5ldyBMaWdodHMoe1xuICAgICAgaW50ZW5zaXR5OiAxLjgsXG4gICAgICBjYXN0U2hhZG93OiB0cnVlLFxuICAgICAgYmlhczogMC4yLFxuICAgICAgcHJvamVjdGlvblNpZGVzOiAyLjUsXG4gICAgICBtYXBTaXplOiAyMDQ4XG4gICAgfSk7XG4gICAgbGlnaHRzLnJvdGF0ZVkoTWF0aC5QSSk7XG4gICAgdGhpcy5yb290LmFkZChsaWdodHMpO1xuICB9XG5cbiAgbG9hZFRyZWUoKSB7XG4gICAgY29uc3QgbG9hZGVyID0gbmV3IE9CSkxvYWRlcigpO1xuICAgIHRoaXMub25IZWFkUmVhZHkgPSB0aGlzLm9uVHJlZVJlYWR5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkhlYWRMb2FkaW5nID0gdGhpcy5vblRyZWVMb2FkaW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblRyZWVSZWFkeSA9IHRoaXMub25UcmVlUmVhZHkuYmluZCh0aGlzKTtcbiAgICBsb2FkZXIubG9hZChcbiAgICAgIC8vIG9nZ2V0dG8gdHJpZGltZW5zaW9uYWxlXG4gICAgICB0cmVlLFxuICAgICAgLy8gZnVuemlvbmUgZGEgY2hpYW1hcmUgcXVhbmRvIGwnb2dnZXR0byAzRCDDqCBzdGF0byBjYXJpY2F0b1xuICAgICAgdGhpcy5vblRyZWVSZWFkeSxcbiAgICAgIC8vIGZ1bnppb25lIGRhIGNoaWFtcmUgZHVyYW50ZSBpbCBjYXJpY2FtZW50ZVxuICAgICAgdGhpcy5vblRyZWVMb2FkaW5nLFxuICAgICAgLy8gZnV6aW9uZSBpbiBjYXNvIGRpIGVycm9yZVxuICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBoYXBwZW5lZCcsIGVycm9yKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgb25UcmVlTG9hZGluZyh4aHIpIHtcbiAgICBjb25zdCBsb2FkaW5nID0geGhyLmxvYWRlZCAvIHhoci50b3RhbDtcbiAgICBjb25zb2xlLmxvZygobG9hZGluZyAqIDEwMCkgKyAnJSBsb2FkZWQnKTtcbiAgfVxuXG4gIG9uVHJlZVJlYWR5KG9iamVjdCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc3BoZXJlLnJvb3QuZ2VvbWV0cnkpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNwaGVyZS5yb290Lmdlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZFRyZWUoXG4gICAgICAgIG9iamVjdCxcbiAgICAgICAgdGhpcy5zcGhlcmUucm9vdC5nZW9tZXRyeS52ZXJ0aWNlc1tpXVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBhZGRUcmVlKG9iamVjdCwgbmV3UG9zaXRpb24pIHtcbiAgICBjb25zdCBuZXdUcmVlID0gb2JqZWN0LmNsb25lKCk7XG4gICAgLy8gc2V0IHBvc2l0aW9uXG4gICAgbmV3VHJlZS5wb3NpdGlvbi5jb3B5KG5ld1Bvc2l0aW9uKTtcbiAgICBjb25zdCBzY2FsZSA9IDAuMTtcbiAgICBuZXdUcmVlLnNjYWxlLmNvcHkoXG4gICAgICBuZXcgVEhSRUUuVmVjdG9yMyhzY2FsZSwgc2NhbGUsIHNjYWxlKVxuICAgICk7XG5cbiAgICBjb25zdCB1cCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApO1xuICAgIFxuICAgIG5ld1RyZWUucXVhdGVybmlvbi5zZXRGcm9tVW5pdFZlY3RvcnMoXG4gICAgICB1cCwgXG4gICAgICBuZXdQb3NpdGlvbi5jbG9uZSgpLm5vcm1hbGl6ZSgpXG4gICAgKTtcblxuICAgIG5ld1RyZWUuY2hpbGRyZW5bMF0ubWF0ZXJpYWxbMF0uY29sb3Iuc2V0UkdCKDEsIDAuNiwgMCk7XG4gICAgbmV3VHJlZS5jaGlsZHJlblswXS5tYXRlcmlhbFsxXS5jb2xvci5zZXRSR0IoMC44LCAxLCAwLjIpO1xuICAgIHRoaXMuc3BoZXJlLnJvb3QuYWRkKG5ld1RyZWUpO1xuICB9XG5cbiAgdXBkYXRlKHRpbWVFbGFwc2VkLCBkZWx0YSkge1xuICAgIHRoaXMuc3BoZXJlLnJvb3Qucm90YXRlWSgwLjUgKiBkZWx0YSk7XG4gICAgdGhpcy5zcGhlcmUucm9vdC5yb3RhdGVaKDAuMSAqIGRlbHRhKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3BoZXJlLnJvb3QuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRyZWUgPSAgdGhpcy5zcGhlcmUucm9vdC5jaGlsZHJlbltpXTtcbiAgICAgIHRyZWUudHJhbnNsYXRlWShcbiAgICAgICAgTWF0aC5jb3ModGltZUVsYXBzZWQgKyBpKSAqIChkZWx0YSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=