(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{29:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(28);var n=function e(t){var o=t.size,n=void 0===o?5:o,i=t.material,a=t.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var s=1,h=1,c=1;this.color=new r.Color,this.color.setRGB(s,h,c),this.material=i||new r.MeshBasicMaterial({color:this.color}),this.geometry=new r.BoxGeometry(n,n,n),this.mesh=new r.Mesh(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh}},30:function(e,t,o){"use strict";o.d(t,"a",function(){return h});var r=o(28);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=i(this,a(t).call(this));var o=new r.HemisphereLight(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Group"]),t}()},31:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(28);var n=function e(t){var o=t.size,n=void 0===o?5:o,i=t.material,a=t.position,s=t.widthSegments,h=t.heightSegments,c=t.castShadow,u=t.receiveShadow;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var p=1,l=1,d=1;this.color=new r.Color,this.color.setRGB(p,l,d),this.material=i||new r.MeshBasicMaterial({color:this.color});var f=this.material.length>1?r.SphereBufferGeometry:r.SphereGeometry;if(this.geometry=new f(n,s||7,h||9),this.material.length){this.geometry.clearGroups();for(var w=0;w<i.length;w++)this.geometry.addGroup(0,1/0,w)}this.mesh=new r.Mesh(this.geometry,this.material),this.mesh.castShadow=c,this.mesh.receiveShadow=u,a&&this.mesh.position.copy(a),this.root=this.mesh}},33:function(e,t,o){"use strict";o.d(t,"a",function(){return p});var r=o(28);o(30);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u={intensity:1,castShadow:!1,bias:0,projectionSides:void 0,mapSize:512},p=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];o=s(this,(e=h(t)).call.apply(e,[this].concat(a)));var p=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),r.forEach(function(t){i(e,t,o[t])})}return e}({},u,a[0]),l=p.intensity,d=p.castShadow,f=p.bias,w=p.projectionSides,y=p.mapSize;o.intensity=l,o.projectionSides=w,o.mapSize=y,console.log("mapsize",o.mapSize);var m=new r.DirectionalLight("white",.65*o.intensity),b=new r.DirectionalLight("white",.55*o.intensity);return m.shadow.bias=f||0,b.shadow.bias=f||0,m.castShadow=d,b.castShadow=d,o.updateProjection(m,o.projectionSides),o.updateProjection(b,o.projectionSides),o.updateShadowMap(m,o.mapSize),o.updateShadowMap(b,o.mapSize),m.position.copy(new r.Vector3(9,3.5,0)),b.position.copy(new r.Vector3(-10,2,0)),o.add(m,b),o}var o,n,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Group"]),o=t,(n=[{key:"updateProjection",value:function(e,t){e.shadow.camera.left=-t,e.shadow.camera.right=t,e.shadow.camera.updateProjectionMatrix()}},{key:"updateShadowMap",value:function(e,t){e.shadow.mapSize.width=t,e.shadow.mapSize.height=t}}])&&a(o.prototype,n),p&&a(o,p),t}()},39:function(e,t,o){e.exports=o.p+"obj/male.obj"},5:function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return p});var r=o(28),n=o(39),i=o.n(n),a=o(33),s=o(31),h=o(29),c=o(34);function u(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){var o=t.scene,n=t.onLoad;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=o,this.setupCamera(),o.renderer.shadowMap.enabled=!0,o.renderer.shadowMap.type=void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")?r.BasicShadowMap:r.PCFSoftShadowMap,this.root=new r.Group,this.wireMat=new r.MeshBasicMaterial({color:16777215,wireframe:!0});var i=new r.MeshStandardMaterial({emissive:6161169,flatShading:!0});this.loadingCube=new h.a({size:6,material:i}),this.root.add(this.loadingCube.root),this.loading(.5),this.setupLights(),this.createSpheres(),this.loadHead(),n&&n()}var t,o,n;return t=e,(o=[{key:"loading",value:function(e){this.loadingCube.root.scale.copy(new r.Vector3(1,1-e,1)),this.loadingCube.root.position.copy(new r.Vector3(0,-.5*this.loadingCube.root.geometry.parameters.height*e,0));var t=new r.Quaternion;t.setFromAxisAngle(new r.Vector3(0,1,0),-2*Math.PI*e),this.loadingCube.root.quaternion.copy(t)}},{key:"setupLights",value:function(){var e=new a.a({intensity:1.8,castShadow:!0,bias:2e-5,projectionSides:2.5,mapSize:2048});e.rotateY(Math.PI),this.root.add(e)}},{key:"setupCamera",value:function(){var e=this.scene.camera.aspect;this.scene.camera=new r.OrthographicCamera(10*e/-2,10*e/2,5,-5,1,150),this.scene.camera.position.copy(new r.Vector3(0,3.5,10)),this.scene.camera.lookAt(new r.Vector3(0,0,0))}},{key:"createSpheres",value:function(){var e=[new r.MeshStandardMaterial({flatShading:!0,roughness:0}),this.wireMat],t=[new r.MeshStandardMaterial({emissive:6161169,flatShading:!0}),this.wireMat];this.spheres=new r.Group,this.sphereA=new s.a({size:8,widthSegments:6,heightSegments:6,material:e,castShadow:!0,receiveShadow:!0}),this.sphereA.root.position.copy(new r.Vector3(2.5,0,3)),this.sphereB=new s.a({size:7,widthSegments:7,heightSegments:6,material:e,castShadow:!0,receiveShadow:!0}),this.sphereB.root.position.copy(new r.Vector3(2,.5,-7)),this.sphereC=new s.a({size:5,widthSegments:5,heightSegments:4,material:t,castShadow:!0,receiveShadow:!0}),this.sphereC.root.position.copy(new r.Vector3(-6.5,.5,-1)),this.spheres.add(this.sphereA.root),this.spheres.add(this.sphereB.root),this.spheres.add(this.sphereC.root),this.spheres.position.copy(new r.Vector3(0,8,0))}},{key:"loadHead",value:function(){var e=new c.OBJLoader;this.onHeadReady=this.onHeadReady.bind(this),this.onHeadLoading=this.onHeadLoading.bind(this),e.load(i.a,this.onHeadReady,this.onHeadLoading,function(e){console.log("An error happened",e)})}},{key:"onHeadLoading",value:function(e){var t=e.loaded/e.total;console.log(100*t+"% loaded"),this.loading(Math.sin(t))}},{key:"onHeadReady",value:function(e){this.root.remove(this.loadingCube.root),this.loadingCube=null,e.scale.copy(new r.Vector3(.2,.2,.2)),e.traverse(function(e){e.receiveShadow=!0,e.castShadow=!0,e.name&&e.name.indexOf("occhio")>=0&&(e.material.color.setRGB(0,0,0),e.material.specular.setRGB(.1,.1,.1),e.material.roughness=0)}),this.root.add(e),this.head=e,this.head.rotateY(-.25*Math.PI),this.head.add(this.spheres)}},{key:"update",value:function(e,t){if(this.head){var o=.1*e;this.head.rotateY(Math.sin(o)*t*.1),this.sphereA.root.rotateY(.3*t),this.sphereA.root.rotateX(.6*t),this.sphereB.root.rotateY(-.4*t),this.sphereB.root.rotateX(-.6*t),this.sphereC.root.rotateY(-.4*t),this.sphereC.root.rotateX(.6*t),this.sphereC.root.rotateZ(.9*t)}}}])&&u(t.prototype,o),n&&u(t,n),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9XaGl0ZUhlbWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL09iamVjdHMvQmFzaWNTcGhlcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iai9tYWxlLm9iaiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTG9vcHMvT3BlbkhlYWQuanMiXSwibmFtZXMiOlsiQmFzaWNDdWJlIiwiX3JlZiIsIl9yZWYkc2l6ZSIsInNpemUiLCJtYXRlcmlhbCIsInBvc2l0aW9uIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInNlZWQiLCJNYXRoIiwicmFuZG9tIiwiY29sb3IiLCJDb2xvciIsInNldFJHQiIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZ2VvbWV0cnkiLCJCb3hHZW9tZXRyeSIsIm1lc2giLCJNZXNoIiwiY29weSIsInJvb3QiLCJXaGl0ZUhlbWkiLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2dldFByb3RvdHlwZU9mIiwiY2FsbCIsImhlbWlMaWdodCIsIkhlbWlzcGhlcmVMaWdodCIsInNldEhTTCIsIk5vcm1hbGl6ZUh1ZSIsImdyb3VuZENvbG9yIiwic2V0IiwiYWRkIiwiR3JvdXAiLCJCYXNpY1NwaGVyZSIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsImNhc3RTaGFkb3ciLCJyZWNlaXZlU2hhZG93IiwiU3BoZXJlIiwibGVuZ3RoIiwiU3BoZXJlQnVmZmVyR2VvbWV0cnkiLCJTcGhlcmVHZW9tZXRyeSIsImNsZWFyR3JvdXBzIiwiaSIsImFkZEdyb3VwIiwiSW5maW5pdHkiLCJkZWZhdWx0UGFyYW1zIiwiaW50ZW5zaXR5IiwiYmlhcyIsInByb2plY3Rpb25TaWRlcyIsInVuZGVmaW5lZCIsIm1hcFNpemUiLCJUd29EaXJlY3Rpb25hbHMiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsIl9kZWZhdWx0UGFyYW1zJGFyZ3MkIiwiX29iamVjdFNwcmVhZCIsImNvbnNvbGUiLCJsb2ciLCJkaXJlY3Rpb25hbExpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQyIiwic2hhZG93IiwidXBkYXRlUHJvamVjdGlvbiIsInVwZGF0ZVNoYWRvd01hcCIsIlZlY3RvcjMiLCJsaWdodCIsImNhbWVyYSIsImxlZnQiLCJyaWdodCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ3aWR0aCIsImhlaWdodCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIk9wZW5IZWFkIiwic2NlbmUiLCJvbkxvYWQiLCJzZXR1cENhbWVyYSIsInJlbmRlcmVyIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsInR5cGUiLCJ3aW5kb3ciLCJvcmllbnRhdGlvbiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJUSFJFRSIsIndpcmVNYXQiLCJ3aXJlZnJhbWUiLCJsb2FkaW5nQ3ViZU1hdCIsImVtaXNzaXZlIiwiZmxhdFNoYWRpbmciLCJsb2FkaW5nQ3ViZSIsImxvYWRpbmciLCJzZXR1cExpZ2h0cyIsImNyZWF0ZVNwaGVyZXMiLCJsb2FkSGVhZCIsInBlcmNlbnRhZ2UiLCJzY2FsZSIsInBhcmFtZXRlcnMiLCJxdWF0ZXJuaW9uIiwic2V0RnJvbUF4aXNBbmdsZSIsIlBJIiwibGlnaHRzIiwiTGlnaHRzIiwicm90YXRlWSIsImFzcGVjdCIsImZydXN0dW1TaXplIiwibG9va0F0Iiwic3BoZXJlTWF0Iiwicm91Z2huZXNzIiwic3BoZXJlTWF0MiIsInNwaGVyZXMiLCJzcGhlcmVBIiwic3BoZXJlQiIsInNwaGVyZUMiLCJsb2FkZXIiLCJPQkpMb2FkZXIiLCJvbkhlYWRSZWFkeSIsImJpbmQiLCJvbkhlYWRMb2FkaW5nIiwibG9hZCIsImhlYWQiLCJlcnJvciIsInhociIsImxvYWRlZCIsInRvdGFsIiwic2luIiwib2JqZWN0IiwicmVtb3ZlIiwidHJhdmVyc2UiLCJvYmoiLCJuYW1lIiwic3BlY3VsYXIiLCJ0aW1lRWxhcHNlZCIsImRlbHRhIiwiYW5pbWF0aW9uVGltZSIsInJvdGF0ZVgiLCJyb3RhdGVaIl0sIm1hcHBpbmdzIjoieUlBT3FCQSxFQUNuQixTQUFBQSxFQUFBQyxHQUE0QyxJQUFBQyxFQUFBRCxFQUEvQkUsWUFBK0IsSUFBQUQsRUFBeEIsRUFBd0JBLEVBQXJCRSxFQUFxQkgsRUFBckJHLFNBQVVDLEVBQVdKLEVBQVhJLHNHQUFXQyxDQUFBQyxLQUFBUCxHQUMxQ08sS0FBS0MsS0FBT0MsS0FBS0MsU0FDakIsSUFBTUMsRUFBVyxFQUFYQSxFQUFnQixFQUFoQkEsRUFBcUIsRUFDM0JKLEtBQUtJLE1BQVEsSUFBSUMsUUFDakJMLEtBQUtJLE1BQU1FLE9BQU9GLEVBQVNBLEVBQVNBLEdBRXBDSixLQUFLSCxTQUFXQSxHQUFZLElBQUlVLG9CQUFrQixDQUNoREgsTUFBT0osS0FBS0ksUUFHZEosS0FBS1EsU0FBVyxJQUFJQyxjQUFZYixFQUFNQSxFQUFNQSxHQUU1Q0ksS0FBS1UsS0FBTyxJQUFJQyxPQUNkWCxLQUFLUSxTQUNMUixLQUFLSCxVQUdIQyxHQUNGRSxLQUFLVSxLQUFLWixTQUFTYyxLQUFLZCxHQUcxQkUsS0FBS2EsS0FBT2IsS0FBS1Usd3RCQ3hCQUksY0FDbkIsU0FBQUEsSUFBYyxJQUFBQywrRkFBQWhCLENBQUFDLEtBQUFjLEdBQ1pDLEVBQUFDLEVBQUFoQixLQUFBaUIsRUFBQUgsR0FBQUksS0FBQWxCLE9BRUEsSUFBTW1CLEVBQVksSUFBSUMsa0JBQWlCLFNBQVUsU0FBVSxHQUgvQyxPQUlkRCxFQUFVZixNQUFNaUIsT0FDZm5CLEtBQUtvQixhQUFhLEtBQ2xCLEdBQ0EsS0FFREgsRUFBVUksWUFBWUYsT0FDckJuQixLQUFLb0IsYUFBYSxL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S0FBS3VILFFBQVExRyxLQUFLZ0ksUUFBUSxHQUFNRixHQUNoQzNJLEtBQUt1SCxRQUFRMUcsS0FBS2lJLFFBQVEsR0FBTUgiLCJmaWxlIjoiLi9qcy9PcGVuSGVhZC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb2xvcixcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIEJveEdlb21ldHJ5LFxuICBNZXNoXG59IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzaWNDdWJlIHtcbiAgY29uc3RydWN0b3Ioe3NpemUgPSA1LCBtYXRlcmlhbCwgcG9zaXRpb259KSB7XG4gICAgdGhpcy5zZWVkID0gTWF0aC5yYW5kb20oKTtcbiAgICBjb25zdCBjb2xvciA9IHtyOjEgLGc6MSwgYjoxfTtcbiAgICB0aGlzLmNvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgdGhpcy5jb2xvci5zZXRSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG5cbiAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWwgfHwgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXG4gICAgfSk7XG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEJveEdlb21ldHJ5KHNpemUsIHNpemUsIHNpemUpO1xuXG4gICAgdGhpcy5tZXNoID0gbmV3IE1lc2goXG4gICAgICB0aGlzLmdlb21ldHJ5LFxuICAgICAgdGhpcy5tYXRlcmlhbFxuICAgICk7XG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvb3QgPSB0aGlzLm1lc2g7XG4gIH1cbn1cbiIsImltcG9ydCB7XG5cdEdyb3VwLFxuXHRIZW1pc3BoZXJlTGlnaHRcbn0gZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaGl0ZUhlbWkgZXh0ZW5kcyBHcm91cCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBoZW1pTGlnaHQgPSBuZXcgSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZmZiwgMHhmZmZmZmYsIDMuMCApO1xuXHRcdGhlbWlMaWdodC5jb2xvci5zZXRIU0woXG5cdFx0XHRNYXRoLk5vcm1hbGl6ZUh1ZSgzMjUpLCBcblx0XHRcdDAuMSxcblx0XHRcdDAuOTRcblx0XHQpO1xuXHRcdGhlbWlMaWdodC5ncm91bmRDb2xvci5zZXRIU0woXG5cdFx0XHRNYXRoLk5vcm1hbGl6ZUh1ZSgzMjUpLCBcblx0XHRcdDAuMSwgXG5cdFx0XHQwLjY0XG5cdFx0KTtcblx0XHRoZW1pTGlnaHQucG9zaXRpb24uc2V0KCAwLCAyLCAwICk7XG5cdFx0dGhpcy5hZGQoIGhlbWlMaWdodCApO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuICBDb2xvcixcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIFNwaGVyZUJ1ZmZlckdlb21ldHJ5LFxuICBTcGhlcmVHZW9tZXRyeSxcbiAgTWVzaFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljU3BoZXJlIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHNpemUgPSA1LFxuICAgIG1hdGVyaWFsLFxuICAgIHBvc2l0aW9uLFxuICAgIHdpZHRoU2VnbWVudHMsXG4gICAgaGVpZ2h0U2VnbWVudHMsXG4gICAgY2FzdFNoYWRvdyxcbiAgICByZWNlaXZlU2hhZG93XG4gIH0pIHtcbiAgICB0aGlzLnNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xuICAgIHRoaXMuY29sb3IgPSBuZXcgQ29sb3IoKTtcbiAgICB0aGlzLmNvbG9yLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IHRoaXMuY29sb3JcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBTcGhlcmUgPSB0aGlzLm1hdGVyaWFsLmxlbmd0aCA+IDEgPyBTcGhlcmVCdWZmZXJHZW9tZXRyeSA6IFNwaGVyZUdlb21ldHJ5O1xuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBTcGhlcmUoXG4gICAgICBzaXplLCBcbiAgICAgIHdpZHRoU2VnbWVudHMgfHwgNywgXG4gICAgICBoZWlnaHRTZWdtZW50cyB8fCA5KTtcbiAgICBcbiAgICBpZiAodGhpcy5tYXRlcmlhbC5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0ZXJpYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5hZGRHcm91cCggMCwgSW5maW5pdHksIGkgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaChcbiAgICAgIHRoaXMuZ2VvbWV0cnksXG4gICAgICB0aGlzLm1hdGVyaWFsXG4gICAgKTtcblxuICAgIHRoaXMubWVzaC5jYXN0U2hhZG93ID0gY2FzdFNoYWRvdztcbiAgICB0aGlzLm1lc2gucmVjZWl2ZVNoYWRvdyA9IHJlY2VpdmVTaGFkb3c7XG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvb3QgPSB0aGlzLm1lc2g7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gICAgR3JvdXAsXG4gICAgRGlyZWN0aW9uYWxMaWdodCxcbiAgICBWZWN0b3IzXG4gIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IFdoaXRlSGVtaSBmcm9tICcuL1doaXRlSGVtaS5qcyc7XG5cbmNvbnN0IGRlZmF1bHRQYXJhbXMgPSB7XG4gICAgaW50ZW5zaXR5OiAxLFxuICAgIGNhc3RTaGFkb3c6IGZhbHNlLFxuICAgIGJpYXM6IDAsXG4gICAgcHJvamVjdGlvblNpZGVzOiB1bmRlZmluZWQsXG4gICAgbWFwU2l6ZTogNTEyLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUd29EaXJlY3Rpb25hbHMgZXh0ZW5kcyBHcm91cCB7XG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICBzdXBlciguLi5hcmdzKTtcblx0XHRjb25zdCB7XG4gICAgICAgICAgICBpbnRlbnNpdHksXG4gICAgICAgICAgICBjYXN0U2hhZG93LFxuICAgICAgICAgICAgYmlhcyxcbiAgICAgICAgICAgIHByb2plY3Rpb25TaWRlcyxcbiAgICAgICAgICAgIG1hcFNpemVcbiAgICAgICAgfSA9IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgICAuLi5hcmdzWzBdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW50ZW5zaXR5ID0gaW50ZW5zaXR5O1xuICAgICAgICB0aGlzLnByb2plY3Rpb25TaWRlcyA9IHByb2plY3Rpb25TaWRlcztcbiAgICAgICAgdGhpcy5tYXBTaXplID0gbWFwU2l6ZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJtYXBzaXplXCIsIHRoaXMubWFwU2l6ZSlcbiAgICAgICAgXG4gICAgICAgIC8qIGNvbnN0IHdoaXRlRW1pID0gbmV3IFdoaXRlSGVtaSgpO1xuICAgICAgICB0aGlzLmFkZCh3aGl0ZUVtaSk7ICovXG5cbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KCd3aGl0ZScsIDAuNjUgKiB0aGlzLmludGVuc2l0eSk7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQyID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoJ3doaXRlJywgMC41NSAqIHRoaXMuaW50ZW5zaXR5KTtcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuYmlhcyA9IGJpYXMgfHwgMDtcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodDIuc2hhZG93LmJpYXMgPSBiaWFzIHx8IDA7XG4gICAgICAgIFxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LmNhc3RTaGFkb3cgPSBjYXN0U2hhZG93O1xuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5jYXN0U2hhZG93ID0gY2FzdFNoYWRvdztcblxuICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb24oZGlyZWN0aW9uYWxMaWdodCwgdGhpcy5wcm9qZWN0aW9uU2lkZXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb24oZGlyZWN0aW9uYWxMaWdodDIsIHRoaXMucHJvamVjdGlvblNpZGVzKTtcbiAgICAgICAgdGhpcy51cGRhdGVTaGFkb3dNYXAoZGlyZWN0aW9uYWxMaWdodCwgdGhpcy5tYXBTaXplKTtcbiAgICAgICAgdGhpcy51cGRhdGVTaGFkb3dNYXAoZGlyZWN0aW9uYWxMaWdodDIsIHRoaXMubWFwU2l6ZSk7XG5cbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgOSxcbiAgICAgICAgICAgICAgICAzLjUsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLnBvc2l0aW9uLmNvcHkoXG4gICAgICAgICAgICBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgICAgICAtMTAsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5hZGQoZGlyZWN0aW9uYWxMaWdodCwgZGlyZWN0aW9uYWxMaWdodDIpO1xuICAgIH1cblxuICAgIHVwZGF0ZVByb2plY3Rpb24obGlnaHQsIHByb2plY3Rpb25TaWRlcykge1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSAtcHJvamVjdGlvblNpZGVzO1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnJpZ2h0ID0gcHJvamVjdGlvblNpZGVzO1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTaGFkb3dNYXAobGlnaHQsIG1hcFNpemUpIHtcbiAgICAgICAgbGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBtYXBTaXplO1xuICAgICAgICBsaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSBtYXBTaXplO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJvYmovbWFsZS5vYmpcIjsiLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgaGVhZCBmcm9tICcuLi8uLi9vYmovbWFsZS5vYmonO1xuaW1wb3J0IExpZ2h0cyBmcm9tICcuLi9MaWdodHMvVHdvRGlyZWN0aW9uYWxzJztcbmltcG9ydCBCYXNpY1NwaGVyZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljU3BoZXJlJztcbmltcG9ydCBCYXNpY0N1YmUgZnJvbSAnLi4vT2JqZWN0cy9CYXNpY0N1YmUnO1xuaW1wb3J0IHsgT0JKTG9hZGVyIH0gZnJvbSAndGhyZWUtb2JqLW10bC1sb2FkZXInO1xuXG5mdW5jdGlvbiBpc01vYmlsZURldmljZSgpIHtcbiAgcmV0dXJuICh0eXBlb2Ygd2luZG93Lm9yaWVudGF0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB8fCAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdJRU1vYmlsZScpICE9PSAtMSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuSGVhZCB7XG4gIGNvbnN0cnVjdG9yKHtzY2VuZSwgb25Mb2FkfSkge1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICB0aGlzLnNldHVwQ2FtZXJhKCk7XG4gICAgXG4gICAgc2NlbmUucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgIHNjZW5lLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gaXNNb2JpbGVEZXZpY2UoKSA/IFRIUkVFLkJhc2ljU2hhZG93TWFwIDogVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgIHRoaXMucm9vdCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuXG4gICAgdGhpcy53aXJlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICAgIHdpcmVmcmFtZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZGluZ0N1YmVNYXQgPSBcbiAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgIGVtaXNzaXZlOiAweDVlMDMxMSxcbiAgICAgICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgICAgIH0pXG4gICAgO1xuXG4gICAgdGhpcy5sb2FkaW5nQ3ViZSA9IG5ldyBCYXNpY0N1YmUoe1xuICAgICAgc2l6ZTo2LFxuICAgICAgbWF0ZXJpYWw6IGxvYWRpbmdDdWJlTWF0LFxuICAgIH0pO1xuXG4gICAgdGhpcy5yb290LmFkZCh0aGlzLmxvYWRpbmdDdWJlLnJvb3QpO1xuXG4gICAgdGhpcy5sb2FkaW5nKDAuNSk7XG5cbiAgICB0aGlzLnNldHVwTGlnaHRzKCk7XG5cbiAgICB0aGlzLmNyZWF0ZVNwaGVyZXMoKTtcbiAgICBcbiAgICB0aGlzLmxvYWRIZWFkKCk7XG5cbiAgICBpZiAob25Mb2FkKSBvbkxvYWQoKTtcbiAgfVxuXG4gIGxvYWRpbmcocGVyY2VudGFnZSkgeyAgICBcbiAgICB0aGlzLmxvYWRpbmdDdWJlLnJvb3Quc2NhbGUuY29weShcbiAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKDEsIDEgLSBwZXJjZW50YWdlLCAxKVxuICAgICk7XG5cbiAgICB0aGlzLmxvYWRpbmdDdWJlLnJvb3QucG9zaXRpb24uY29weShcbiAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKDAsXG4gICAgICAgIC0wLjUgKiB0aGlzLmxvYWRpbmdDdWJlLnJvb3QuZ2VvbWV0cnkucGFyYW1ldGVycy5oZWlnaHQgKiAocGVyY2VudGFnZSksXG4gICAgICAgIDApXG4gICAgKVxuXG4gICAgdmFyIHF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgIHF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZSggbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKSwgKE1hdGguUEkgKiAtMikgKiBwZXJjZW50YWdlICk7XG4gICAgdGhpcy5sb2FkaW5nQ3ViZS5yb290LnF1YXRlcm5pb24uY29weShxdWF0ZXJuaW9uKVxuICB9XG5cbiAgc2V0dXBMaWdodHMoKSB7XG4gICAgY29uc3QgbGlnaHRzID0gbmV3IExpZ2h0cyh7XG4gICAgICBpbnRlbnNpdHk6IDEuOCxcbiAgICAgIGNhc3RTaGFkb3c6IHRydWUsXG4gICAgICBiaWFzOiAwLjAwMDAyLFxuICAgICAgcHJvamVjdGlvblNpZGVzOiAyLjUsXG4gICAgICBtYXBTaXplOiAyMDQ4XG4gICAgfSk7XG4gICAgbGlnaHRzLnJvdGF0ZVkoTWF0aC5QSSk7XG4gICAgdGhpcy5yb290LmFkZChsaWdodHMpO1xuICB9XG5cbiAgc2V0dXBDYW1lcmEoKSB7XG4gICAgY29uc3QgZnJ1c3R1bVNpemUgPSAxMDtcbiAgICBjb25zdCBhc3BlY3QgPSB0aGlzLnNjZW5lLmNhbWVyYS5hc3BlY3Q7XG4gICAgdGhpcy5zY2VuZS5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAtMixcbiAgICAgIGZydXN0dW1TaXplICogYXNwZWN0IC8gMixcbiAgICAgIGZydXN0dW1TaXplIC8gMixcbiAgICAgIGZydXN0dW1TaXplIC8gLTIsXG4gICAgICAxLFxuICAgICAgMTUwKTtcbiAgICB0aGlzLnNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDMuNSwgMTApKTtcbiAgICB0aGlzLnNjZW5lLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCkpO1xuICB9XG5cbiAgY3JlYXRlU3BoZXJlcygpIHtcbiAgICBjb25zdCBzcGhlcmVNYXQgPSBbXG4gICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZSxcbiAgICAgICAgcm91Z2huZXNzOiAwXG4gICAgICB9KSxcbiAgICAgIHRoaXMud2lyZU1hdFxuICAgIF07XG4gICAgY29uc3Qgc3BoZXJlTWF0MiA9IFtcbiAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgIGVtaXNzaXZlOiAweDVlMDMxMSxcbiAgICAgICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgICAgIH0pLFxuICAgICAgdGhpcy53aXJlTWF0XG4gICAgXTtcbiAgICB0aGlzLnNwaGVyZXMgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICB0aGlzLnNwaGVyZUEgPSBuZXcgQmFzaWNTcGhlcmUoe1xuICAgICAgc2l6ZTogOCxcbiAgICAgIHdpZHRoU2VnbWVudHM6IDYsXG4gICAgICBoZWlnaHRTZWdtZW50czogNixcbiAgICAgIG1hdGVyaWFsOiBzcGhlcmVNYXQsXG4gICAgICBjYXN0U2hhZG93OiB0cnVlLFxuICAgICAgcmVjZWl2ZVNoYWRvdzogdHJ1ZSxcbiAgICB9KTtcbiAgICB0aGlzLnNwaGVyZUEucm9vdC5wb3NpdGlvbi5jb3B5KFxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoMi41LCAwLCAzKVxuICAgICk7XG4gICAgXG4gICAgdGhpcy5zcGhlcmVCID0gbmV3IEJhc2ljU3BoZXJlKHtcbiAgICAgIHNpemU6IDcsXG4gICAgICB3aWR0aFNlZ21lbnRzOiA3LFxuICAgICAgaGVpZ2h0U2VnbWVudHM6IDYsXG4gICAgICBtYXRlcmlhbDogc3BoZXJlTWF0LFxuICAgICAgY2FzdFNoYWRvdzogdHJ1ZSxcbiAgICAgIHJlY2VpdmVTaGFkb3c6IHRydWUsXG4gICAgfSk7XG4gICAgdGhpcy5zcGhlcmVCLnJvb3QucG9zaXRpb24uY29weShcbiAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKDIsIDAuNSwgLTcpXG4gICAgKTtcbiAgICBcbiAgICB0aGlzLnNwaGVyZUMgPSBuZXcgQmFzaWNTcGhlcmUoe1xuICAgICAgc2l6ZTogNSxcbiAgICAgIHdpZHRoU2VnbWVudHM6IDUsXG4gICAgICBoZWlnaHRTZWdtZW50czogNCxcbiAgICAgIG1hdGVyaWFsOiBzcGhlcmVNYXQyLFxuICAgICAgY2FzdFNoYWRvdzogdHJ1ZSxcbiAgICAgIHJlY2VpdmVTaGFkb3c6IHRydWUsXG4gICAgfSk7XG4gICAgdGhpcy5zcGhlcmVDLnJvb3QucG9zaXRpb24uY29weShcbiAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKC02LjUsIDAuNSwgLTEpXG4gICAgKTtcbiAgICBcbiAgICB0aGlzLnNwaGVyZXMuYWRkKHRoaXMuc3BoZXJlQS5yb290KTtcbiAgICB0aGlzLnNwaGVyZXMuYWRkKHRoaXMuc3BoZXJlQi5yb290KTtcbiAgICB0aGlzLnNwaGVyZXMuYWRkKHRoaXMuc3BoZXJlQy5yb290KTtcbiAgICBcbiAgICB0aGlzLnNwaGVyZXMucG9zaXRpb24uY29weShcbiAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKDAsIDgsIDApXG4gICAgKTtcbiAgfVxuXG4gIGxvYWRIZWFkKCkge1xuICAgIGNvbnN0IGxvYWRlciA9IG5ldyBPQkpMb2FkZXIoKTtcbiAgICB0aGlzLm9uSGVhZFJlYWR5ID0gdGhpcy5vbkhlYWRSZWFkeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25IZWFkTG9hZGluZyA9IHRoaXMub25IZWFkTG9hZGluZy5iaW5kKHRoaXMpO1xuICAgIGxvYWRlci5sb2FkKFxuICAgICAgaGVhZCxcbiAgICAgIHRoaXMub25IZWFkUmVhZHksXG4gICAgICB0aGlzLm9uSGVhZExvYWRpbmcsXG4gICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0FuIGVycm9yIGhhcHBlbmVkJywgZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cblxuICBvbkhlYWRMb2FkaW5nKHhocikge1xuICAgIGNvbnN0IGxvYWRpbmcgPSB4aHIubG9hZGVkIC8geGhyLnRvdGFsO1xuICAgIGNvbnNvbGUubG9nKChsb2FkaW5nICogMTAwKSArICclIGxvYWRlZCcpO1xuICAgIFxuICAgIHRoaXMubG9hZGluZyhNYXRoLnNpbihsb2FkaW5nKSk7XG4gIH1cblxuICBvbkhlYWRSZWFkeShvYmplY3QpIHtcbiAgICB0aGlzLnJvb3QucmVtb3ZlKCB0aGlzLmxvYWRpbmdDdWJlLnJvb3QgKTtcbiAgICB0aGlzLmxvYWRpbmdDdWJlID0gbnVsbDtcbiAgICBcbiAgICBvYmplY3Quc2NhbGUuY29weShuZXcgVEhSRUUuVmVjdG9yMygwLjIsIDAuMiwgMC4yKSk7XG4gICAgb2JqZWN0LnRyYXZlcnNlKChvYmopID0+IHtcbiAgICAgIG9iai5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgIG9iai5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgIGlmIChvYmoubmFtZSAmJiBvYmoubmFtZS5pbmRleE9mKCdvY2NoaW8nKSA+PSAwKSB7XG4gICAgICAgIG9iai5tYXRlcmlhbC5jb2xvci5zZXRSR0IoMCwgMCwgMCk7XG4gICAgICAgIG9iai5tYXRlcmlhbC5zcGVjdWxhci5zZXRSR0IoMC4xLCAwLjEsIDAuMSk7XG4gICAgICAgIG9iai5tYXRlcmlhbC5yb3VnaG5lc3MgPSAwO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucm9vdC5hZGQob2JqZWN0KTtcbiAgICB0aGlzLmhlYWQgPSBvYmplY3Q7XG4gICAgdGhpcy5oZWFkLnJvdGF0ZVkoLShNYXRoLlBJICogMC4yNSkpO1xuICAgIHRoaXMuaGVhZC5hZGQodGhpcy5zcGhlcmVzKTtcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lRWxhcHNlZCwgZGVsdGEpIHtcbiAgICBpZiAodGhpcy5oZWFkKSB7XG4gICAgICBjb25zdCBhbmltYXRpb25UaW1lID0gdGltZUVsYXBzZWQgKiAwLjE7XG4gICAgICB0aGlzLmhlYWQucm90YXRlWSgoTWF0aC5zaW4oYW5pbWF0aW9uVGltZSkpICogZGVsdGEgKiAwLjEpO1xuXG4gICAgICB0aGlzLnNwaGVyZUEucm9vdC5yb3RhdGVZKDAuMyAqIGRlbHRhKTtcbiAgICAgIHRoaXMuc3BoZXJlQS5yb290LnJvdGF0ZVgoMC42ICogZGVsdGEpO1xuXG4gICAgICB0aGlzLnNwaGVyZUIucm9vdC5yb3RhdGVZKC0wLjQgKiBkZWx0YSk7XG4gICAgICB0aGlzLnNwaGVyZUIucm9vdC5yb3RhdGVYKC0wLjYgKiBkZWx0YSk7XG5cbiAgICAgIHRoaXMuc3BoZXJlQy5yb290LnJvdGF0ZVkoLTAuNCAqIGRlbHRhKTtcbiAgICAgIHRoaXMuc3BoZXJlQy5yb290LnJvdGF0ZVgoMC42ICogZGVsdGEpO1xuICAgICAgdGhpcy5zcGhlcmVDLnJvb3Qucm90YXRlWigwLjkgKiBkZWx0YSk7XG4gICAgfVxuICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=