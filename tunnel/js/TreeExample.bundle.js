(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{10:function(t,e,o){"use strict";o.r(e);var r=o(29),n=(o(36),o(32));var a=function t(e){var o=e.radius,n=void 0===o?5:o,a=e.tube,i=void 0===a?.4:a,s=e.radialSegments,u=void 0===s?8:s,c=e.tubularSegments,l=void 0===c?6:c,h=e.arc,f=void 0===h?2*Math.PI:h,p=e.material,d=e.materialGroups,y=e.position,m=e.rotation,w=e.castShadow,b=e.receiveShadow;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.seed=Math.random();var v=1,g=1,S=1;this.color=new r.Color,this.color.setRGB(v,g,S),this.material=p||new r.MeshBasicMaterial({color:this.color});var M=this.material.length>1?r.TorusBufferGeometry:r.TorusGeometry;if(this.geometry=new M(n,i,u,l,f),this.material.length)if(this.geometry.clearGroups(),d){var j=!0,O=!1,P=void 0;try{for(var _,k=d[Symbol.iterator]();!(j=(_=k.next()).done);j=!0){var R=_.value;console.log(this.geometry),this.geometry.addGroup(R.start,R.count,R.id)}}catch(t){O=!0,P=t}finally{try{j||null==k.return||k.return()}finally{if(O)throw P}}}else for(var E=0;E<p.length;E++)this.geometry.addGroup(0,1/0,E);this.mesh=new r.Mesh(this.geometry,this.material),this.mesh.castShadow=w,this.mesh.receiveShadow=b,y&&this.mesh.position.copy(y),m&&this.mesh.rotation.setFromQuaternion(m),this.root=this.mesh};o(35);function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}o.d(e,"default",function(){return s});var s=function(){function t(e){var o=e.scene,n=e.onLoad;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=o,this.setupCamera(),o.renderer.shadowMap.enabled=!0,o.renderer.shadowMap.type=r.PCFShadowMap,this.root=new r.Group,this.setupLights(),this.setupTunnel(),this.tRays=new r.Group,this.tRaysMat=new r.MeshBasicMaterial({side:r.DoubleSide});for(var i=0;i<18;i++){var s=new r.Quaternion;s.setFromEuler(new r.Euler(.5*Math.PI,.17*(Math.random()-.5),Math.random()),!0);var u=new a({radius:15+5.5*(Math.random()-.5),tube:.2,tubularSegments:46,radialSegments:6,rotation:s,material:this.tRaysMat,position:new r.Vector3(0,1.5-3*Math.random(),0)});u.geometry.faces=u.geometry.faces.map(function(t,e){if(e%6==0&&e%13==0)return t}).filter(function(t){return null!=t}),u.geometry.elementsNeedUpdate=!0,this.tRays.add(u.root)}this.root.add(this.tRays),n&&n()}var e,o,s;return e=t,(o=[{key:"setupTunnel",value:function(){var t=new r.MeshStandardMaterial({color:6161169,flatShading:!0,side:r.CullFaceFront});t.color.setRGB(157/255,239/255,247/255),this.torusRotation=new r.Quaternion,this.torusRotation.setFromEuler(new r.Euler(.5*Math.PI,0,0),!0);var e=new r.MeshBasicMaterial({wireframe:!0});this.torus=new a({radius:15,tube:2.8,material:[t,e],tubularSegments:64,radialSegments:24,rotation:this.torusRotation,materialGroups:[{start:0,count:1/0,id:1}]}),this.root.add(this.torus.root)}},{key:"setupLights",value:function(){this.lights=new n.a({intensity:.6}),this.lights.rotateY(Math.PI),this.root.add(this.lights)}},{key:"loading",value:function(t){}},{key:"setupCamera",value:function(){this.scene.camera.position.copy(new r.Vector3(-14.8,0,0)),this.scene.camera.near=.001,this.scene.camera.updateProjectionMatrix()}},{key:"onHeadLoading",value:function(t){var e=t.loaded/t.total;console.log(100*e+"% loaded"),this.loading(Math.sin(e))}},{key:"onTreeReady",value:function(t){}},{key:"addTree",value:function(t,e,o){}},{key:"update",value:function(t,e){this.torus.root.rotateZ(-.5*e);for(var o=0;o<this.tRays.children.length;o++)this.tRays.children[o].rotateZ(1.4*e+.001*o);this.scene.camera.rotateZ(Math.sin(t)*(-.02*Math.cos(.1*t))),this.lights.rotateX(Math.sin(t)*(-.02*Math.cos(.1*t)))}}])&&i(e.prototype,o),s&&i(e,s),t}()},31:function(t,e,o){"use strict";o.d(e,"a",function(){return u});var r=o(29);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=a(this,i(e).call(this));var o=new r.HemisphereLight(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),t.add(o),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["Group"]),e}()},32:function(t,e,o){"use strict";o.d(e,"a",function(){return h});var r=o(29);o(31);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l={intensity:1,castShadow:!1,bias:0,projectionSides:void 0,mapSize:512},h=function(t){function e(){var t,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];o=s(this,(t=u(e)).call.apply(t,[this].concat(i)));var h=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),r.forEach(function(e){a(t,e,o[e])})}return t}({},l,i[0]),f=h.intensity,p=h.castShadow,d=h.bias,y=h.projectionSides,m=h.mapSize;o.intensity=f,o.projectionSides=y,o.mapSize=m,console.log("mapsize",o.mapSize);var w=new r.DirectionalLight("white",.65*o.intensity),b=new r.DirectionalLight("white",.55*o.intensity);return w.shadow.bias=d||0,b.shadow.bias=d||0,w.castShadow=p,b.castShadow=p,o.updateProjection(w,o.projectionSides),o.updateProjection(b,o.projectionSides),o.updateShadowMap(w,o.mapSize),o.updateShadowMap(b,o.mapSize),w.position.copy(new r.Vector3(9,3.5,0)),b.position.copy(new r.Vector3(-10,2,0)),o.add(w,b),o}var o,n,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r["Group"]),o=e,(n=[{key:"updateProjection",value:function(t,e){t.shadow.camera.left=-e,t.shadow.camera.right=e,t.shadow.camera.updateProjectionMatrix()}},{key:"updateShadowMap",value:function(t,e){t.shadow.mapSize.width=e,t.shadow.mapSize.height=e}}])&&i(o.prototype,n),h&&i(o,h),e}()},36:function(t,e,o){t.exports=o.p+"obj/Lowpoly_tree_sample.obj"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY1RvcnVzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9Mb29wcy9UcmVlRXhhbXBsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1doaXRlSGVtaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1R3b0RpcmVjdGlvbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JqL0xvd3BvbHlfdHJlZV9zYW1wbGUub2JqIl0sIm5hbWVzIjpbIkJhc2ljVG9ydXMiLCJfcmVmIiwiX3JlZiRyYWRpdXMiLCJyYWRpdXMiLCJfcmVmJHR1YmUiLCJ0dWJlIiwiX3JlZiRyYWRpYWxTZWdtZW50cyIsInJhZGlhbFNlZ21lbnRzIiwiX3JlZiR0dWJ1bGFyU2VnbWVudHMiLCJ0dWJ1bGFyU2VnbWVudHMiLCJfcmVmJGFyYyIsImFyYyIsIk1hdGgiLCJQSSIsIm1hdGVyaWFsIiwibWF0ZXJpYWxHcm91cHMiLCJwb3NpdGlvbiIsInJvdGF0aW9uIiwiY2FzdFNoYWRvdyIsInJlY2VpdmVTaGFkb3ciLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2VlZCIsInJhbmRvbSIsImNvbG9yIiwiQ29sb3IiLCJzZXRSR0IiLCJNZXNoQmFzaWNNYXRlcmlhbCIsIlRvcnVzIiwibGVuZ3RoIiwiVG9ydXNCdWZmZXJHZW9tZXRyeSIsIlRvcnVzR2VvbWV0cnkiLCJnZW9tZXRyeSIsImNsZWFyR3JvdXBzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJncm91cCIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsImFkZEdyb3VwIiwic3RhcnQiLCJjb3VudCIsImlkIiwiZXJyIiwicmV0dXJuIiwiaSIsIkluZmluaXR5IiwibWVzaCIsIk1lc2giLCJjb3B5Iiwic2V0RnJvbVF1YXRlcm5pb24iLCJyb290IiwiVHJlZUV4YW1wbGUiLCJzY2VuZSIsIm9uTG9hZCIsIlRyZWVFeGFtcGxlX2NsYXNzQ2FsbENoZWNrIiwic2V0dXBDYW1lcmEiLCJyZW5kZXJlciIsInNoYWRvd01hcCIsImVuYWJsZWQiLCJ0eXBlIiwiVEhSRUUiLCJzZXR1cExpZ2h0cyIsInNldHVwVHVubmVsIiwidFJheXMiLCJ0UmF5c01hdCIsInNpZGUiLCJyYXlSb3RhdGlvbiIsInNldEZyb21FdWxlciIsIm5ld1JheSIsImZhY2VzIiwibWFwIiwiaW5kZXgiLCJmaWx0ZXIiLCJlbGVtZW50c05lZWRVcGRhdGUiLCJhZGQiLCJ0b3J1c01hdGVyaWFsIiwiZmxhdFNoYWRpbmciLCJ0b3J1c1JvdGF0aW9uIiwidG9ydXNXaXJlZnJhbWUiLCJ3aXJlZnJhbWUiLCJ0b3J1cyIsImxpZ2h0cyIsIkxpZ2h0cyIsImludGVuc2l0eSIsInJvdGF0ZVkiLCJwZXJjZW50YWdlIiwiY2FtZXJhIiwibmVhciIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ4aHIiLCJsb2FkaW5nIiwibG9hZGVkIiwidG90YWwiLCJzaW4iLCJvYmplY3QiLCJuZXdQb3NpdGlvbiIsInNjYWxlIiwidGltZUVsYXBzZWQiLCJkZWx0YSIsInJvdGF0ZVoiLCJjaGlsZHJlbiIsImNvcyIsInJvdGF0ZVgiLCJXaGl0ZUhlbWkiLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2dldFByb3RvdHlwZU9mIiwiY2FsbCIsImhlbWlMaWdodCIsIkhlbWlzcGhlcmVMaWdodCIsInNldEhTTCIsIk5vcm1hbGl6ZUh1ZSIsImdyb3VuZENvbG9yIiwic2V0IiwiR3JvdXAiLCJkZWZhdWx0UGFyYW1zIiwiYmlhcyIsInByb2plY3Rpb25TaWRlcyIsIm1hcFNpemUiLCJUd29EaXJlY3Rpb25hbHMiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsIl9kZWZhdWx0UGFyYW1zJGFyZ3MkIiwiX29iamVjdFNwcmVhZCIsImRpcmVjdGlvbmFsTGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0IiwiZGlyZWN0aW9uYWxMaWdodDIiLCJzaGFkb3ciLCJ1cGRhdGVQcm9qZWN0aW9uIiwidXBkYXRlU2hhZG93TWFwIiwiVmVjdG9yMyIsImxpZ2h0IiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInAiXSwibWFwcGluZ3MiOiJpSUFRcUJBLEVBQ25CLFNBQUFBLEVBQUFDLEdBWUcsSUFBQUMsRUFBQUQsRUFYREUsY0FXQyxJQUFBRCxFQVhRLEVBV1JBLEVBQUFFLEVBQUFILEVBVkRJLFlBVUMsSUFBQUQsRUFWTSxHQVVOQSxFQUFBRSxFQUFBTCxFQVRETSxzQkFTQyxJQUFBRCxFQVRnQixFQVNoQkEsRUFBQUUsRUFBQVAsRUFSRFEsdUJBUUMsSUFBQUQsRUFSaUIsRUFRakJBLEVBQUFFLEVBQUFULEVBUERVLFdBT0MsSUFBQUQsRUFQZSxFQUFWRSxLQUFLQyxHQU9WSCxFQU5ESSxFQU1DYixFQU5EYSxTQUNBQyxFQUtDZCxFQUxEYyxlQUNBQyxFQUlDZixFQUpEZSxTQUNBQyxFQUdDaEIsRUFIRGdCLFNBQ0FDLEVBRUNqQixFQUZEaUIsV0FDQUMsRUFDQ2xCLEVBRERrQiwyR0FDQ0MsQ0FBQUMsS0FBQXJCLEdBQ0RxQixLQUFLQyxLQUFPVixLQUFLVyxTQUNqQixJQUFNQyxFQUFXLEVBQVhBLEVBQWdCLEVBQWhCQSxFQUFxQixFQUMzQkgsS0FBS0csTUFBUSxJQUFJQyxRQUNqQkosS0FBS0csTUFBTUUsT0FBT0YsRUFBU0EsRUFBU0EsR0FFcENILEtBQUtQLFNBQVdBLEdBQVksSUFBSWEsb0JBQWtCLENBQ2hESCxNQUFPSCxLQUFLRyxRQUdkLElBQU1JLEVBQVFQLEtBQUtQLFNBQVNlLE9BQVMsRUFBSUMsc0JBQXNCQyxnQkFVL0Qs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cyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvbG9yLFxuICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgVG9ydXNCdWZmZXJHZW9tZXRyeSxcbiAgVG9ydXNHZW9tZXRyeSxcbiAgTWVzaFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljVG9ydXMge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgcmFkaXVzID0gNSxcbiAgICB0dWJlID0gMC40LFxuICAgIHJhZGlhbFNlZ21lbnRzID0gOCxcbiAgICB0dWJ1bGFyU2VnbWVudHMgPSA2LFxuICAgIGFyYyA9IE1hdGguUEkgKiAyLFxuICAgIG1hdGVyaWFsLFxuICAgIG1hdGVyaWFsR3JvdXBzLFxuICAgIHBvc2l0aW9uLFxuICAgIHJvdGF0aW9uLFxuICAgIGNhc3RTaGFkb3csXG4gICAgcmVjZWl2ZVNoYWRvd1xuICB9KSB7XG4gICAgdGhpcy5zZWVkID0gTWF0aC5yYW5kb20oKTtcbiAgICBjb25zdCBjb2xvciA9IHtyOjEgLGc6MSwgYjoxfTtcbiAgICB0aGlzLmNvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgdGhpcy5jb2xvci5zZXRSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG5cbiAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWwgfHwgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgVG9ydXMgPSB0aGlzLm1hdGVyaWFsLmxlbmd0aCA+IDEgPyBUb3J1c0J1ZmZlckdlb21ldHJ5IDogVG9ydXNHZW9tZXRyeTtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVG9ydXMoXG4gICAgICByYWRpdXMsXG4gICAgICB0dWJlLFxuICAgICAgcmFkaWFsU2VnbWVudHMsXG4gICAgICB0dWJ1bGFyU2VnbWVudHMsXG4gICAgICBhcmNcbiAgICApO1xuICAgIFxuICAgIGlmICh0aGlzLm1hdGVyaWFsLmxlbmd0aCkge1xuICAgICAgdGhpcy5nZW9tZXRyeS5jbGVhckdyb3VwcygpO1xuICAgICAgaWYgKCFtYXRlcmlhbEdyb3Vwcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5nZW9tZXRyeS5hZGRHcm91cCggMCwgSW5maW5pdHksIGkgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgZ3JvdXAgb2YgbWF0ZXJpYWxHcm91cHMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdlb21ldHJ5KVxuICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuYWRkR3JvdXAoIGdyb3VwLnN0YXJ0LCBncm91cC5jb3VudCwgZ3JvdXAuaWQgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKFxuICAgICAgdGhpcy5nZW9tZXRyeSxcbiAgICAgIHRoaXMubWF0ZXJpYWxcbiAgICApO1xuXG4gICAgdGhpcy5tZXNoLmNhc3RTaGFkb3cgPSBjYXN0U2hhZG93O1xuICAgIHRoaXMubWVzaC5yZWNlaXZlU2hhZG93ID0gcmVjZWl2ZVNoYWRvdztcblxuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIH1cbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIHRoaXMubWVzaC5yb3RhdGlvbi5zZXRGcm9tUXVhdGVybmlvbihyb3RhdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5yb290ID0gdGhpcy5tZXNoO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgdHJlZSBmcm9tICcuLi8uLi9vYmovTG93cG9seV90cmVlX3NhbXBsZS5vYmonO1xuaW1wb3J0IExpZ2h0cyBmcm9tICcuLi9MaWdodHMvVHdvRGlyZWN0aW9uYWxzJztcbmltcG9ydCBCYXNpY1RvcnVzIGZyb20gJy4uL09iamVjdHMvQmFzaWNUb3J1cyc7XG5pbXBvcnQgeyBPQkpMb2FkZXIgfSBmcm9tICd0aHJlZS1vYmotbXRsLWxvYWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyZWVFeGFtcGxlIHtcbiAgY29uc3RydWN0b3Ioe3NjZW5lLCBvbkxvYWR9KSB7XG4gICAgXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMuc2V0dXBDYW1lcmEoKTtcbiAgICBcbiAgICBzY2VuZS5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgc2NlbmUucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTaGFkb3dNYXA7XG5cbiAgICB0aGlzLnJvb3QgPSBuZXcgVEhSRUUuR3JvdXAoKTtcblxuICAgIHRoaXMuc2V0dXBMaWdodHMoKTtcbiAgICB0aGlzLnNldHVwVHVubmVsKCk7XG5cbiAgICB0aGlzLnRSYXlzID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgdGhpcy50UmF5c01hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXG4gICAgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE4OyBpKyspIHtcbiAgICAgIGNvbnN0IHJheVJvdGF0aW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgIHJheVJvdGF0aW9uLnNldEZyb21FdWxlcihuZXcgVEhSRUUuRXVsZXIoTWF0aC5QSSAqIDAuNSwgKE1hdGgucmFuZG9tKCkgLTAuNSkgKiAwLjE3LCBNYXRoLnJhbmRvbSgpKSwgdHJ1ZSk7XG4gICAgICBjb25zdCBuZXdSYXkgPSBuZXcgQmFzaWNUb3J1cyh7XG4gICAgICAgIHJhZGl1czogMTUgKyAoKE1hdGgucmFuZG9tKCkgLTAuNSkgKiA1LjUpLFxuICAgICAgICB0dWJlOiAwLjIsXG4gICAgICAgIHR1YnVsYXJTZWdtZW50czogNDYsXG4gICAgICAgIHJhZGlhbFNlZ21lbnRzOiA2LFxuICAgICAgICByb3RhdGlvbjogcmF5Um90YXRpb24sXG4gICAgICAgIG1hdGVyaWFsOiB0aGlzLnRSYXlzTWF0LFxuICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMS41IC0gKE1hdGgucmFuZG9tKCkgKiAzKSwgMClcbiAgICAgIH0pO1xuICAgICAgbmV3UmF5Lmdlb21ldHJ5LmZhY2VzID0gbmV3UmF5Lmdlb21ldHJ5LmZhY2VzLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICgoaW5kZXglNiA9PSAwKSAmJiAoaW5kZXglMTMgPT0gMCkpIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pLmZpbHRlcigodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgICAgbmV3UmF5Lmdlb21ldHJ5LmVsZW1lbnRzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLnRSYXlzLmFkZChuZXdSYXkucm9vdCk7XG4gICAgfVxuXG4gICAgdGhpcy5yb290LmFkZCh0aGlzLnRSYXlzKTtcblxuICAgIGlmIChvbkxvYWQpIG9uTG9hZCgpO1xuICB9XG5cbiAgc2V0dXBUdW5uZWwoKSB7XG5cbiAgICBjb25zdCB0b3J1c01hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiAweDVlMDMxMSxcbiAgICAgIGZsYXRTaGFkaW5nOiB0cnVlLFxuICAgICAgc2lkZTogVEhSRUUuQ3VsbEZhY2VGcm9udFxuICAgIH0pO1xuICAgIHRvcnVzTWF0ZXJpYWwuY29sb3Iuc2V0UkdCKDE1Ny8yNTUsIDIzOS8yNTUsIDI0Ny8yNTUpO1xuICAgIHRoaXMudG9ydXNSb3RhdGlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgdGhpcy50b3J1c1JvdGF0aW9uLnNldEZyb21FdWxlcihuZXcgVEhSRUUuRXVsZXIoTWF0aC5QSSAqIDAuNSwgMCwgMCksIHRydWUpO1xuXG4gICAgY29uc3QgdG9ydXNXaXJlZnJhbWUgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgd2lyZWZyYW1lOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMudG9ydXMgPSBuZXcgQmFzaWNUb3J1cyh7XG4gICAgICByYWRpdXM6IDE1LFxuICAgICAgdHViZTogMi44LFxuICAgICAgbWF0ZXJpYWw6IFt0b3J1c01hdGVyaWFsLCB0b3J1c1dpcmVmcmFtZV0sXG4gICAgICB0dWJ1bGFyU2VnbWVudHM6IDY0LFxuICAgICAgcmFkaWFsU2VnbWVudHM6IDI0LFxuICAgICAgcm90YXRpb246IHRoaXMudG9ydXNSb3RhdGlvbixcbiAgICAgIG1hdGVyaWFsR3JvdXBzOiBbe3N0YXJ0OjAsIGNvdW50OkluZmluaXR5LCBpZDoxfV1cbiAgICB9KTtcblxuICAgIHRoaXMucm9vdC5hZGQodGhpcy50b3J1cy5yb290KTtcblxuICB9XG5cbiAgc2V0dXBMaWdodHMoKSB7XG4gICAgdGhpcy5saWdodHMgPSBuZXcgTGlnaHRzKHtcbiAgICAgIGludGVuc2l0eTogMC42LFxuICAgIH0pO1xuICAgIHRoaXMubGlnaHRzLnJvdGF0ZVkoTWF0aC5QSSk7XG4gICAgdGhpcy5yb290LmFkZCh0aGlzLmxpZ2h0cyk7XG4gIH1cblxuICBsb2FkaW5nKHBlcmNlbnRhZ2UpIHsgICAgXG4gICAgXG4gIH1cblxuICBzZXR1cENhbWVyYSgpIHtcbiAgICB0aGlzLnNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKC0xNC44LCAwLCAwKSk7XG4gICAgdGhpcy5zY2VuZS5jYW1lcmEubmVhciA9IDAuMDAxO1xuICAgIHRoaXMuc2NlbmUuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAvL3RoaXMuc2NlbmUuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XG4gIH1cblxuICBvbkhlYWRMb2FkaW5nKHhocikge1xuICAgIGNvbnN0IGxvYWRpbmcgPSB4aHIubG9hZGVkIC8geGhyLnRvdGFsO1xuICAgIGNvbnNvbGUubG9nKChsb2FkaW5nICogMTAwKSArICclIGxvYWRlZCcpO1xuICAgIFxuICAgIHRoaXMubG9hZGluZyhNYXRoLnNpbihsb2FkaW5nKSk7XG4gIH1cblxuICBvblRyZWVSZWFkeShvYmplY3QpIHtcbiAgfVxuXG4gIGFkZFRyZWUob2JqZWN0LCBuZXdQb3NpdGlvbiwgc2NhbGUpIHtcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lRWxhcHNlZCwgZGVsdGEpIHtcbiAgICB0aGlzLnRvcnVzLnJvb3Qucm90YXRlWigtMC41ICogZGVsdGEpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50UmF5cy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy50UmF5cy5jaGlsZHJlbltpXS5yb3RhdGVaKCgxLjQgKiBkZWx0YSkgKyAoaSAqIDAuMDAxKSk7XG4gICAgfVxuICAgIHRoaXMuc2NlbmUuY2FtZXJhLnJvdGF0ZVooTWF0aC5zaW4odGltZUVsYXBzZWQpICogKE1hdGguY29zKHRpbWVFbGFwc2VkICogMC4xKSAqIC0wLjAyKSlcbiAgICB0aGlzLmxpZ2h0cy5yb3RhdGVYKE1hdGguc2luKHRpbWVFbGFwc2VkKSAqIChNYXRoLmNvcyh0aW1lRWxhcHNlZCAqIDAuMSkgKiAtMC4wMikpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7XG5cdEdyb3VwLFxuXHRIZW1pc3BoZXJlTGlnaHRcbn0gZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaGl0ZUhlbWkgZXh0ZW5kcyBHcm91cCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBoZW1pTGlnaHQgPSBuZXcgSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZmZiwgMHhmZmZmZmYsIDMuMCApO1xuXHRcdGhlbWlMaWdodC5jb2xvci5zZXRIU0woXG5cdFx0XHRNYXRoLk5vcm1hbGl6ZUh1ZSgzMjUpLCBcblx0XHRcdDAuMSxcblx0XHRcdDAuOTRcblx0XHQpO1xuXHRcdGhlbWlMaWdodC5ncm91bmRDb2xvci5zZXRIU0woXG5cdFx0XHRNYXRoLk5vcm1hbGl6ZUh1ZSgzMjUpLCBcblx0XHRcdDAuMSwgXG5cdFx0XHQwLjY0XG5cdFx0KTtcblx0XHRoZW1pTGlnaHQucG9zaXRpb24uc2V0KCAwLCAyLCAwICk7XG5cdFx0dGhpcy5hZGQoIGhlbWlMaWdodCApO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuICAgIEdyb3VwLFxuICAgIERpcmVjdGlvbmFsTGlnaHQsXG4gICAgVmVjdG9yM1xuICB9IGZyb20gJ3RocmVlJztcbmltcG9ydCBXaGl0ZUhlbWkgZnJvbSAnLi9XaGl0ZUhlbWkuanMnO1xuXG5jb25zdCBkZWZhdWx0UGFyYW1zID0ge1xuICAgIGludGVuc2l0eTogMSxcbiAgICBjYXN0U2hhZG93OiBmYWxzZSxcbiAgICBiaWFzOiAwLFxuICAgIHByb2plY3Rpb25TaWRlczogdW5kZWZpbmVkLFxuICAgIG1hcFNpemU6IDUxMixcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHdvRGlyZWN0aW9uYWxzIGV4dGVuZHMgR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XG5cdFx0Y29uc3Qge1xuICAgICAgICAgICAgaW50ZW5zaXR5LFxuICAgICAgICAgICAgY2FzdFNoYWRvdyxcbiAgICAgICAgICAgIGJpYXMsXG4gICAgICAgICAgICBwcm9qZWN0aW9uU2lkZXMsXG4gICAgICAgICAgICBtYXBTaXplXG4gICAgICAgIH0gPSB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0UGFyYW1zLFxuICAgICAgICAgICAgLi4uYXJnc1swXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmludGVuc2l0eSA9IGludGVuc2l0eTtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uU2lkZXMgPSBwcm9qZWN0aW9uU2lkZXM7XG4gICAgICAgIHRoaXMubWFwU2l6ZSA9IG1hcFNpemU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibWFwc2l6ZVwiLCB0aGlzLm1hcFNpemUpXG4gICAgICAgIFxuICAgICAgICAvKiBjb25zdCB3aGl0ZUVtaSA9IG5ldyBXaGl0ZUhlbWkoKTtcbiAgICAgICAgdGhpcy5hZGQod2hpdGVFbWkpOyAqL1xuXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgnd2hpdGUnLCAwLjY1ICogdGhpcy5pbnRlbnNpdHkpO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0MiA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KCd3aGl0ZScsIDAuNTUgKiB0aGlzLmludGVuc2l0eSk7XG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmJpYXMgPSBiaWFzIHx8IDA7XG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLnNoYWRvdy5iaWFzID0gYmlhcyB8fCAwO1xuICAgICAgICBcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5jYXN0U2hhZG93ID0gY2FzdFNoYWRvdztcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodDIuY2FzdFNoYWRvdyA9IGNhc3RTaGFkb3c7XG5cbiAgICAgICAgdGhpcy51cGRhdGVQcm9qZWN0aW9uKGRpcmVjdGlvbmFsTGlnaHQsIHRoaXMucHJvamVjdGlvblNpZGVzKTtcbiAgICAgICAgdGhpcy51cGRhdGVQcm9qZWN0aW9uKGRpcmVjdGlvbmFsTGlnaHQyLCB0aGlzLnByb2plY3Rpb25TaWRlcyk7XG4gICAgICAgIHRoaXMudXBkYXRlU2hhZG93TWFwKGRpcmVjdGlvbmFsTGlnaHQsIHRoaXMubWFwU2l6ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlU2hhZG93TWFwKGRpcmVjdGlvbmFsTGlnaHQyLCB0aGlzLm1hcFNpemUpO1xuXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24uY29weShcbiAgICAgICAgICAgIG5ldyBWZWN0b3IzKFxuICAgICAgICAgICAgICAgIDksXG4gICAgICAgICAgICAgICAgMy41LFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgLTEwLFxuICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuYWRkKGRpcmVjdGlvbmFsTGlnaHQsIGRpcmVjdGlvbmFsTGlnaHQyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQcm9qZWN0aW9uKGxpZ2h0LCBwcm9qZWN0aW9uU2lkZXMpIHtcbiAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gLXByb2plY3Rpb25TaWRlcztcbiAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IHByb2plY3Rpb25TaWRlcztcbiAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlU2hhZG93TWFwKGxpZ2h0LCBtYXBTaXplKSB7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gbWFwU2l6ZTtcbiAgICAgICAgbGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gbWFwU2l6ZTtcbiAgICB9XG59IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwib2JqL0xvd3BvbHlfdHJlZV9zYW1wbGUub2JqXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==