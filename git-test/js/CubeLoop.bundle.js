(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{17:function(t,e,o){"use strict";o.d(e,"a",function(){return r});var n=o(16);var r=function t(e){var o=e.size,r=void 0===o?5:o,a=e.material,i=e.position;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.seed=Math.random();var c=1,s=1,u=1;this.color=new n.Color,this.color.setRGB(c,s,u),this.material=a||new n.MeshBasicMaterial({color:this.color}),this.geometry=new n.BoxGeometry(r,r,r),this.mesh=new n.Mesh(this.geometry,this.material),i&&this.mesh.position.copy(i),this.root=this.mesh}},8:function(t,e,o){"use strict";o.r(e);var n=o(16);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=a(this,i(e).call(this));var o=new n.HemisphereLight(16777215,16777215,1.5);return o.color.setHSL(u(250),.9,.94),o.groundColor.setHSL(u(250),.9,.44),o.position.set(0,2,0),t.add(o),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n["Group"]),e}();function u(t){return t/360}var h=o(17);function l(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o.d(e,"default",function(){return p});var p=function(){function t(e){var o=e.scene,r=e.onLoad;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=new n.Color;a.setIntHSL(48,90,64),o.renderer.setClearColor(a);var i=o.camera.aspect;o.camera=new n.OrthographicCamera(10*i/-2,10*i/2,5,-5,1,150),o.camera.position.copy(new n.Vector3(-10,10,10)),o.camera.lookAt(new n.Vector3(0,0,0)),this.root=new n.Group;var c=new s;this.root.add(c);var u=new n.MeshStandardMaterial({color:16777215,metalness:.4,roughness:.2});this.cubes=[new h.a({size:2,material:u,position:new n.Vector3(-1,1,1)}),new h.a({size:2,material:u,position:new n.Vector3(1,1,1)}),new h.a({size:2,material:u,position:new n.Vector3(-1,1,-1)}),new h.a({size:2,material:u,position:new n.Vector3(1,1,-1)}),new h.a({size:2,material:u,position:new n.Vector3(-1,-1,1)}),new h.a({size:2,material:u,position:new n.Vector3(1,-1,1)}),new h.a({size:2,material:u,position:new n.Vector3(-1,-1,-1)}),new h.a({size:2,material:u,position:new n.Vector3(1,-1,-1)})],this.cubesParent=new n.Group;var l=!0,p=!1,f=void 0;try{for(var w,y=this.cubes[Symbol.iterator]();!(l=(w=y.next()).done);l=!0){var b=w.value;this.cubesParent.add(b.root)}}catch(t){p=!0,f=t}finally{try{l||null==y.return||y.return()}finally{if(p)throw f}}this.cubesParent.position.copy(new n.Vector3(1,-1,-1)),this.root.add(this.cubesParent),r&&r()}var e,o,r;return e=t,(o=[{key:"update",value:function(t){var e=3*t;e%(2*Math.PI)<Math.PI?this.firstSection(e):this.secondSection(e)}},{key:"firstSection",value:function(t){var e=Math.sin(.5*t),o=Math.abs(e);this.cubesParent.children[7].position.copy(new n.Vector3(1,-1,-1));for(var r=0;r<this.cubesParent.children.length;r++){var a=this.cubesParent.children[r],i=Math.clamp((1-o)*(.5*Math.PI)+.125*r,0,1),c=new n.Vector3(i,i,i);a.scale.copy(c),a.rotation.z=i*Math.PI,a.rotation.x=i*Math.PI*.5}}},{key:"secondSection",value:function(t){var e=Math.sin(.5*t),o=Math.abs(e),r=Math.cos(.5*t),a=Math.abs(r),i=this.cubesParent.children[7],c=Math.clamp((1-o)*(.5*Math.PI)+.875+a,0,2),s=new n.Vector3(c,c,c);i.scale.copy(s),i.rotation.z=c*Math.PI,i.rotation.x=c*Math.PI*.5;var u=new n.Vector3(1,-1,-1);i.position.copy(u.lerp(new n.Vector3(0,0,0),Math.clamp(6*(1-o),0,1)));for(var h=0;h<this.cubesParent.children.length-1;h++){var l=this.cubesParent.children[h],p=Math.clamp(Math.clamp((1-o)*(.5*Math.PI)+.125*h,0,1)-a,0,1),f=new n.Vector3(p,p,p);l.scale.copy(f),l.rotation.z=p*Math.PI,l.rotation.x=p*Math.PI*.5}}}])&&l(e.prototype,o),r&&l(e,r),t}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9CbHVlUGFydHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL0N1YmVMb29wLmpzIl0sIm5hbWVzIjpbIkJhc2ljQ3ViZSIsIl9yZWYiLCJfcmVmJHNpemUiLCJzaXplIiwibWF0ZXJpYWwiLCJwb3NpdGlvbiIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJzZWVkIiwiTWF0aCIsInJhbmRvbSIsImNvbG9yIiwiQ29sb3IiLCJzZXRSR0IiLCJNZXNoQmFzaWNNYXRlcmlhbCIsImdlb21ldHJ5IiwiQm94R2VvbWV0cnkiLCJtZXNoIiwiTWVzaCIsImNvcHkiLCJyb290IiwiTGlndGhzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsImNhbGwiLCJoZW1pTGlnaHQiLCJIZW1pc3BoZXJlTGlnaHQiLCJzZXRIU0wiLCJOb3JtYWxpemVIIiwiZ3JvdW5kQ29sb3IiLCJzZXQiLCJhZGQiLCJHcm91cCIsImgiLCJDdWJlTG9vcCIsInNjZW5lIiwib25Mb2FkIiwiQ3ViZUxvb3BfY2xhc3NDYWxsQ2hlY2siLCJjbGVhckNvbG9yIiwic2V0SW50SFNMIiwicmVuZGVyZXIiLCJzZXRDbGVhckNvbG9yIiwiYXNwZWN0IiwiY2FtZXJhIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwiZnJ1c3R1bVNpemUiLCJWZWN0b3IzIiwibG9va0F0IiwibGlnaHRzIiwiTGlnaHRzIiwiY3ViZU1hdCIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwibWV0YWxuZXNzIiwicm91Z2huZXNzIiwiY3ViZXMiLCJjdWJlc1BhcmVudCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwiY3ViZSIsInZhbHVlIiwiZXJyIiwicmV0dXJuIiwidGltZUVsYXBzZWQiLCJhbmltYXRpb25UaW1lIiwiUEkiLCJmaXJzdFNlY3Rpb24iLCJzZWNvbmRTZWN0aW9uIiwic2luVGltZSIsInNpbiIsImFic1NpblRpbWUiLCJhYnMiLCJjaGlsZHJlbiIsImkiLCJsZW5ndGgiLCJjaGlsZCIsInJvdGEiLCJjbGFtcCIsInNpblNjYWxlIiwic2NhbGUiLCJyb3RhdGlvbiIsInoiLCJ4IiwiY29zVGltZSIsImNvcyIsImFic0Nvc1RpbWUiLCJvbGRQb3MiLCJsZXJwIl0sIm1hcHBpbmdzIjoieUlBT3FCQSxFQUNuQixTQUFBQSxFQUFBQyxHQUE0QyxJQUFBQyxFQUFBRCxFQUEvQkUsWUFBK0IsSUFBQUQsRUFBeEIsRUFBd0JBLEVBQXJCRSxFQUFxQkgsRUFBckJHLFNBQVVDLEVBQVdKLEVBQVhJLHNHQUFXQyxDQUFBQyxLQUFBUCxHQUMxQ08sS0FBS0MsS0FBT0MsS0FBS0MsU0FDakIsSUFBTUMsRUFBVyxFQUFYQSxFQUFnQixFQUFoQkEsRUFBcUIsRUFDM0JKLEtBQUtJLE1BQVEsSUFBSUMsUUFDakJMLEtBQUtJLE1BQU1FLE9BQU9GLEVBQVNBLEVBQVNBLEdBRXBDSixLQUFLSCxTQUFXQSxHQUFZLElBQUlVLG9CQUFrQixDQUNoREgsTUFBT0osS0FBS0ksUUFHZEosS0FBS1EsU0FBVyxJQUFJQyxjQUFZYixFQUFNQSxFQUFNQSxHQUU1Q0ksS0FBS1UsS0FBTyxJQUFJQyxPQUNkWCxLQUFLUSxTQUNMUixLQUFLSCxVQUdIQyxHQUNGRSxLQUFLVSxLQUFLWixTQUFTYyxLQUFLZCxHQUcxQkUsS0FBS2EsS0FBT2IsS0FBS1UsOHJCQ3hCQUksY0FDbkIsU0FBQUEsSUFBYyxJQUFBQywrRkFBQWhCLENBQUFDLEtBQUFjLEdBQ1pDLEVBQUFDLEVBQUFoQixLQUFBaUIsRUFBQUgsR0FBQUksS0FBQWxCLE9BRUEsSUFBTW1CLEVBQVksSUFBSUMsa0JBQWlC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QUtnRSxHQUNoQ1UsRUFBTUssU0FBU0UsRUFBSU4sRUFBTzNFLEtBQUtnRSxHQUFLLEdBQ3BDLElBQU1xQixFQUFTLElBQUkvQyxVQUFRLEdBQUksR0FBSSxHQUNuQ29DLEVBQU05RSxTQUFTYyxLQUFLMkUsRUFBT0MsS0FBSyxJQUFJaEQsVUFBUSxFQUFHLEVBQUcsR0FBSXRDLEtBQUs0RSxNQUF5QixHQUFsQixFQUFJUCxHQUFpQixFQUFHLEtBQzFGLElBQUssSUFBSUcsRUFBSSxFQUFHQSxFQUFJMUUsS0FBS2lELFlBQVl3QixTQUFTRSxPQUFTLEVBQUdELElBQUssQ0FDN0QsSUFBTUUsRUFBUTVFLEtBQUtpRCxZQUFZd0IsU0FBU0MsR0FDbENHLEVBQU8zRSxLQUFLNEUsTUFBUTVFLEtBQUs0RSxPQUFRLEVBQUlQLElBQXlCLEdBQVZyRSxLQUFLZ0UsSUFBaUIsS0FBSlEsRUFBYSxFQUFHLEdBQzFGWSxFQUFhLEVBQUcsR0FDWlAsRUFBVyxJQUFJdkMsVUFBUXFDLEVBQU1BLEVBQU1BLEdBQ3pDRCxFQUFNSSxNQUFNcEUsS0FBS21FLEdBQ2pCSCxFQUFNSyxTQUFTQyxFQUFLTCxFQUFPM0UsS0FBS2dFLEdBQ2hDVSxFQUFNSyxTQUFTRSxFQUFJTixFQUFPM0UsS0FBS2dFLEdBQUsiLCJmaWxlIjoiLi9qcy9DdWJlTG9vcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIENvbG9yLFxyXG4gIE1lc2hCYXNpY01hdGVyaWFsLFxyXG4gIEJveEdlb21ldHJ5LFxyXG4gIE1lc2hcclxufSBmcm9tICd0aHJlZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY0N1YmUge1xyXG4gIGNvbnN0cnVjdG9yKHtzaXplID0gNSwgbWF0ZXJpYWwsIHBvc2l0aW9ufSkge1xyXG4gICAgdGhpcy5zZWVkID0gTWF0aC5yYW5kb20oKTtcclxuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xyXG4gICAgdGhpcy5jb2xvciA9IG5ldyBDb2xvcigpO1xyXG4gICAgdGhpcy5jb2xvci5zZXRSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XHJcblxyXG4gICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsIHx8IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEJveEdlb21ldHJ5KHNpemUsIHNpemUsIHNpemUpO1xyXG5cclxuICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKFxyXG4gICAgICB0aGlzLmdlb21ldHJ5LFxyXG4gICAgICB0aGlzLm1hdGVyaWFsXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChwb3NpdGlvbikge1xyXG4gICAgICB0aGlzLm1lc2gucG9zaXRpb24uY29weShwb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yb290ID0gdGhpcy5tZXNoO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIEdyb3VwLFxyXG4gIEhlbWlzcGhlcmVMaWdodFxyXG59IGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZ3RocyBleHRlbmRzIEdyb3VwIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgY29uc3QgaGVtaUxpZ2h0ID0gbmV3IEhlbWlzcGhlcmVMaWdodCggMHhmZmZmZmYsIDB4ZmZmZmZmLCAxLjUgKTtcclxuXHRcdGhlbWlMaWdodC5jb2xvci5zZXRIU0woXHJcbiAgICAgIE5vcm1hbGl6ZUgoMjUwKSxcclxuICAgICAgMC45LFxyXG4gICAgICAwLjk0LFxyXG4gICAgKTtcclxuXHRcdGhlbWlMaWdodC5ncm91bmRDb2xvci5zZXRIU0woXHJcbiAgICAgIE5vcm1hbGl6ZUgoMjUwKSxcclxuICAgICAgMC45LFxyXG4gICAgICAwLjQ0LFxyXG4gICAgKTtcclxuXHRcdGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDIsIDAgKTtcclxuXHRcdHRoaXMuYWRkKCBoZW1pTGlnaHQgKTtcclxuXHR9XHJcbn1cclxuXHRcclxuZnVuY3Rpb24gTm9ybWFsaXplSChoKSB7XHJcblx0cmV0dXJuIGgvMzYwLjA7XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBDb2xvcixcclxuICBPcnRob2dyYXBoaWNDYW1lcmEsXHJcbiAgVmVjdG9yMyxcclxuICBHcm91cCxcclxuICBNZXNoU3RhbmRhcmRNYXRlcmlhbFxyXG59IGZyb20gJ3RocmVlJztcclxuaW1wb3J0IExpZ2h0cyBmcm9tICcuLi9MaWdodHMvQmx1ZVBhcnR5LmpzJztcclxuaW1wb3J0IEJhc2ljQ3ViZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljQ3ViZS5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdWJlTG9vcCB7XHJcbiAgY29uc3RydWN0b3Ioe3NjZW5lLCBvbkxvYWR9KSB7XHJcbiAgICBjb25zdCBjbGVhckNvbG9yID0gbmV3IENvbG9yKCk7XHJcbiAgICBjbGVhckNvbG9yLnNldEludEhTTCg0OCwgOTAsIDY0KTtcclxuICAgIHNjZW5lLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoY2xlYXJDb2xvcik7XHJcblxyXG4gICAgY29uc3QgZnJ1c3R1bVNpemUgPSAxMDtcclxuICAgIGNvbnN0IGFzcGVjdCA9IHNjZW5lLmNhbWVyYS5hc3BlY3Q7XHJcblxyXG4gICAgc2NlbmUuY2FtZXJhID0gbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYShcclxuICAgICAgICBmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIC0yLFxyXG4gICAgICAgIGZydXN0dW1TaXplICogYXNwZWN0IC8gMixcclxuICAgICAgICBmcnVzdHVtU2l6ZSAvIDIsXHJcbiAgICAgICAgZnJ1c3R1bVNpemUgLyAtMixcclxuICAgICAgICAxLFxyXG4gICAgICAgIDE1MFxyXG4gICAgKTtcclxuICAgIHNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBWZWN0b3IzKC0xMCwgMTAsIDEwKSk7XHJcbiAgICBzY2VuZS5jYW1lcmEubG9va0F0KG5ldyBWZWN0b3IzKDAsIDAsIDApKTtcclxuXHJcbiAgICB0aGlzLnJvb3QgPSBuZXcgR3JvdXAoKTtcclxuXHJcbiAgICBjb25zdCBsaWdodHMgPSBuZXcgTGlnaHRzKCk7XHJcbiAgICB0aGlzLnJvb3QuYWRkKGxpZ2h0cyk7XHJcblxyXG5cdFx0Y29uc3QgY3ViZU1hdCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcblx0XHRcdGNvbG9yOiAweGZmZmZmZixcclxuXHRcdFx0bWV0YWxuZXNzOiAwLjQsXHJcblx0XHRcdHJvdWdobmVzczogMC4yLFxyXG5cdFx0fSk7XHJcblxyXG4gICAgdGhpcy5jdWJlcyA9IFtcclxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgc2l6ZTogMixcclxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcclxuICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoLTEsIDEsIDEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygxLCAxLCAxKVxyXG4gICAgICB9KSxcclxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgc2l6ZTogMixcclxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcclxuICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoLTEsIDEsIC0xKVxyXG4gICAgICB9KSxcclxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgc2l6ZTogMixcclxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcclxuICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMSwgMSwgLTEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygtMSwgLTEsIDEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygxLCAtMSwgMSlcclxuICAgICAgfSksXHJcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xyXG4gICAgICAgIHNpemU6IDIsXHJcbiAgICAgICAgbWF0ZXJpYWw6IGN1YmVNYXQsXHJcbiAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKC0xLCAtMSwgLTEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygxLCAtMSwgLTEpXHJcbiAgICAgIH0pXTtcclxuXHJcbiAgICB0aGlzLmN1YmVzUGFyZW50ID0gbmV3IEdyb3VwKCk7XHJcbiAgICBmb3IgKGxldCBjdWJlIG9mIHRoaXMuY3ViZXMpIHtcclxuICAgICAgdGhpcy5jdWJlc1BhcmVudC5hZGQoY3ViZS5yb290KTtcclxuICAgIH1cclxuICAgIHRoaXMuY3ViZXNQYXJlbnQucG9zaXRpb24uY29weShuZXcgVmVjdG9yMygxLCAtMSwgLTEpKTtcclxuICAgIHRoaXMucm9vdC5hZGQodGhpcy5jdWJlc1BhcmVudCk7XHJcblxyXG4gICAgaWYgKG9uTG9hZCkgb25Mb2FkKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUodGltZUVsYXBzZWQpIHtcclxuICAgIGNvbnN0IGFuaW1hdGlvblRpbWUgPSB0aW1lRWxhcHNlZCAqIDM7XHJcbiAgICBjb25zdCBsb29wVGltZSA9IGFuaW1hdGlvblRpbWUgJSAoTWF0aC5QSSAqIDIpO1xyXG5cclxuICAgIGlmIChsb29wVGltZSA8IE1hdGguUEkpIHtcclxuICAgICAgdGhpcy5maXJzdFNlY3Rpb24oYW5pbWF0aW9uVGltZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlY29uZFNlY3Rpb24oYW5pbWF0aW9uVGltZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaXJzdFNlY3Rpb24oYW5pbWF0aW9uVGltZSkge1xyXG4gICAgY29uc3Qgc2luVGltZSA9IE1hdGguc2luKGFuaW1hdGlvblRpbWUgKiAwLjUpO1xyXG4gICAgY29uc3QgYWJzU2luVGltZSA9IE1hdGguYWJzKHNpblRpbWUpO1xyXG5cclxuICAgIHRoaXMuY3ViZXNQYXJlbnRcclxuICAgICAgLmNoaWxkcmVuWzddXHJcbiAgICAgIC5wb3NpdGlvblxyXG4gICAgICAuY29weShuZXcgVmVjdG9yMygxLCAtMSwgLTEpKTtcclxuICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbltpXTtcclxuICAgICAgY29uc3Qgcm90YSA9IChNYXRoLmNsYW1wKCgoMSAtIGFic1NpblRpbWUpICogKE1hdGguUEkgKiAwLjUpICsgKGkgKiAwLjEyNSkpLCAwLCAxKSk7XHJcbiAgICAgIGNvbnN0IHNpblNjYWxlID0gbmV3IFZlY3RvcjMocm90YSwgcm90YSwgcm90YSk7XHJcbiAgICAgIGNoaWxkLnNjYWxlLmNvcHkoc2luU2NhbGUpO1xyXG4gICAgICBjaGlsZC5yb3RhdGlvbi56ID0gKHJvdGEgKiBNYXRoLlBJKTtcclxuICAgICAgY2hpbGQucm90YXRpb24ueCA9IHJvdGEgKiBNYXRoLlBJICogMC41O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2Vjb25kU2VjdGlvbihhbmltYXRpb25UaW1lKSB7XHJcbiAgICBjb25zdCBzaW5UaW1lID0gTWF0aC5zaW4oYW5pbWF0aW9uVGltZSAqIDAuNSk7XHJcbiAgICBjb25zdCBhYnNTaW5UaW1lID0gTWF0aC5hYnMoc2luVGltZSk7XHJcblxyXG4gICAgY29uc3QgY29zVGltZSA9IE1hdGguY29zKGFuaW1hdGlvblRpbWUgKiAwLjUpO1xyXG4gICAgY29uc3QgYWJzQ29zVGltZSA9IE1hdGguYWJzKGNvc1RpbWUpO1xyXG5cclxuICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbls3XTtcclxuICAgIGNvbnN0IHJvdGEgPSAoTWF0aC5jbGFtcCgoKDEgLSBhYnNTaW5UaW1lKSAqIChNYXRoLlBJICogMC41KSArICg3ICogMC4xMjUpKSArIChhYnNDb3NUaW1lKSwgMCwgMikpO1xyXG4gICAgY29uc3Qgc2luU2NhbGUgPSBuZXcgVmVjdG9yMyhyb3RhLCByb3RhLCByb3RhKTtcclxuICAgIGNoaWxkLnNjYWxlLmNvcHkoc2luU2NhbGUpO1xyXG4gICAgY2hpbGQucm90YXRpb24ueiA9IChyb3RhICogTWF0aC5QSSk7XHJcbiAgICBjaGlsZC5yb3RhdGlvbi54ID0gcm90YSAqIE1hdGguUEkgKiAwLjU7XHJcbiAgICBjb25zdCBvbGRQb3MgPSBuZXcgVmVjdG9yMygxLCAtMSwgLTEpO1xyXG4gICAgY2hpbGQucG9zaXRpb24uY29weShvbGRQb3MubGVycChuZXcgVmVjdG9yMygwLCAwLCAwKSwgTWF0aC5jbGFtcCgoMSAtIGFic1NpblRpbWUpICogNiwgMCwgMSkpKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuW2ldO1xyXG4gICAgICBjb25zdCByb3RhID0gTWF0aC5jbGFtcCgoKE1hdGguY2xhbXAoKCgxIC0gYWJzU2luVGltZSkgKiAoTWF0aC5QSSAqIDAuNSkgKyAoaSAqIDAuMTI1KSksIDAsIDEpKSAtXHJcbiAgICAgICAgYWJzQ29zVGltZSksIDAsIDEpO1xyXG4gICAgICBjb25zdCBzaW5TY2FsZSA9IG5ldyBWZWN0b3IzKHJvdGEsIHJvdGEsIHJvdGEpO1xyXG4gICAgICBjaGlsZC5zY2FsZS5jb3B5KHNpblNjYWxlKTtcclxuICAgICAgY2hpbGQucm90YXRpb24ueiA9IChyb3RhICogTWF0aC5QSSk7XHJcbiAgICAgIGNoaWxkLnJvdGF0aW9uLnggPSByb3RhICogTWF0aC5QSSAqIDAuNTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==