(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{105:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(104);var n=function e(t){var o=t.size,n=void 0===o?5:o,a=t.material,i=t.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var s=1,c=1,u=1;this.color=new r.Color,this.color.setRGB(s,c,u),this.material=a||new r.MeshBasicMaterial({color:this.color}),this.geometry=new r.BoxGeometry(n,n,n),this.mesh=new r.Mesh(this.geometry,this.material),i&&this.mesh.position.copy(i),this.root=this.mesh}},106:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var r=o(104);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=a(this,i(t).call(this));var o=new r.HemisphereLight(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Group"]),t}()},107:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var r=o(104);o(106);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h={intensity:1,castShadow:!1,bias:0,projectionSides:void 0,mapSize:512},l=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];o=s(this,(e=c(t)).call.apply(e,[this].concat(i)));var l=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),r.forEach(function(t){a(e,t,o[t])})}return e}({},h,i[0]),f=l.intensity,p=l.castShadow,d=l.bias,y=l.projectionSides,w=l.mapSize;o.intensity=f,o.projectionSides=y,o.mapSize=w,console.log("mapsize",o.mapSize);var m=new r.DirectionalLight("white",.65*o.intensity),v=new r.DirectionalLight("white",.55*o.intensity);return m.shadow.bias=d||0,v.shadow.bias=d||0,m.castShadow=p,v.castShadow=p,o.updateProjection(m,o.projectionSides),o.updateProjection(v,o.projectionSides),o.updateShadowMap(m,o.mapSize),o.updateShadowMap(v,o.mapSize),m.position.copy(new r.Vector3(9,3.5,0)),v.position.copy(new r.Vector3(-10,2,0)),o.add(m,v),o}var o,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Group"]),o=t,(n=[{key:"updateProjection",value:function(e,t){e.shadow.camera.left=-t,e.shadow.camera.right=t,e.shadow.camera.updateProjectionMatrix()}},{key:"updateShadowMap",value:function(e,t){e.shadow.mapSize.width=t,e.shadow.mapSize.height=t}}])&&i(o.prototype,n),l&&i(o,l),t}()},108:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(104);var n=function e(t){var o=t.size,n=void 0===o?5:o,a=t.material,i=t.position,s=t.widthSegments,c=t.heightSegments,u=t.castShadow,h=t.receiveShadow;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var l=1,f=1,p=1;this.color=new r.Color,this.color.setRGB(l,f,p),this.material=a||new r.MeshBasicMaterial({color:this.color});var d=this.material.length>1?r.SphereBufferGeometry:r.SphereGeometry;if(this.geometry=new d(n,s||7,c||9),this.material.length){this.geometry.clearGroups();for(var y=0;y<a.length;y++)this.geometry.addGroup(0,1/0,y)}this.mesh=new r.Mesh(this.geometry,this.material),this.mesh.castShadow=u,this.mesh.receiveShadow=h,i&&this.mesh.position.copy(i),this.root=this.mesh}},114:function(e,t,o){var r=o(115);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o(30)(r,n);r.locals&&(e.exports=r.locals)},115:function(e,t,o){t=e.exports=o(29)(!1);var r=o(116),n=r(o(117)),a=r(o(118));t.push([e.i,"/* vt323-400normal - latin */\n@font-face {\n  font-family: 'VT323';\n  font-style: normal;\n  font-display: swap;\n  font-weight: 400;\n  src:\n    local('VT323 Regular '),\n    local('VT323-Regular'),\n    url("+n+") format('woff2'), \n    url("+a+") format('woff'); /* Modern Browsers */\n}\n\n",""])},116:function(e,t,o){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},117:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff2"},118:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff"},35:function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return u});var r=o(104),n=o(107),a=o(106),i=o(105),s=o(108);function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o(114);var u=function(){function e(t){var o=t.scene,n=t.onLoad;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=o,this.editScene(),this.root=new r.Group,this.addLights(),this.addSkyscrapers(),this.addSky(),this.addGround(),this.addWhereAreYou(),n&&n()}var t,o,u;return t=e,(o=[{key:"addLights",value:function(){var e=new n.a;this.root.add(e);var t=new a.a;this.root.add(t)}},{key:"editScene",value:function(){var e=this.scene.camera.aspect,t=new r.Color;t.setIntHSL(244,30,8),this.scene.renderer.setClearColor(t),this.scene.camera=new r.OrthographicCamera(7*e/-2,7*e/2,3.5,-3.5,.1,150),this.scene.camera.position.copy(new r.Vector3(10,10,10)),this.scene.camera.lookAt(new r.Vector3(0,0,0))}},{key:"addSkyscrapers",value:function(){var e=new r.MeshStandardMaterial({color:4276048,metalness:.3,roughness:.2}),t=new r.MeshBasicMaterial({color:2301751}),o=new r.MeshBasicMaterial({color:13421789});this.cubes=[];this.cubesParent=new r.Group;for(var n=-5;n<5;n++)for(var a=-5;a<5;a++){for(var s=new i.a({size:1,material:e,position:new r.Vector3(1.5*n+(Math.random()-.5),0,1.5*a)}),c=0;c<80;c++){var u=Math.random()>.5?.5:-.5;if(!(u<0)){var h=.8*Math.random()-.4,l=Math.random()*(Math.random()>.5?.4:-.4);h=.1*Math.round(10*h),l=.2*Math.round(5*l);var f=new i.a({size:.05,material:Math.random()>.1?t:o,position:new r.Vector3(l,h,u)});s.root.add(f.root)}}s.root.scale.copy(new r.Vector3(1,2,1)),this.cubesParent.add(s.root),this.cubes.push(s)}this.root.add(this.cubesParent)}},{key:"addSky",value:function(){var e=new r.MeshStandardMaterial({color:328489,metalness:.1,roughness:.9,side:r.BackSide}),t=new r.MeshBasicMaterial({color:13421789,side:r.BackSide,wireframe:!0}),o=new s.a({size:5,position:new r.Vector3(-.5,1,0),material:e,heightSegments:72,widthSegments:128});o.root.scale.copy(new r.Vector3(10,9.25,10)),this.root.add(o.root);for(var n=0;n<120;n++){var a=Math.random()*Math.PI*2,i=Math.random()*Math.PI*.6,c=new s.a({size:.018,material:t,position:new r.Vector3(20*Math.sin(a),8*Math.cos(i),-10)});this.root.add(c.root)}}},{key:"addGround",value:function(){var e=new r.MeshStandardMaterial({color:1250067,metalness:.7,roughness:.9,flatShading:!0}),t=new s.a({size:3,position:new r.Vector3(0,-1,0),material:e});t.root.scale.copy(new r.Vector3(5,.5,4)),this.root.add(t.root)}},{key:"addWhereAreYou",value:function(){this.whereAreYou=document.createElement("h1"),this.whereAreYou.innerHTML="where are you",this.whereAreYou.style.margin="auto",this.whereAreYou.style.marginTop="30vh",this.whereAreYou.style.verticalAlign="middle",this.whereAreYou.style.fontFamily="'VT323', monospace",this.whereAreYou.style.color="antiquewhite",this.whereAreYou.style.fontWeight="lighter",this.whereAreYou.style.cursor="default",this.whereAreYou.style.letterSpacing="0.2em",document.body.appendChild(this.whereAreYou)}},{key:"update",value:function(e){var t=.2*e;this.updateSkyscrapers(t),this.updateCamera(e)}},{key:"updateSkyscrapers",value:function(e){for(var t=0;t<this.cubesParent.children.length;t++){var o=this.cubesParent.children[t],r=o.position;r.y=Math.sin(t*Math.PI*.25+e),o.position.copy(r)}}},{key:"updateCamera",value:function(e){this.scene.camera.position.copy(new r.Vector3(10*Math.cos(.12*e)+2,Math.cos(.2*e)+1,30)),this.scene.camera.lookAt(new r.Vector3(0,2.5,6)),this.scene.camera.updateProjectionMatrix()}},{key:"onRemove",value:function(){document.body.removeChild(this.whereAreYou)}}])&&c(t.prototype,o),u&&c(t,u),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9XaGl0ZUhlbWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL09iamVjdHMvQmFzaWNTcGhlcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2luZGV4LmNzcz82MTY1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZmFjZS12dDMyMy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3VybC1lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL1NreXNjcmFwZXJzTG9vcC5qcyJdLCJuYW1lcyI6WyJCYXNpY0N1YmUiLCJfcmVmIiwiX3JlZiRzaXplIiwic2l6ZSIsIm1hdGVyaWFsIiwicG9zaXRpb24iLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2VlZCIsIk1hdGgiLCJyYW5kb20iLCJjb2xvciIsIkNvbG9yIiwic2V0UkdCIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJnZW9tZXRyeSIsIkJveEdlb21ldHJ5IiwibWVzaCIsIk1lc2giLCJjb3B5Iiwicm9vdCIsIldoaXRlSGVtaSIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfZ2V0UHJvdG90eXBlT2YiLCJjYWxsIiwiaGVtaUxpZ2h0IiwiSGVtaXNwaGVyZUxpZ2h0Iiwic2V0SFNMIiwiTm9ybWFsaXplSHVlIiwiZ3JvdW5kQ29sb3IiLCJzZXQiLCJhZGQiLCJHcm91cCIsImRlZmF1bHRQYXJhbXMiLCJpbnRlbnNpdHkiLCJjYXN0U2hhZG93IiwiYmlhcyIsInByb2plY3Rpb25TaWRlcyIsInVuZGVmaW5lZCIsIm1hcFNpemUiLCJUd29EaXJlY3Rpb25hbHMiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsIl9kZWZhdWx0UGFyYW1zJGFyZ3MkIiwiX29iamVjdFNwcmVhZCIsImNvbnNvbGUiLCJsb2ciLCJkaXJlY3Rpb25hbExpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQyIiwic2hhZG93IiwidXBkYXRlUHJvamVjdGlvbiIsInVwZGF0ZVNoYWRvd01hcCIsIlZlY3RvcjMiLCJsaWdodCIsImNhbWVyYSIsImxlZnQiLCJyaWdodCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ3aWR0aCIsImhlaWdodCIsIkJhc2ljU3BoZXJlIiwid2lkdGhTZWdtZW50cyIsImhlaWdodFNlZ21lbnRzIiwicmVjZWl2ZVNoYWRvdyIsIlNwaGVyZSIsIlNwaGVyZUJ1ZmZlckdlb21ldHJ5IiwiU3BoZXJlR2VvbWV0cnkiLCJjbGVhckdyb3VwcyIsImkiLCJhZGRHcm91cCIsIkluZmluaXR5IiwiY29udGVudCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJvcHRpb25zIiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsImxvY2FscyIsImV4cG9ydHMiLCJ1cmxFc2NhcGUiLCJfX19DU1NfTE9BREVSX1VSTF9fXzBfX18iLCJfX19DU1NfTE9BREVSX1VSTF9fXzFfX18iLCJwdXNoIiwidXJsIiwibmVlZFF1b3RlcyIsInRlc3QiLCJzbGljZSIsInJlcGxhY2UiLCJwIiwicmVxdWlyZSIsIlNreXNjcmFwZXJzTG9vcCIsInNjZW5lIiwib25Mb2FkIiwiZWRpdFNjZW5lIiwiYWRkTGlnaHRzIiwiYWRkU2t5c2NyYXBlcnMiLCJhZGRTa3kiLCJhZGRHcm91bmQiLCJhZGRXaGVyZUFyZVlvdSIsImRpcmVjdGlvbmFscyIsImhlbWkiLCJhc3BlY3QiLCJjbGVhckNvbG9yIiwic2V0SW50SFNMIiwicmVuZGVyZXIiLCJzZXRDbGVhckNvbG9yIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwiZnJ1c3R1bVNpemUiLCJsb29rQXQiLCJza3lTY3JhcGVyTWF0IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJ3aW5kb3dPZmZNYXQiLCJ3aW5kb3dPbk1hdCIsImN1YmVzIiwiY3ViZXNQYXJlbnQiLCJ4IiwieiIsIm5ld0N1YmUiLCJqIiwieE9mZnNldCIsInlPZmZzZXQiLCJ6T2Zmc2V0Iiwicm91bmQiLCJuZXdXaW5kb3ciLCJzY2FsZSIsInNreU1hdCIsInNpZGUiLCJCYWNrU2lkZSIsInN0YXJzTWF0Iiwid2lyZWZyYW1lIiwic2t5IiwicGh5IiwiUEkiLCJ0aGV0YSIsIm5ld1N0YXIiLCJzaW4iLCJjb3MiLCJncm91bmRNYXQiLCJmbGF0U2hhZGluZyIsImdyb3VuZCIsIndoZXJlQXJlWW91IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwic3R5bGUiLCJtYXJnaW4iLCJtYXJnaW5Ub3AiLCJ2ZXJ0aWNhbEFsaWduIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJjdXJzb3IiLCJsZXR0ZXJTcGFjaW5nIiwiYm9keSIsImFwcGVuZENoaWxkIiwidGltZUVsYXBzZWQiLCJhbmltYXRpb25UaW1lIiwidXBkYXRlU2t5c2NyYXBlcnMiLCJ1cGRhdGVDYW1lcmEiLCJjaGlsZHJlbiIsImNoaWxkIiwibmV3UG9zIiwieSIsInJlbW92ZUNoaWxkIl0sIm1hcHBpbmdzIjoiMklBT3FCQSxFQUNuQixTQUFBQSxFQUFBQyxHQUE0QyxJQUFBQyxFQUFBRCxFQUEvQkUsWUFBK0IsSUFBQUQsRUFBeEIsRUFBd0JB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aEssS0FBS2tLLGFBQWFILDZDQUdKQyxHQUNkLElBQUssSUFBSTFGLEVBQUksRUFBR0EsRUFBSXRFLEtBQUt1SCxZQUFZNEMsU0FBUzdILE9BQVFnQyxJQUFLLENBQ3ZELElBQU04RixFQUFRcEssS0FBS3VILFlBQVk0QyxTQUFTN0YsR0FDbEMrRixFQUFTRCxFQUFNdEssU0FDckJ1SyxFQUFPQyxFQUFJcEssS0FBSzBJLElBQUt0RSxFQUFJcEUsS0FBS3VJLEdBQUssSUFBUXVCLEdBQzNDSSxFQUFNdEssU0FBU2MsS0FBS3lKLHlDQUlmTixHQUNUL0osS0FBSzhGLE1BQU10QyxPQUFPMUQsU0FBU2MsS0FDdkIsSUFBSTBDLFVBQzhCLEdBQTlCcEQsS0FBSzJJLElBQWtCLElBQWRrQixHQUEwQixFQUNuQzdKLEtBQUsySSxJQUFrQixHQUFka0IsR0FBb0IsRUFDN0IsS0FFUi9KLEtBQUs4RixNQUFNdEMsT0FBT3VELE9BQU8sSUFBSXpELFVBQVEsRUFBRyxJQUFLLElBQzdDdEQsS0FBSzhGLE1BQU10QyxPQUFPRyw0REFJbEJ1RixTQUFTVyxLQUFLVSxZQUFZdkssS0FBS2lKIiwiZmlsZSI6Ii4vanMvU2t5c2NyYXBlcnNMb29wLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvbG9yLFxuICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgQm94R2VvbWV0cnksXG4gIE1lc2hcbn0gZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY0N1YmUge1xuICBjb25zdHJ1Y3Rvcih7c2l6ZSA9IDUsIG1hdGVyaWFsLCBwb3NpdGlvbn0pIHtcbiAgICB0aGlzLnNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xuICAgIHRoaXMuY29sb3IgPSBuZXcgQ29sb3IoKTtcbiAgICB0aGlzLmNvbG9yLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IHRoaXMuY29sb3JcbiAgICB9KTtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgQm94R2VvbWV0cnkoc2l6ZSwgc2l6ZSwgc2l6ZSk7XG5cbiAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaChcbiAgICAgIHRoaXMuZ2VvbWV0cnksXG4gICAgICB0aGlzLm1hdGVyaWFsXG4gICAgKTtcblxuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcbiAgfVxufVxuIiwiaW1wb3J0IHtcblx0R3JvdXAsXG5cdEhlbWlzcGhlcmVMaWdodFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoaXRlSGVtaSBleHRlbmRzIEdyb3VwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBIZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmZmLCAweGZmZmZmZiwgMy4wICk7XG5cdFx0aGVtaUxpZ2h0LmNvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLFxuXHRcdFx0MC45NFxuXHRcdCk7XG5cdFx0aGVtaUxpZ2h0Lmdyb3VuZENvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLCBcblx0XHRcdDAuNjRcblx0XHQpO1xuXHRcdGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDIsIDAgKTtcblx0XHR0aGlzLmFkZCggaGVtaUxpZ2h0ICk7XG5cdH1cbn1cbiIsImltcG9ydCB7XG4gICAgR3JvdXAsXG4gICAgRGlyZWN0aW9uYWxMaWdodCxcbiAgICBWZWN0b3IzXG4gIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IFdoaXRlSGVtaSBmcm9tICcuL1doaXRlSGVtaS5qcyc7XG5cbmNvbnN0IGRlZmF1bHRQYXJhbXMgPSB7XG4gICAgaW50ZW5zaXR5OiAxLFxuICAgIGNhc3RTaGFkb3c6IGZhbHNlLFxuICAgIGJpYXM6IDAsXG4gICAgcHJvamVjdGlvblNpZGVzOiB1bmRlZmluZWQsXG4gICAgbWFwU2l6ZTogNTEyLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUd29EaXJlY3Rpb25hbHMgZXh0ZW5kcyBHcm91cCB7XG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICBzdXBlciguLi5hcmdzKTtcblx0XHRjb25zdCB7XG4gICAgICAgICAgICBpbnRlbnNpdHksXG4gICAgICAgICAgICBjYXN0U2hhZG93LFxuICAgICAgICAgICAgYmlhcyxcbiAgICAgICAgICAgIHByb2plY3Rpb25TaWRlcyxcbiAgICAgICAgICAgIG1hcFNpemVcbiAgICAgICAgfSA9IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgICAuLi5hcmdzWzBdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW50ZW5zaXR5ID0gaW50ZW5zaXR5O1xuICAgICAgICB0aGlzLnByb2plY3Rpb25TaWRlcyA9IHByb2plY3Rpb25TaWRlcztcbiAgICAgICAgdGhpcy5tYXBTaXplID0gbWFwU2l6ZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJtYXBzaXplXCIsIHRoaXMubWFwU2l6ZSlcbiAgICAgICAgXG4gICAgICAgIC8qIGNvbnN0IHdoaXRlRW1pID0gbmV3IFdoaXRlSGVtaSgpO1xuICAgICAgICB0aGlzLmFkZCh3aGl0ZUVtaSk7ICovXG5cbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KCd3aGl0ZScsIDAuNjUgKiB0aGlzLmludGVuc2l0eSk7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQyID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoJ3doaXRlJywgMC41NSAqIHRoaXMuaW50ZW5zaXR5KTtcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuYmlhcyA9IGJpYXMgfHwgMDtcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodDIuc2hhZG93LmJpYXMgPSBiaWFzIHx8IDA7XG4gICAgICAgIFxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LmNhc3RTaGFkb3cgPSBjYXN0U2hhZG93O1xuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5jYXN0U2hhZG93ID0gY2FzdFNoYWRvdztcblxuICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb24oZGlyZWN0aW9uYWxMaWdodCwgdGhpcy5wcm9qZWN0aW9uU2lkZXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVByb2plY3Rpb24oZGlyZWN0aW9uYWxMaWdodDIsIHRoaXMucHJvamVjdGlvblNpZGVzKTtcbiAgICAgICAgdGhpcy51cGRhdGVTaGFkb3dNYXAoZGlyZWN0aW9uYWxMaWdodCwgdGhpcy5tYXBTaXplKTtcbiAgICAgICAgdGhpcy51cGRhdGVTaGFkb3dNYXAoZGlyZWN0aW9uYWxMaWdodDIsIHRoaXMubWFwU2l6ZSk7XG5cbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgOSxcbiAgICAgICAgICAgICAgICAzLjUsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLnBvc2l0aW9uLmNvcHkoXG4gICAgICAgICAgICBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgICAgICAtMTAsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5hZGQoZGlyZWN0aW9uYWxMaWdodCwgZGlyZWN0aW9uYWxMaWdodDIpO1xuICAgIH1cblxuICAgIHVwZGF0ZVByb2plY3Rpb24obGlnaHQsIHByb2plY3Rpb25TaWRlcykge1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSAtcHJvamVjdGlvblNpZGVzO1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnJpZ2h0ID0gcHJvamVjdGlvblNpZGVzO1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTaGFkb3dNYXAobGlnaHQsIG1hcFNpemUpIHtcbiAgICAgICAgbGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBtYXBTaXplO1xuICAgICAgICBsaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSBtYXBTaXplO1xuICAgIH1cbn0iLCJpbXBvcnQge1xuICBDb2xvcixcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIFNwaGVyZUJ1ZmZlckdlb21ldHJ5LFxuICBTcGhlcmVHZW9tZXRyeSxcbiAgTWVzaFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljU3BoZXJlIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHNpemUgPSA1LFxuICAgIG1hdGVyaWFsLFxuICAgIHBvc2l0aW9uLFxuICAgIHdpZHRoU2VnbWVudHMsXG4gICAgaGVpZ2h0U2VnbWVudHMsXG4gICAgY2FzdFNoYWRvdyxcbiAgICByZWNlaXZlU2hhZG93XG4gIH0pIHtcbiAgICB0aGlzLnNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xuICAgIHRoaXMuY29sb3IgPSBuZXcgQ29sb3IoKTtcbiAgICB0aGlzLmNvbG9yLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IHRoaXMuY29sb3JcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBTcGhlcmUgPSB0aGlzLm1hdGVyaWFsLmxlbmd0aCA+IDEgPyBTcGhlcmVCdWZmZXJHZW9tZXRyeSA6IFNwaGVyZUdlb21ldHJ5O1xuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBTcGhlcmUoXG4gICAgICBzaXplLCBcbiAgICAgIHdpZHRoU2VnbWVudHMgfHwgNywgXG4gICAgICBoZWlnaHRTZWdtZW50cyB8fCA5KTtcbiAgICBcbiAgICBpZiAodGhpcy5tYXRlcmlhbC5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0ZXJpYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5hZGRHcm91cCggMCwgSW5maW5pdHksIGkgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaChcbiAgICAgIHRoaXMuZ2VvbWV0cnksXG4gICAgICB0aGlzLm1hdGVyaWFsXG4gICAgKTtcblxuICAgIHRoaXMubWVzaC5jYXN0U2hhZG93ID0gY2FzdFNoYWRvdztcbiAgICB0aGlzLm1lc2gucmVjZWl2ZVNoYWRvdyA9IHJlY2VpdmVTaGFkb3c7XG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvb3QgPSB0aGlzLm1lc2g7XG4gIH1cbn1cbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBJbXBvcnRzXG52YXIgdXJsRXNjYXBlID0gcmVxdWlyZShcIi4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3VybC1lc2NhcGUuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fID0gdXJsRXNjYXBlKHJlcXVpcmUoXCIuL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMlwiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18xX19fID0gdXJsRXNjYXBlKHJlcXVpcmUoXCIuL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmXCIpKTtcblxuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiB2dDMyMy00MDBub3JtYWwgLSBsYXRpbiAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdWVDMyMyc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LWRpc3BsYXk6IHN3YXA7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgc3JjOlxcbiAgICBsb2NhbCgnVlQzMjMgUmVndWxhciAnKSxcXG4gICAgbG9jYWwoJ1ZUMzIzLVJlZ3VsYXInKSxcXG4gICAgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fICsgXCIpIGZvcm1hdCgnd29mZjInKSwgXFxuICAgIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMV9fXyArIFwiKSBmb3JtYXQoJ3dvZmYnKTsgLyogTW9kZXJuIEJyb3dzZXJzICovXFxufVxcblxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVzY2FwZSh1cmwsIG5lZWRRdW90ZXMpIHtcbiAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfSAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cblxuXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH0gLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuXG5cbiAgaWYgKC9bXCInKCkgXFx0XFxuXS8udGVzdCh1cmwpIHx8IG5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gJ1wiJyArIHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpICsgJ1wiJztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMlwiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL3Z0MzIzLWxhdGluLTQwMC53b2ZmXCI7IiwiaW1wb3J0IHtcbiAgICBWZWN0b3IzLFxuICAgIENvbG9yLFxuICAgIEJhY2tTaWRlLFxuICAgIEdyb3VwLFxuICAgIE9ydGhvZ3JhcGhpY0NhbWVyYSxcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbCxcbiAgICBNZXNoQmFzaWNNYXRlcmlhbFxuICB9IGZyb20gJ3RocmVlJztcbmltcG9ydCBUd29EaXJlY3Rpb25hbHMgZnJvbSAnLi4vTGlnaHRzL1R3b0RpcmVjdGlvbmFscy5qcyc7XG5pbXBvcnQgV2hpdGVIZW1pIGZyb20gJy4uL0xpZ2h0cy9XaGl0ZUhlbWkuanMnO1xuaW1wb3J0IEJhc2ljQ3ViZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljQ3ViZS5qcyc7XG5pbXBvcnQgQmFzaWNTcGhlcmUgZnJvbSAnLi4vT2JqZWN0cy9CYXNpY1NwaGVyZS5qcyc7XG5yZXF1aXJlKCd0eXBlZmFjZS12dDMyMycpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTa3lzY3JhcGVyc0xvb3Age1xuICAgIGNvbnN0cnVjdG9yKHtzY2VuZSwgb25Mb2FkfSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG5cbiAgICAgICAgdGhpcy5lZGl0U2NlbmUoKTtcblxuICAgICAgICB0aGlzLnJvb3QgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICB0aGlzLmFkZExpZ2h0cygpO1xuXG4gICAgICAgIHRoaXMuYWRkU2t5c2NyYXBlcnMoKTtcblxuICAgICAgICB0aGlzLmFkZFNreSgpO1xuXG4gICAgICAgIHRoaXMuYWRkR3JvdW5kKCk7XG5cbiAgICAgICAgdGhpcy5hZGRXaGVyZUFyZVlvdSgpO1xuXG4gICAgICAgIGlmIChvbkxvYWQpIG9uTG9hZCgpO1xuICAgIH1cblxuICAgIGFkZExpZ2h0cygpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxzID0gbmV3IFR3b0RpcmVjdGlvbmFscygpO1xuICAgICAgICB0aGlzLnJvb3QuYWRkKGRpcmVjdGlvbmFscyk7XG4gICAgICAgIGNvbnN0IGhlbWkgPSBuZXcgV2hpdGVIZW1pKCk7XG4gICAgICAgIHRoaXMucm9vdC5hZGQoaGVtaSk7XG4gICAgfVxuXG4gICAgZWRpdFNjZW5lKCkge1xuICAgICAgICBjb25zdCBmcnVzdHVtU2l6ZSA9IDc7XG4gICAgICAgIGNvbnN0IGFzcGVjdCA9IHRoaXMuc2NlbmUuY2FtZXJhLmFzcGVjdDtcbiAgICAgICAgY29uc3QgY2xlYXJDb2xvciA9IG5ldyBDb2xvcigpO1xuICAgICAgICBjbGVhckNvbG9yLnNldEludEhTTCgyNDQsIDMwLCA4KTtcbiAgICAgICAgdGhpcy5zY2VuZS5yZW5kZXJlci5zZXRDbGVhckNvbG9yKGNsZWFyQ29sb3IpO1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYSA9IG5ldyBPcnRob2dyYXBoaWNDYW1lcmEoZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAtMiwgZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAyLCBmcnVzdHVtU2l6ZSAvIDIsIGZydXN0dW1TaXplIC8gLTIsIDAuMSwgMTUwKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEucG9zaXRpb24uY29weShuZXcgVmVjdG9yMygxMCwgMTAsIDEwKSk7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLmxvb2tBdChuZXcgVmVjdG9yMygwLCAwLCAwKSk7XG4gICAgfVxuXG4gICAgYWRkU2t5c2NyYXBlcnMoKSB7XG4gICAgICAgIGNvbnN0IHNreVNjcmFwZXJNYXQgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4NDEzZjUwLFxuICAgICAgICAgICAgbWV0YWxuZXNzOiAwLjMsXG4gICAgICAgICAgICByb3VnaG5lc3M6IDAuMlxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB3aW5kb3dPZmZNYXQgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4MjMxZjM3XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHdpbmRvd09uTWF0ID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweGNjY2NkZCAvLzB4YjdhNTFmXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3ViZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBoYWxmQ291bnQgPSA1O1xuXG4gICAgICAgIHRoaXMuY3ViZXNQYXJlbnQgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgZm9yIChsZXQgeCA9IC1oYWxmQ291bnQ7IHggPCBoYWxmQ291bnQ7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeiA9IC1oYWxmQ291bnQ7IHogPCBoYWxmQ291bnQ7IHorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0N1YmUgPSBuZXcgQmFzaWNDdWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogc2t5U2NyYXBlck1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyh4KjEuNSArIChNYXRoLnJhbmRvbSgpLTAuNSksIDAsIHoqMS41KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDgwOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeE9mZnNldCA9IE1hdGgucmFuZG9tKCkgPiAwLjUgPyAwLjUgOiAtMC41O1xuICAgICAgICAgICAgICAgICAgICBpZiAoeE9mZnNldCA8IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeU9mZnNldCA9ICgoTWF0aC5yYW5kb20oKSkgKiAwLjgpIC0gMC40O1xuICAgICAgICAgICAgICAgICAgICBsZXQgek9mZnNldCA9IE1hdGgucmFuZG9tKCkgKiAoTWF0aC5yYW5kb20oKSA+IDAuNSA/IDAuNCA6IC0wLjQpO1xuICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gTWF0aC5yb3VuZCh5T2Zmc2V0ICogMTApICogMC4xO1xuICAgICAgICAgICAgICAgICAgICB6T2Zmc2V0ID0gTWF0aC5yb3VuZCh6T2Zmc2V0ICogNSkgKiAwLjI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1dpbmRvdyA9IG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMC4wNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBNYXRoLnJhbmRvbSgpID4gMC4xID8gd2luZG93T2ZmTWF0IDogd2luZG93T25NYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoek9mZnNldCwgeU9mZnNldCwgeE9mZnNldClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgbmV3Q3ViZS5yb290LmFkZChuZXdXaW5kb3cucm9vdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0N1YmUucm9vdC5zY2FsZS5jb3B5KG5ldyBWZWN0b3IzKDEsMiwxKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdWJlc1BhcmVudC5hZGQobmV3Q3ViZS5yb290KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1YmVzLnB1c2gobmV3Q3ViZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMucm9vdC5hZGQodGhpcy5jdWJlc1BhcmVudCk7XG4gICAgfVxuXG4gICAgYWRkU2t5KCkge1xuICAgICAgICBjb25zdCBza3lNYXQgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4MDUwMzI5LFxuICAgICAgICAgICAgbWV0YWxuZXNzOiAwLjEsXG4gICAgICAgICAgICByb3VnaG5lc3M6IDAuOSxcbiAgICAgICAgICAgIHNpZGU6IEJhY2tTaWRlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdGFyc01hdCA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHhjY2NjZGQsXG4gICAgICAgICAgICBzaWRlOiBCYWNrU2lkZSxcbiAgICAgICAgICAgIHdpcmVmcmFtZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2t5ID0gbmV3IEJhc2ljU3BoZXJlKHtcbiAgICAgICAgICAgIHNpemU6IDUsXG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoLTAuNSwgMSwgMCksXG4gICAgICAgICAgICBtYXRlcmlhbDogc2t5TWF0LFxuICAgICAgICAgICAgaGVpZ2h0U2VnbWVudHM6IDcyLFxuICAgICAgICAgICAgd2lkdGhTZWdtZW50czogMTI4XG4gICAgICAgIH0pO1xuICAgICAgICBza3kucm9vdC5zY2FsZS5jb3B5KG5ldyBWZWN0b3IzKDEwLCA5LjI1LCAxMCkpO1xuICAgICAgICB0aGlzLnJvb3QuYWRkKHNreS5yb290KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMjA7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGh5ID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyO1xuICAgICAgICAgICAgY29uc3QgdGhldGEgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDAuNjtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXIgPSBuZXcgQmFzaWNTcGhlcmUoe1xuICAgICAgICAgICAgICAgIHNpemU6IDAuMDE4LFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBzdGFyc01hdCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoTWF0aC5zaW4ocGh5KSAqIDIwLCBNYXRoLmNvcyh0aGV0YSkgKiA4LCAtMTApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucm9vdC5hZGQobmV3U3Rhci5yb290KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZEdyb3VuZCgpIHtcbiAgICAgICAgY29uc3QgZ3JvdW5kTWF0ID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweDEzMTMxMyxcbiAgICAgICAgICAgIG1ldGFsbmVzczogMC43LFxuICAgICAgICAgICAgcm91Z2huZXNzOiAwLjksXG4gICAgICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZ3JvdW5kID0gbmV3IEJhc2ljU3BoZXJlKHtcbiAgICAgICAgICAgIHNpemU6IDMsXG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMCwgLTEsIDApLFxuICAgICAgICAgICAgbWF0ZXJpYWw6IGdyb3VuZE1hdFxuICAgICAgICB9KTtcbiAgICAgICAgZ3JvdW5kLnJvb3Quc2NhbGUuY29weShuZXcgVmVjdG9yMyg1LCAwLjUsIDQpKTtcbiAgICAgICAgdGhpcy5yb290LmFkZChncm91bmQucm9vdCk7XG4gICAgfVxuXG4gICAgYWRkV2hlcmVBcmVZb3UoKSB7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LmlubmVySFRNTCA9IFwid2hlcmUgYXJlIHlvdVwiO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLm1hcmdpbiA9ICdhdXRvJztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5tYXJnaW5Ub3AgPSAnMzB2aCc7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUudmVydGljYWxBbGlnbiA9ICdtaWRkbGUnO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmZvbnRGYW1pbHkgPSBcIidWVDMyMycsIG1vbm9zcGFjZVwiO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmNvbG9yID0gJ2FudGlxdWV3aGl0ZSc7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuZm9udFdlaWdodCA9ICdsaWdodGVyJztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUubGV0dGVyU3BhY2luZyA9ICcwLjJlbSc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy53aGVyZUFyZVlvdSk7XG4gICAgfVxuICAgIFxuXG4gICAgdXBkYXRlKHRpbWVFbGFwc2VkKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvblRpbWUgPSB0aW1lRWxhcHNlZCAqIDAuMjtcbiAgICBcbiAgICAgICAgdGhpcy51cGRhdGVTa3lzY3JhcGVycyhhbmltYXRpb25UaW1lKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMudXBkYXRlQ2FtZXJhKHRpbWVFbGFwc2VkKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTa3lzY3JhcGVycyhhbmltYXRpb25UaW1lKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY29uc3QgbmV3UG9zID0gY2hpbGQucG9zaXRpb247XG4gICAgICAgICAgICBuZXdQb3MueSA9IE1hdGguc2luKChpICogTWF0aC5QSSAqIDAuMjUpICsgYW5pbWF0aW9uVGltZSk7XG4gICAgICAgICAgICBjaGlsZC5wb3NpdGlvbi5jb3B5KG5ld1Bvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVDYW1lcmEodGltZUVsYXBzZWQpIHtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEucG9zaXRpb24uY29weShcbiAgICAgICAgICAgIG5ldyBWZWN0b3IzKFxuICAgICAgICAgICAgICAgIE1hdGguY29zKHRpbWVFbGFwc2VkICogLjEyKSAqIDEwICsgMixcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aW1lRWxhcHNlZCAqIC4yKSArIDEsXG4gICAgICAgICAgICAgICAgMzApXG4gICAgICAgICAgICApO1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5sb29rQXQobmV3IFZlY3RvcjMoMCwgMi41LCA2KSk7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLndoZXJlQXJlWW91KTtcbiAgICB9XG5cbn0iXSwic291cmNlUm9vdCI6IiJ9