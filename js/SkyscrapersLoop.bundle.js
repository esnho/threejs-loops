(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{29:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(28);var n=function e(t){var o=t.size,n=void 0===o?5:o,a=t.material,i=t.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var s=1,c=1,u=1;this.color=new r.Color,this.color.setRGB(s,c,u),this.material=a||new r.MeshBasicMaterial({color:this.color}),this.geometry=new r.BoxGeometry(n,n,n),this.mesh=new r.Mesh(this.geometry,this.material),i&&this.mesh.position.copy(i),this.root=this.mesh}},31:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var r=o(28);o(32);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h={intensity:1,castShadow:!1,bias:0,projectionSides:void 0,mapSize:512},l=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];o=s(this,(e=c(t)).call.apply(e,[this].concat(i)));var l=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),r.forEach(function(t){a(e,t,o[t])})}return e}({},h,i[0]),f=l.intensity,p=l.castShadow,d=l.bias,y=l.projectionSides,w=l.mapSize;o.intensity=f,o.projectionSides=y,o.mapSize=w;var m=new r.DirectionalLight("white",.65*o.intensity),v=new r.DirectionalLight("white",.55*o.intensity);return m.shadow.bias=d||0,v.shadow.bias=d||0,m.castShadow=p,v.castShadow=p,o.updateProjection(m,o.projectionSides),o.updateProjection(v,o.projectionSides),o.updateShadowMap(m,o.mapSize),o.updateShadowMap(m,o.mapSize),m.position.copy(new r.Vector3(9,3.5,0)),v.position.copy(new r.Vector3(-10,2,0)),o.add(m,v),o}var o,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Group"]),o=t,(n=[{key:"updateProjection",value:function(e,t){e.shadow.camera.left=-t,e.shadow.camera.right=t,e.shadow.camera.updateProjectionMatrix()}},{key:"updateShadowMap",value:function(e,t){e.shadow.mapSize.width=t,e.shadow.mapSize.height=t}}])&&i(o.prototype,n),l&&i(o,l),t}()},32:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var r=o(28);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=a(this,i(t).call(this));var o=new r.HemisphereLight(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Group"]),t}()},33:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(28);var n=function e(t){var o=t.size,n=void 0===o?5:o,a=t.material,i=t.position,s=t.widthSegments,c=t.heightSegments,u=t.castShadow,h=t.receiveShadow;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var l=1,f=1,p=1;this.color=new r.Color,this.color.setRGB(l,f,p),this.material=a||new r.MeshBasicMaterial({color:this.color});var d=this.material.length>1?r.SphereBufferGeometry:r.SphereGeometry;if(this.geometry=new d(n,s||7,c||9),this.material.length){this.geometry.clearGroups();for(var y=0;y<a.length;y++)this.geometry.addGroup(0,1/0,y)}this.mesh=new r.Mesh(this.geometry,this.material),this.mesh.castShadow=u,this.mesh.receiveShadow=h,i&&this.mesh.position.copy(i),this.root=this.mesh}},40:function(e,t,o){var r=o(41);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o(1)(r,n);r.locals&&(e.exports=r.locals)},41:function(e,t,o){t=e.exports=o(0)(!1);var r=o(42),n=r(o(43)),a=r(o(44));t.push([e.i,"/* vt323-400normal - latin */\n@font-face {\n  font-family: 'VT323';\n  font-style: normal;\n  font-display: swap;\n  font-weight: 400;\n  src:\n    local('VT323 Regular '),\n    local('VT323-Regular'),\n    url("+n+") format('woff2'), \n    url("+a+") format('woff'); /* Modern Browsers */\n}\n\n",""])},42:function(e,t,o){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},43:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff2"},44:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff"},6:function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return u});var r=o(28),n=o(31),a=o(32),i=o(29),s=o(33);function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o(40);var u=function(){function e(t){var o=t.scene,n=t.onLoad;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=o,this.editScene(),this.root=new r.Group,this.addLights(),this.addSkyscrapers(),this.addSky(),this.addGround(),this.addWhereAreYou(),n&&n()}var t,o,u;return t=e,(o=[{key:"addLights",value:function(){var e=new n.a;this.root.add(e);var t=new a.a;this.root.add(t)}},{key:"editScene",value:function(){var e=this.scene.camera.aspect,t=new r.Color;t.setIntHSL(244,30,8),this.scene.renderer.setClearColor(t),this.scene.camera=new r.OrthographicCamera(7*e/-2,7*e/2,3.5,-3.5,.1,150),this.scene.camera.position.copy(new r.Vector3(10,10,10)),this.scene.camera.lookAt(new r.Vector3(0,0,0))}},{key:"addSkyscrapers",value:function(){var e=new r.MeshStandardMaterial({color:4276048,metalness:.3,roughness:.2}),t=new r.MeshBasicMaterial({color:2301751}),o=new r.MeshBasicMaterial({color:13421789});this.cubes=[];this.cubesParent=new r.Group;for(var n=-5;n<5;n++)for(var a=-5;a<5;a++){for(var s=new i.a({size:1,material:e,position:new r.Vector3(1.5*n+(Math.random()-.5),0,1.5*a)}),c=0;c<80;c++){var u=Math.random()>.5?.5:-.5;if(!(u<0)){var h=.8*Math.random()-.4,l=Math.random()*(Math.random()>.5?.4:-.4);h=.1*Math.round(10*h),l=.2*Math.round(5*l);var f=new i.a({size:.05,material:Math.random()>.1?t:o,position:new r.Vector3(l,h,u)});s.root.add(f.root)}}s.root.scale.copy(new r.Vector3(1,2,1)),this.cubesParent.add(s.root),this.cubes.push(s)}this.root.add(this.cubesParent)}},{key:"addSky",value:function(){var e=new r.MeshStandardMaterial({color:328489,metalness:.1,roughness:.9,side:r.BackSide}),t=new r.MeshBasicMaterial({color:13421789,side:r.BackSide,wireframe:!0}),o=new s.a({size:5,position:new r.Vector3(-.5,1,0),material:e,heightSegments:72,widthSegments:128});o.root.scale.copy(new r.Vector3(10,9.25,10)),this.root.add(o.root);for(var n=0;n<120;n++){var a=Math.random()*Math.PI*2,i=Math.random()*Math.PI*.6,c=new s.a({size:.018,material:t,position:new r.Vector3(20*Math.sin(a),8*Math.cos(i),-10)});this.root.add(c.root)}}},{key:"addGround",value:function(){var e=new r.MeshStandardMaterial({color:1250067,metalness:.7,roughness:.9,flatShading:!0}),t=new s.a({size:3,position:new r.Vector3(0,-1,0),material:e});t.root.scale.copy(new r.Vector3(5,.5,4)),this.root.add(t.root)}},{key:"addWhereAreYou",value:function(){this.whereAreYou=document.createElement("h1"),this.whereAreYou.innerHTML="where are you",this.whereAreYou.style.margin="auto",this.whereAreYou.style.marginTop="30vh",this.whereAreYou.style.verticalAlign="middle",this.whereAreYou.style.fontFamily="'VT323', monospace",this.whereAreYou.style.color="antiquewhite",this.whereAreYou.style.fontWeight="lighter",this.whereAreYou.style.cursor="default",this.whereAreYou.style.letterSpacing="0.2em",document.body.appendChild(this.whereAreYou)}},{key:"update",value:function(e){var t=.2*e;this.updateSkyscrapers(t),this.updateCamera(e)}},{key:"updateSkyscrapers",value:function(e){for(var t=0;t<this.cubesParent.children.length;t++){var o=this.cubesParent.children[t],r=o.position;r.y=Math.sin(t*Math.PI*.25+e),o.position.copy(r)}}},{key:"updateCamera",value:function(e){this.scene.camera.position.copy(new r.Vector3(10*Math.cos(.12*e)+2,Math.cos(.2*e)+1,30)),this.scene.camera.lookAt(new r.Vector3(0,2.5,6)),this.scene.camera.updateProjectionMatrix()}},{key:"onRemove",value:function(){document.body.removeChild(this.whereAreYou)}}])&&c(t.prototype,o),u&&c(t,u),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9XaGl0ZUhlbWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL09iamVjdHMvQmFzaWNTcGhlcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2luZGV4LmNzcz82MTY1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZmFjZS12dDMyMy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3VybC1lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL1NreXNjcmFwZXJzTG9vcC5qcyJdLCJuYW1lcyI6WyJCYXNpY0N1YmUiLCJfcmVmIiwiX3JlZiRzaXplIiwic2l6ZSIsIm1hdGVyaWFsIiwicG9zaXRpb24iLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2VlZCIsIk1hdGgiLCJyYW5kb20iLCJjb2xvciIsIkNvbG9yIiwic2V0UkdCIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJnZW9tZXRyeSIsIkJveEdlb21ldHJ5IiwibWVzaCIsIk1lc2giLCJjb3B5Iiwicm9vdCIsImRlZmF1bHRQYXJhbXMiLCJpbnRlbnNpdHkiLCJjYXN0U2hhZG93IiwiYmlhcyIsInByb2plY3Rpb25TaWRlcyIsInVuZGVmaW5lZCIsIm1hcFNpemUiLCJUd29EaXJlY3Rpb25hbHMiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX3RoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2dldFByb3RvdHlwZU9mIiwiY2FsbCIsImFwcGx5IiwiY29uY2F0IiwiX2RlZmF1bHRQYXJhbXMkYXJncyQiLCJfb2JqZWN0U3ByZWFkIiwiZGlyZWN0aW9uYWxMaWdodCIsIkRpcmVjdGlvbmFsTGlnaHQiLCJkaXJlY3Rpb25hbExpZ2h0MiIsInNoYWRvdyIsInVwZGF0ZVByb2plY3Rpb24iLCJ1cGRhdGVTaGFkb3dNYXAiLCJWZWN0b3IzIiwiYWRkIiwiR3JvdXAiLCJsaWdodCIsImNhbWVyYSIsImxlZnQiLCJyaWdodCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ3aWR0aCIsImhlaWdodCIsIldoaXRlSGVtaSIsImhlbWlMaWdodCIsIkhlbWlzcGhlcmVMaWdodCIsInNldEhTTCIsIk5vcm1hbGl6ZUh1ZSIsImdyb3VuZENvbG9yIiwic2V0IiwiQmFzaWNTcGhlcmUiLCJ3aWR0aFNlZ21lbnRzIiwiaGVpZ2h0U2VnbWVudHMiLCJyZWNlaXZlU2hhZG93IiwiU3BoZXJlIiwiU3BoZXJlQnVmZmVyR2VvbWV0cnkiLCJTcGhlcmVHZW9tZXRyeSIsImNsZWFyR3JvdXBzIiwiaSIsImFkZEdyb3VwIiwiSW5maW5pdHkiLCJjb250ZW50IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJpbnNlcnRJbnRvIiwibG9jYWxzIiwiZXhwb3J0cyIsInVybEVzY2FwZSIsIl9fX0NTU19MT0FERVJfVVJMX19fMF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX19fMV9fXyIsInB1c2giLCJ1cmwiLCJuZWVkUXVvdGVzIiwidGVzdCIsInNsaWNlIiwicmVwbGFjZSIsInAiLCJyZXF1aXJlIiwiU2t5c2NyYXBlcnNMb29wIiwic2NlbmUiLCJvbkxvYWQiLCJlZGl0U2NlbmUiLCJhZGRMaWdodHMiLCJhZGRTa3lzY3JhcGVycyIsImFkZFNreSIsImFkZEdyb3VuZCIsImFkZFdoZXJlQXJlWW91IiwiZGlyZWN0aW9uYWxzIiwiaGVtaSIsImFzcGVjdCIsImNsZWFyQ29sb3IiLCJzZXRJbnRIU0wiLCJyZW5kZXJlciIsInNldENsZWFyQ29sb3IiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJmcnVzdHVtU2l6ZSIsImxvb2tBdCIsInNreVNjcmFwZXJNYXQiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsIm1ldGFsbmVzcyIsInJvdWdobmVzcyIsIndpbmRvd09mZk1hdCIsIndpbmRvd09uTWF0IiwiY3ViZXMiLCJjdWJlc1BhcmVudCIsIngiLCJ6IiwibmV3Q3ViZSIsImoiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInpPZmZzZXQiLCJyb3VuZCIsIm5ld1dpbmRvdyIsInNjYWxlIiwic2t5TWF0Iiwic2lkZSIsIkJhY2tTaWRlIiwic3RhcnNNYXQiLCJ3aXJlZnJhbWUiLCJza3kiLCJwaHkiLCJQSSIsInRoZXRhIiwibmV3U3RhciIsInNpbiIsImNvcyIsImdyb3VuZE1hdCIsImZsYXRTaGFkaW5nIiwiZ3JvdW5kIiwid2hlcmVBcmVZb3UiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJzdHlsZSIsIm1hcmdpbiIsIm1hcmdpblRvcCIsInZlcnRpY2FsQWxpZ24iLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsImN1cnNvciIsImxldHRlclNwYWNpbmciLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ0aW1lRWxhcHNlZCIsImFuaW1hdGlvblRpbWUiLCJ1cGRhdGVTa3lzY3JhcGVycyIsInVwZGF0ZUNhbWVyYSIsImNoaWxkcmVuIiwiY2hpbGQiLCJuZXdQb3MiLCJ5IiwicmVtb3ZlQ2hpbGQiXSwibWFwcGluZ3MiOiJ5SUFPcUJBLEVBQ25CLFNBQUFBLEVBQUFDLEdBQTRDLElBQUFDLEVBQUFELEVBQS9CRSxZQUErQixJQUFBRCxFQUF4QixFQUF3QkEsRUFBckJFLEVBQXFCSCxF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SSxFQUFHQSxFQUFJcEUsS0FBS3FILFlBQVk0QyxTQUFTdkksT0FBUTBDLElBQUssQ0FDdkQsSUFBTThGLEVBQVFsSyxLQUFLcUgsWUFBWTRDLFNBQVM3RixHQUNsQytGLEVBQVNELEVBQU1wSyxTQUNyQnFLLEVBQU9DLEVBQUlsSyxLQUFLd0ksSUFBS3RFLEVBQUlsRSxLQUFLcUksR0FBSyxJQUFRdUIsR0FDM0NJLEVBQU1wSyxTQUFTYyxLQUFLdUoseUNBSWZOLEdBQ1Q3SixLQUFLNEYsTUFBTTdDLE9BQU9qRCxTQUFTYyxLQUN2QixJQUFJK0IsVUFDOEIsR0FBOUJ6QyxLQUFLeUksSUFBa0IsSUFBZGtCLEdBQTBCLEVBQ25DM0osS0FBS3lJLElBQWtCLEdBQWRrQixHQUFvQixFQUM3QixLQUVSN0osS0FBSzRGLE1BQU03QyxPQUFPOEQsT0FBTyxJQUFJbEUsVUFBUSxFQUFHLElBQUssSUFDN0MzQyxLQUFLNEYsTUFBTTdDLE9BQU9HLDREQUlsQjhGLFNBQVNXLEtBQUtVLFlBQVlySyxLQUFLK0kiLCJmaWxlIjoiLi9qcy9Ta3lzY3JhcGVyc0xvb3AuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29sb3IsXG4gIE1lc2hCYXNpY01hdGVyaWFsLFxuICBCb3hHZW9tZXRyeSxcbiAgTWVzaFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljQ3ViZSB7XG4gIGNvbnN0cnVjdG9yKHtzaXplID0gNSwgbWF0ZXJpYWwsIHBvc2l0aW9ufSkge1xuICAgIHRoaXMuc2VlZCA9IE1hdGgucmFuZG9tKCk7XG4gICAgY29uc3QgY29sb3IgPSB7cjoxICxnOjEsIGI6MX07XG4gICAgdGhpcy5jb2xvciA9IG5ldyBDb2xvcigpO1xuICAgIHRoaXMuY29sb3Iuc2V0UkdCKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuXG4gICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsIHx8IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogdGhpcy5jb2xvclxuICAgIH0pO1xuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBCb3hHZW9tZXRyeShzaXplLCBzaXplLCBzaXplKTtcblxuICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKFxuICAgICAgdGhpcy5nZW9tZXRyeSxcbiAgICAgIHRoaXMubWF0ZXJpYWxcbiAgICApO1xuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICB0aGlzLm1lc2gucG9zaXRpb24uY29weShwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5yb290ID0gdGhpcy5tZXNoO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICAgIEdyb3VwLFxuICAgIERpcmVjdGlvbmFsTGlnaHQsXG4gICAgVmVjdG9yM1xuICB9IGZyb20gJ3RocmVlJztcbmltcG9ydCBXaGl0ZUhlbWkgZnJvbSAnLi9XaGl0ZUhlbWkuanMnO1xuXG5jb25zdCBkZWZhdWx0UGFyYW1zID0ge1xuICAgIGludGVuc2l0eTogMSxcbiAgICBjYXN0U2hhZG93OiBmYWxzZSxcbiAgICBiaWFzOiAwLFxuICAgIHByb2plY3Rpb25TaWRlczogdW5kZWZpbmVkLFxuICAgIG1hcFNpemU6IDUxMixcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHdvRGlyZWN0aW9uYWxzIGV4dGVuZHMgR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XG5cdFx0Y29uc3Qge1xuICAgICAgICAgICAgaW50ZW5zaXR5LFxuICAgICAgICAgICAgY2FzdFNoYWRvdyxcbiAgICAgICAgICAgIGJpYXMsXG4gICAgICAgICAgICBwcm9qZWN0aW9uU2lkZXMsXG4gICAgICAgICAgICBtYXBTaXplXG4gICAgICAgIH0gPSB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0UGFyYW1zLFxuICAgICAgICAgICAgLi4uYXJnc1swXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmludGVuc2l0eSA9IGludGVuc2l0eTtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uU2lkZXMgPSBwcm9qZWN0aW9uU2lkZXM7XG4gICAgICAgIHRoaXMubWFwU2l6ZSA9IG1hcFNpemU7XG4gICAgICAgIFxuICAgICAgICAvKiBjb25zdCB3aGl0ZUVtaSA9IG5ldyBXaGl0ZUhlbWkoKTtcbiAgICAgICAgdGhpcy5hZGQod2hpdGVFbWkpOyAqL1xuXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgnd2hpdGUnLCAwLjY1ICogdGhpcy5pbnRlbnNpdHkpO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0MiA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KCd3aGl0ZScsIDAuNTUgKiB0aGlzLmludGVuc2l0eSk7XG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmJpYXMgPSBiaWFzIHx8IDA7XG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLnNoYWRvdy5iaWFzID0gYmlhcyB8fCAwO1xuICAgICAgICBcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5jYXN0U2hhZG93ID0gY2FzdFNoYWRvdztcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodDIuY2FzdFNoYWRvdyA9IGNhc3RTaGFkb3c7XG5cbiAgICAgICAgdGhpcy51cGRhdGVQcm9qZWN0aW9uKGRpcmVjdGlvbmFsTGlnaHQsIHRoaXMucHJvamVjdGlvblNpZGVzKTtcbiAgICAgICAgdGhpcy51cGRhdGVQcm9qZWN0aW9uKGRpcmVjdGlvbmFsTGlnaHQyLCB0aGlzLnByb2plY3Rpb25TaWRlcyk7XG4gICAgICAgIHRoaXMudXBkYXRlU2hhZG93TWFwKGRpcmVjdGlvbmFsTGlnaHQsIHRoaXMubWFwU2l6ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlU2hhZG93TWFwKGRpcmVjdGlvbmFsTGlnaHQsIHRoaXMubWFwU2l6ZSk7XG5cbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgOSxcbiAgICAgICAgICAgICAgICAzLjUsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLnBvc2l0aW9uLmNvcHkoXG4gICAgICAgICAgICBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgICAgICAtMTAsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5hZGQoZGlyZWN0aW9uYWxMaWdodCwgZGlyZWN0aW9uYWxMaWdodDIpO1xuICAgIH1cblxuICAgIHVwZGF0ZVByb2plY3Rpb24obGlnaHQsIHByb2plY3Rpb25TaWRlcykge1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSAtcHJvamVjdGlvblNpZGVzO1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnJpZ2h0ID0gcHJvamVjdGlvblNpZGVzO1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTaGFkb3dNYXAobGlnaHQsIG1hcFNpemUpIHtcbiAgICAgICAgbGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBtYXBTaXplO1xuICAgICAgICBsaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSBtYXBTaXplO1xuICAgIH1cbn0iLCJpbXBvcnQge1xuXHRHcm91cCxcblx0SGVtaXNwaGVyZUxpZ2h0XG59IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2hpdGVIZW1pIGV4dGVuZHMgR3JvdXAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgY29uc3QgaGVtaUxpZ2h0ID0gbmV3IEhlbWlzcGhlcmVMaWdodCggMHhmZmZmZmYsIDB4ZmZmZmZmLCAzLjAgKTtcblx0XHRoZW1pTGlnaHQuY29sb3Iuc2V0SFNMKFxuXHRcdFx0TWF0aC5Ob3JtYWxpemVIdWUoMzI1KSwgXG5cdFx0XHQwLjEsXG5cdFx0XHQwLjk0XG5cdFx0KTtcblx0XHRoZW1pTGlnaHQuZ3JvdW5kQ29sb3Iuc2V0SFNMKFxuXHRcdFx0TWF0aC5Ob3JtYWxpemVIdWUoMzI1KSwgXG5cdFx0XHQwLjEsIFxuXHRcdFx0MC42NFxuXHRcdCk7XG5cdFx0aGVtaUxpZ2h0LnBvc2l0aW9uLnNldCggMCwgMiwgMCApO1xuXHRcdHRoaXMuYWRkKCBoZW1pTGlnaHQgKTtcblx0fVxufVxuIiwiaW1wb3J0IHtcbiAgQ29sb3IsXG4gIE1lc2hCYXNpY01hdGVyaWFsLFxuICBTcGhlcmVCdWZmZXJHZW9tZXRyeSxcbiAgU3BoZXJlR2VvbWV0cnksXG4gIE1lc2hcbn0gZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY1NwaGVyZSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBzaXplID0gNSxcbiAgICBtYXRlcmlhbCxcbiAgICBwb3NpdGlvbixcbiAgICB3aWR0aFNlZ21lbnRzLFxuICAgIGhlaWdodFNlZ21lbnRzLFxuICAgIGNhc3RTaGFkb3csXG4gICAgcmVjZWl2ZVNoYWRvd1xuICB9KSB7XG4gICAgdGhpcy5zZWVkID0gTWF0aC5yYW5kb20oKTtcbiAgICBjb25zdCBjb2xvciA9IHtyOjEgLGc6MSwgYjoxfTtcbiAgICB0aGlzLmNvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgdGhpcy5jb2xvci5zZXRSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG5cbiAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWwgfHwgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgU3BoZXJlID0gdGhpcy5tYXRlcmlhbC5sZW5ndGggPiAxID8gU3BoZXJlQnVmZmVyR2VvbWV0cnkgOiBTcGhlcmVHZW9tZXRyeTtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgU3BoZXJlKFxuICAgICAgc2l6ZSwgXG4gICAgICB3aWR0aFNlZ21lbnRzIHx8IDcsIFxuICAgICAgaGVpZ2h0U2VnbWVudHMgfHwgOSk7XG4gICAgXG4gICAgaWYgKHRoaXMubWF0ZXJpYWwubGVuZ3RoKSB7XG4gICAgICB0aGlzLmdlb21ldHJ5LmNsZWFyR3JvdXBzKCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYWRkR3JvdXAoIDAsIEluZmluaXR5LCBpICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tZXNoID0gbmV3IE1lc2goXG4gICAgICB0aGlzLmdlb21ldHJ5LFxuICAgICAgdGhpcy5tYXRlcmlhbFxuICAgICk7XG5cbiAgICB0aGlzLm1lc2guY2FzdFNoYWRvdyA9IGNhc3RTaGFkb3c7XG4gICAgdGhpcy5tZXNoLnJlY2VpdmVTaGFkb3cgPSByZWNlaXZlU2hhZG93O1xuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICB0aGlzLm1lc2gucG9zaXRpb24uY29weShwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5yb290ID0gdGhpcy5tZXNoO1xuICB9XG59XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gSW1wb3J0c1xudmFyIHVybEVzY2FwZSA9IHJlcXVpcmUoXCIuLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS91cmwtZXNjYXBlLmpzXCIpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMF9fXyA9IHVybEVzY2FwZShyZXF1aXJlKFwiLi9maWxlcy92dDMyMy1sYXRpbi00MDAud29mZjJcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMV9fXyA9IHVybEVzY2FwZShyZXF1aXJlKFwiLi9maWxlcy92dDMyMy1sYXRpbi00MDAud29mZlwiKSk7XG5cbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyogdnQzMjMtNDAwbm9ybWFsIC0gbGF0aW4gKi9cXG5AZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiAnVlQzMjMnO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIHNyYzpcXG4gICAgbG9jYWwoJ1ZUMzIzIFJlZ3VsYXIgJyksXFxuICAgIGxvY2FsKCdWVDMyMy1SZWd1bGFyJyksXFxuICAgIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMF9fXyArIFwiKSBmb3JtYXQoJ3dvZmYyJyksIFxcbiAgICB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzFfX18gKyBcIikgZm9ybWF0KCd3b2ZmJyk7IC8qIE1vZGVybiBCcm93c2VycyAqL1xcbn1cXG5cXG5cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlc2NhcGUodXJsLCBuZWVkUXVvdGVzKSB7XG4gIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cblxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSB8fCBuZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuICdcIicgKyB1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKSArICdcIic7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmb250cy92dDMyMy1sYXRpbi00MDAud29mZjJcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmb250cy92dDMyMy1sYXRpbi00MDAud29mZlwiOyIsImltcG9ydCB7XG4gICAgVmVjdG9yMyxcbiAgICBDb2xvcixcbiAgICBCYWNrU2lkZSxcbiAgICBHcm91cCxcbiAgICBPcnRob2dyYXBoaWNDYW1lcmEsXG4gICAgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsXG4gICAgTWVzaEJhc2ljTWF0ZXJpYWxcbiAgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgVHdvRGlyZWN0aW9uYWxzIGZyb20gJy4uL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMnO1xuaW1wb3J0IFdoaXRlSGVtaSBmcm9tICcuLi9MaWdodHMvV2hpdGVIZW1pLmpzJztcbmltcG9ydCBCYXNpY0N1YmUgZnJvbSAnLi4vT2JqZWN0cy9CYXNpY0N1YmUuanMnO1xuaW1wb3J0IEJhc2ljU3BoZXJlIGZyb20gJy4uL09iamVjdHMvQmFzaWNTcGhlcmUuanMnO1xucmVxdWlyZSgndHlwZWZhY2UtdnQzMjMnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2t5c2NyYXBlcnNMb29wIHtcbiAgICBjb25zdHJ1Y3Rvcih7c2NlbmUsIG9uTG9hZH0pIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuXG4gICAgICAgIHRoaXMuZWRpdFNjZW5lKCk7XG5cbiAgICAgICAgdGhpcy5yb290ID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgdGhpcy5hZGRMaWdodHMoKTtcblxuICAgICAgICB0aGlzLmFkZFNreXNjcmFwZXJzKCk7XG5cbiAgICAgICAgdGhpcy5hZGRTa3koKTtcblxuICAgICAgICB0aGlzLmFkZEdyb3VuZCgpO1xuXG4gICAgICAgIHRoaXMuYWRkV2hlcmVBcmVZb3UoKTtcblxuICAgICAgICBpZiAob25Mb2FkKSBvbkxvYWQoKTtcbiAgICB9XG5cbiAgICBhZGRMaWdodHMoKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFscyA9IG5ldyBUd29EaXJlY3Rpb25hbHMoKTtcbiAgICAgICAgdGhpcy5yb290LmFkZChkaXJlY3Rpb25hbHMpO1xuICAgICAgICBjb25zdCBoZW1pID0gbmV3IFdoaXRlSGVtaSgpO1xuICAgICAgICB0aGlzLnJvb3QuYWRkKGhlbWkpO1xuICAgIH1cblxuICAgIGVkaXRTY2VuZSgpIHtcbiAgICAgICAgY29uc3QgZnJ1c3R1bVNpemUgPSA3O1xuICAgICAgICBjb25zdCBhc3BlY3QgPSB0aGlzLnNjZW5lLmNhbWVyYS5hc3BlY3Q7XG4gICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBuZXcgQ29sb3IoKTtcbiAgICAgICAgY2xlYXJDb2xvci5zZXRJbnRIU0woMjQ0LCAzMCwgOCk7XG4gICAgICAgIHRoaXMuc2NlbmUucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihjbGVhckNvbG9yKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKGZydXN0dW1TaXplICogYXNwZWN0IC8gLTIsIGZydXN0dW1TaXplICogYXNwZWN0IC8gMiwgZnJ1c3R1bVNpemUgLyAyLCBmcnVzdHVtU2l6ZSAvIC0yLCAwLjEsIDE1MCk7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLnBvc2l0aW9uLmNvcHkobmV3IFZlY3RvcjMoMTAsIDEwLCAxMCkpO1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5sb29rQXQobmV3IFZlY3RvcjMoMCwgMCwgMCkpO1xuICAgIH1cblxuICAgIGFkZFNreXNjcmFwZXJzKCkge1xuICAgICAgICBjb25zdCBza3lTY3JhcGVyTWF0ID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweDQxM2Y1MCxcbiAgICAgICAgICAgIG1ldGFsbmVzczogMC4zLFxuICAgICAgICAgICAgcm91Z2huZXNzOiAwLjJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgd2luZG93T2ZmTWF0ID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweDIzMWYzN1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB3aW5kb3dPbk1hdCA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHhjY2NjZGQgLy8weGI3YTUxZlxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmN1YmVzID0gW107XG5cbiAgICAgICAgY29uc3QgaGFsZkNvdW50ID0gNTtcblxuICAgICAgICB0aGlzLmN1YmVzUGFyZW50ID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGZvciAobGV0IHggPSAtaGFsZkNvdW50OyB4IDwgaGFsZkNvdW50OyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHogPSAtaGFsZkNvdW50OyB6IDwgaGFsZkNvdW50OyB6KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDdWJlID0gbmV3IEJhc2ljQ3ViZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHNreVNjcmFwZXJNYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoeCoxLjUgKyAoTWF0aC5yYW5kb20oKS0wLjUpLCAwLCB6KjEuNSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4MDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gMC41IDogLTAuNTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhPZmZzZXQgPCAwKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHlPZmZzZXQgPSAoKE1hdGgucmFuZG9tKCkpICogMC44KSAtIDAuNDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHpPZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogKE1hdGgucmFuZG9tKCkgPiAwLjUgPyAwLjQgOiAtMC40KTtcbiAgICAgICAgICAgICAgICAgICAgeU9mZnNldCA9IE1hdGgucm91bmQoeU9mZnNldCAqIDEwKSAqIDAuMTtcbiAgICAgICAgICAgICAgICAgICAgek9mZnNldCA9IE1hdGgucm91bmQoek9mZnNldCAqIDUpICogMC4yO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdXaW5kb3cgPSBuZXcgQmFzaWNDdWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDAuMDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogTWF0aC5yYW5kb20oKSA+IDAuMSA/IHdpbmRvd09mZk1hdCA6IHdpbmRvd09uTWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKHpPZmZzZXQsIHlPZmZzZXQsIHhPZmZzZXQpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIG5ld0N1YmUucm9vdC5hZGQobmV3V2luZG93LnJvb3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdDdWJlLnJvb3Quc2NhbGUuY29weShuZXcgVmVjdG9yMygxLDIsMSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3ViZXNQYXJlbnQuYWRkKG5ld0N1YmUucm9vdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdWJlcy5wdXNoKG5ld0N1YmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnJvb3QuYWRkKHRoaXMuY3ViZXNQYXJlbnQpO1xuICAgIH1cblxuICAgIGFkZFNreSgpIHtcbiAgICAgICAgY29uc3Qgc2t5TWF0ID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweDA1MDMyOSxcbiAgICAgICAgICAgIG1ldGFsbmVzczogMC4xLFxuICAgICAgICAgICAgcm91Z2huZXNzOiAwLjksXG4gICAgICAgICAgICBzaWRlOiBCYWNrU2lkZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RhcnNNYXQgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4Y2NjY2RkLFxuICAgICAgICAgICAgc2lkZTogQmFja1NpZGUsXG4gICAgICAgICAgICB3aXJlZnJhbWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNreSA9IG5ldyBCYXNpY1NwaGVyZSh7XG4gICAgICAgICAgICBzaXplOiA1LFxuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKC0wLjUsIDEsIDApLFxuICAgICAgICAgICAgbWF0ZXJpYWw6IHNreU1hdCxcbiAgICAgICAgICAgIGhlaWdodFNlZ21lbnRzOiA3MixcbiAgICAgICAgICAgIHdpZHRoU2VnbWVudHM6IDEyOFxuICAgICAgICB9KTtcbiAgICAgICAgc2t5LnJvb3Quc2NhbGUuY29weShuZXcgVmVjdG9yMygxMCwgOS4yNSwgMTApKTtcbiAgICAgICAgdGhpcy5yb290LmFkZChza3kucm9vdCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTIwOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBoeSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMjtcbiAgICAgICAgICAgIGNvbnN0IHRoZXRhID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAwLjY7XG4gICAgICAgICAgICBjb25zdCBuZXdTdGFyID0gbmV3IEJhc2ljU3BoZXJlKHtcbiAgICAgICAgICAgICAgICBzaXplOiAwLjAxOCxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogc3RhcnNNYXQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKE1hdGguc2luKHBoeSkgKiAyMCwgTWF0aC5jb3ModGhldGEpICogOCwgLTEwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJvb3QuYWRkKG5ld1N0YXIucm9vdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRHcm91bmQoKSB7XG4gICAgICAgIGNvbnN0IGdyb3VuZE1hdCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHgxMzEzMTMsXG4gICAgICAgICAgICBtZXRhbG5lc3M6IDAuNyxcbiAgICAgICAgICAgIHJvdWdobmVzczogMC45LFxuICAgICAgICAgICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGdyb3VuZCA9IG5ldyBCYXNpY1NwaGVyZSh7XG4gICAgICAgICAgICBzaXplOiAzLFxuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDAsIC0xLCAwKSxcbiAgICAgICAgICAgIG1hdGVyaWFsOiBncm91bmRNYXRcbiAgICAgICAgfSk7XG4gICAgICAgIGdyb3VuZC5yb290LnNjYWxlLmNvcHkobmV3IFZlY3RvcjMoNSwgMC41LCA0KSk7XG4gICAgICAgIHRoaXMucm9vdC5hZGQoZ3JvdW5kLnJvb3QpO1xuICAgIH1cblxuICAgIGFkZFdoZXJlQXJlWW91KCkge1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5pbm5lckhUTUwgPSBcIndoZXJlIGFyZSB5b3VcIjtcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5tYXJnaW4gPSAnYXV0byc7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUubWFyZ2luVG9wID0gJzMwdmgnO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnbWlkZGxlJztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5mb250RmFtaWx5ID0gXCInVlQzMjMnLCBtb25vc3BhY2VcIjtcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5jb2xvciA9ICdhbnRpcXVld2hpdGUnO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmZvbnRXZWlnaHQgPSAnbGlnaHRlcic7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmxldHRlclNwYWNpbmcgPSAnMC4yZW0nO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMud2hlcmVBcmVZb3UpO1xuICAgIH1cbiAgICBcblxuICAgIHVwZGF0ZSh0aW1lRWxhcHNlZCkge1xuICAgICAgICBjb25zdCBhbmltYXRpb25UaW1lID0gdGltZUVsYXBzZWQgKiAwLjI7XG4gICAgXG4gICAgICAgIHRoaXMudXBkYXRlU2t5c2NyYXBlcnMoYW5pbWF0aW9uVGltZSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZUNhbWVyYSh0aW1lRWxhcHNlZCk7XG4gICAgfVxuXG4gICAgdXBkYXRlU2t5c2NyYXBlcnMoYW5pbWF0aW9uVGltZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BvcyA9IGNoaWxkLnBvc2l0aW9uO1xuICAgICAgICAgICAgbmV3UG9zLnkgPSBNYXRoLnNpbigoaSAqIE1hdGguUEkgKiAwLjI1KSArIGFuaW1hdGlvblRpbWUpO1xuICAgICAgICAgICAgY2hpbGQucG9zaXRpb24uY29weShuZXdQb3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ2FtZXJhKHRpbWVFbGFwc2VkKSB7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLnBvc2l0aW9uLmNvcHkoXG4gICAgICAgICAgICBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aW1lRWxhcHNlZCAqIC4xMikgKiAxMCArIDIsXG4gICAgICAgICAgICAgICAgTWF0aC5jb3ModGltZUVsYXBzZWQgKiAuMikgKyAxLFxuICAgICAgICAgICAgICAgIDMwKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEubG9va0F0KG5ldyBWZWN0b3IzKDAsIDIuNSwgNikpO1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy53aGVyZUFyZVlvdSk7XG4gICAgfVxuXG59Il0sInNvdXJjZVJvb3QiOiIifQ==