(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{16:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(15);var n=function e(t){var o=t.size,n=void 0===o?5:o,i=t.material,a=t.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var s=1,c=1,u=1;this.color=new r.Color,this.color.setRGB(s,c,u),this.material=i||new r.MeshBasicMaterial({color:this.color}),this.geometry=new r.BoxGeometry(n,n,n),this.mesh=new r.Mesh(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh}},22:function(e,t,o){var r=o(23);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o(1)(r,n);r.locals&&(e.exports=r.locals)},23:function(e,t,o){t=e.exports=o(0)(!1);var r=o(24),n=r(o(25)),i=r(o(26));t.push([e.i,"/* vt323-400normal - latin */\n@font-face {\n  font-family: 'VT323';\n  font-style: normal;\n  font-display: swap;\n  font-weight: 400;\n  src:\n    local('VT323 Regular '),\n    local('VT323-Regular'),\n    url("+n+") format('woff2'), \n    url("+i+") format('woff'); /* Modern Browsers */\n}\n\n",""])},24:function(e,t,o){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},25:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff2"},26:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff"},6:function(e,t,o){"use strict";o.r(t);var r=o(15);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=i(this,a(t).call(this));var o=new r.HemisphereLight(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Group"]),t}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=h(this,l(t).call(this));var o=new c;e.add(o);var n=new r.DirectionalLight("white",.65),i=new r.DirectionalLight("white",.55);return n.position.copy(new r.Vector3(9,3.5,0)),i.position.copy(new r.Vector3(-10,2,0)),e.add(n,i),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Group"]),t}(),d=o(16);var y=function e(t){var o=t.size,n=void 0===o?5:o,i=t.material,a=t.position,s=t.widthSegments,c=t.heightSegments;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var u=1,h=1,l=1;this.color=new r.Color,this.color.setRGB(u,h,l),this.material=i||new r.MeshBasicMaterial({color:this.color});var f=i.length>1?r.SphereBufferGeometry:r.SphereGeometry;if(this.geometry=new f(n,s||7,c||9),i.length){this.geometry.clearGroups();for(var p=0;p<i.length;p++)this.geometry.addGroup(0,1/0,p)}this.mesh=new r.Mesh(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh};function w(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.d(t,"default",function(){return m}),o(22);var m=function(){function e(t){var o=t.scene,n=t.onLoad;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=o,this.editScene(),this.root=new r.Group;var i=new p;this.root.add(i),this.addSkyscrapers(),this.addSky(),this.addGround(),this.addWhereAreYou(),n&&n()}var t,o,n;return t=e,(o=[{key:"editScene",value:function(){var e=this.scene.camera.aspect,t=new r.Color;t.setIntHSL(244,30,8),this.scene.renderer.setClearColor(t),this.scene.camera=new r.OrthographicCamera(7*e/-2,7*e/2,3.5,-3.5,.1,150),this.scene.camera.position.copy(new r.Vector3(10,10,10)),this.scene.camera.lookAt(new r.Vector3(0,0,0))}},{key:"addSkyscrapers",value:function(){var e=new r.MeshStandardMaterial({color:4276048,metalness:.3,roughness:.2}),t=new r.MeshBasicMaterial({color:2301751}),o=new r.MeshBasicMaterial({color:13421789});this.cubes=[];this.cubesParent=new r.Group;for(var n=-5;n<5;n++)for(var i=-5;i<5;i++){for(var a=new d.a({size:1,material:e,position:new r.Vector3(1.5*n+(Math.random()-.5),0,1.5*i)}),s=0;s<80;s++){var c=Math.random()>.5?.5:-.5;if(!(c<0)){var u=.8*Math.random()-.4,h=Math.random()*(Math.random()>.5?.4:-.4);u=.1*Math.round(10*u),h=.2*Math.round(5*h);var l=new d.a({size:.05,material:Math.random()>.1?t:o,position:new r.Vector3(h,u,c)});a.root.add(l.root)}}a.root.scale.copy(new r.Vector3(1,2,1)),this.cubesParent.add(a.root),this.cubes.push(a)}this.root.add(this.cubesParent)}},{key:"addSky",value:function(){var e=new r.MeshStandardMaterial({color:328489,metalness:.1,roughness:.9,side:r.BackSide}),t=new r.MeshBasicMaterial({color:13421789,side:r.BackSide,wireframe:!0}),o=new y({size:5,position:new r.Vector3(-.5,1,0),material:e,heightSegments:72,widthSegments:128});o.root.scale.copy(new r.Vector3(10,9.25,10)),this.root.add(o.root);for(var n=0;n<120;n++){var i=Math.random()*Math.PI*2,a=Math.random()*Math.PI*.6,s=new y({size:.018,material:t,position:new r.Vector3(20*Math.sin(i),8*Math.cos(a),-10)});this.root.add(s.root)}}},{key:"addGround",value:function(){var e=new r.MeshStandardMaterial({color:1250067,metalness:.7,roughness:.9,flatShading:!0}),t=new y({size:3,position:new r.Vector3(0,-1,0),material:e});t.root.scale.copy(new r.Vector3(5,.5,4)),this.root.add(t.root)}},{key:"addWhereAreYou",value:function(){this.whereAreYou=document.createElement("h1"),this.whereAreYou.innerHTML="where are you",this.whereAreYou.style.margin="auto",this.whereAreYou.style.marginTop="30vh",this.whereAreYou.style.verticalAlign="middle",this.whereAreYou.style.fontFamily="'VT323', monospace",this.whereAreYou.style.color="antiquewhite",this.whereAreYou.style.fontWeight="lighter",this.whereAreYou.style.cursor="default",this.whereAreYou.style.letterSpacing="0.2em",document.body.appendChild(this.whereAreYou)}},{key:"update",value:function(e){var t=.2*e;this.updateSkyscrapers(t),this.updateCamera(e)}},{key:"updateSkyscrapers",value:function(e){for(var t=0;t<this.cubesParent.children.length;t++){var o=this.cubesParent.children[t],r=o.position;r.y=Math.sin(t*Math.PI*.25+e),o.position.copy(r)}}},{key:"updateCamera",value:function(e){this.scene.camera.position.copy(new r.Vector3(10*Math.cos(.12*e)+2,Math.cos(.2*e)+1,30)),this.scene.camera.lookAt(new r.Vector3(0,2.5,6)),this.scene.camera.updateProjectionMatrix()}},{key:"onRemove",value:function(){document.body.removeChild(this.whereAreYou)}}])&&w(t.prototype,o),n&&w(t,n),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2luZGV4LmNzcz82MTY1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZmFjZS12dDMyMy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3VybC1lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9XaGl0ZUhlbWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL09iamVjdHMvQmFzaWNTcGhlcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL1NreXNjcmFwZXJzTG9vcC5qcyJdLCJuYW1lcyI6WyJCYXNpY0N1YmUiLCJfcmVmIiwiX3JlZiRzaXplIiwic2l6ZSIsIm1hdGVyaWFsIiwicG9zaXRpb24iLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2VlZCIsIk1hdGgiLCJyYW5kb20iLCJjb2xvciIsIkNvbG9yIiwic2V0UkdCIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJnZW9tZXRyeSIsIkJveEdlb21ldHJ5IiwibWVzaCIsIk1lc2giLCJjb3B5Iiwicm9vdCIsImNvbnRlbnQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJpbnNlcnRJbnRvIiwidW5kZWZpbmVkIiwibG9jYWxzIiwiZXhwb3J0cyIsInVybEVzY2FwZSIsIl9fX0NTU19MT0FERVJfVVJMX19fMF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX19fMV9fXyIsInB1c2giLCJ1cmwiLCJuZWVkUXVvdGVzIiwidGVzdCIsInNsaWNlIiwicmVwbGFjZSIsInAiLCJXaGl0ZUhlbWkiLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2dldFByb3RvdHlwZU9mIiwiY2FsbCIsImhlbWlMaWdodCIsIkhlbWlzcGhlcmVMaWdodCIsInNldEhTTCIsIk5vcm1hbGl6ZUh1ZSIsImdyb3VuZENvbG9yIiwic2V0IiwiYWRkIiwiR3JvdXAiLCJUd29EaXJlY3Rpb25hbHMiLCJUd29EaXJlY3Rpb25hbHNfY2xhc3NDYWxsQ2hlY2siLCJUd29EaXJlY3Rpb25hbHNfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlR3b0RpcmVjdGlvbmFsc19nZXRQcm90b3R5cGVPZiIsIndoaXRlRW1pIiwiZGlyZWN0aW9uYWxMaWdodCIsIkRpcmVjdGlvbmFsTGlnaHQiLCJkaXJlY3Rpb25hbExpZ2h0MiIsIlZlY3RvcjMiLCJCYXNpY1NwaGVyZSIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsIkJhc2ljU3BoZXJlX2NsYXNzQ2FsbENoZWNrIiwiU3BoZXJlIiwibGVuZ3RoIiwiU3BoZXJlQnVmZmVyR2VvbWV0cnkiLCJTcGhlcmVHZW9tZXRyeSIsImNsZWFyR3JvdXBzIiwiYWRkR3JvdXAiLCJJbmZpbml0eSIsInJlcXVpcmUiLCJTa3lzY3JhcGVyc0xvb3AiLCJzY2VuZSIsIm9uTG9hZCIsIlNreXNjcmFwZXJzTG9vcF9jbGFzc0NhbGxDaGVjayIsImVkaXRTY2VuZSIsImxpZ2h0cyIsIkxpZ2h0cyIsImFkZFNreXNjcmFwZXJzIiwiYWRkU2t5IiwiYWRkR3JvdW5kIiwiYWRkV2hlcmVBcmVZb3UiLCJhc3BlY3QiLCJjYW1lcmEiLCJjbGVhckNvbG9yIiwic2V0SW50SFNMIiwicmVuZGVyZXIiLCJzZXRDbGVhckNvbG9yIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwiZnJ1c3R1bVNpemUiLCJsb29rQXQiLCJza3lTY3JhcGVyTWF0IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJ3aW5kb3dPZmZNYXQiLCJ3aW5kb3dPbk1hdCIsImN1YmVzIiwiY3ViZXNQYXJlbnQiLCJ4IiwieiIsIm5ld0N1YmUiLCJqIiwieE9mZnNldCIsInlPZmZzZXQiLCJ6T2Zmc2V0Iiwicm91bmQiLCJuZXdXaW5kb3ciLCJzY2FsZSIsInNreU1hdCIsInNpZGUiLCJCYWNrU2lkZSIsInN0YXJzTWF0Iiwid2lyZWZyYW1lIiwic2t5IiwicGh5IiwiUEkiLCJ0aGV0YSIsIm5ld1N0YXIiLCJzaW4iLCJjb3MiLCJncm91bmRNYXQiLCJmbGF0U2hhZGluZyIsImdyb3VuZCIsIndoZXJlQXJlWW91IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwic3R5bGUiLCJtYXJnaW4iLCJtYXJnaW5Ub3AiLCJ2ZXJ0aWNhbEFsaWduIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJjdXJzb3IiLCJsZXR0ZXJTcGFjaW5nIiwiYm9keSIsImFwcGVuZENoaWxkIiwidGltZUVsYXBzZWQiLCJhbmltYXRpb25UaW1lIiwidXBkYXRlU2t5c2NyYXBlcnMiLCJ1cGRhdGVDYW1lcmEiLCJjaGlsZHJlbiIsImNoaWxkIiwibmV3UG9zIiwieSIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJyZW1vdmVDaGlsZCJdLCJtYXBwaW5ncyI6InlJQU9xQkEsRUFDbkIsU0FBQUEsRUFBQUMsR0FBNEMsSUFBQUMsRUFBQUQsRUFBL0JFLFlBQStCLElBQUFELEVBQXhCLEVBQXdCQSxFQUFyQkUsRUFBcUJILEVBQXJCRyxTQUFVQyxFQUFXSixFQUFYSSxzR0FBV0MsQ0FBQUMsS0FBQVAsR0FDMUNPLEtBQUtDLEtBQU9DLEtBQUtDLFNBQ2pCLElBQU1DLEVBQVcsRUFBWEEsRUFBZ0IsRUFBaEJBLEVBQXFCLEVBQzNCSixLQUFLSSxNQUFR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LEdBQTlCdEQsS0FBS29ILElBQWtCLElBQWRrQixHQUEwQixFQUNuQ3RJLEtBQUtvSCxJQUFrQixHQUFka0IsR0FBb0IsRUFDN0IsS0FFUnhJLEtBQUtzRSxNQUFNVyxPQUFPTyxPQUFPLElBQUloQyxVQUFRLEVBQUcsSUFBSyxJQUM3Q3hELEtBQUtzRSxNQUFNVyxPQUFPK0QsNERBSWxCckIsU0FBU1csS0FBS1csWUFBWWpKLEtBQUswSCIsImZpbGUiOiIuL2pzL1NreXNjcmFwZXJzTG9vcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb2xvcixcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIEJveEdlb21ldHJ5LFxuICBNZXNoXG59IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzaWNDdWJlIHtcbiAgY29uc3RydWN0b3Ioe3NpemUgPSA1LCBtYXRlcmlhbCwgcG9zaXRpb259KSB7XG4gICAgdGhpcy5zZWVkID0gTWF0aC5yYW5kb20oKTtcbiAgICBjb25zdCBjb2xvciA9IHtyOjEgLGc6MSwgYjoxfTtcbiAgICB0aGlzLmNvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgdGhpcy5jb2xvci5zZXRSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG5cbiAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWwgfHwgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXG4gICAgfSk7XG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEJveEdlb21ldHJ5KHNpemUsIHNpemUsIHNpemUpO1xuXG4gICAgdGhpcy5tZXNoID0gbmV3IE1lc2goXG4gICAgICB0aGlzLmdlb21ldHJ5LFxuICAgICAgdGhpcy5tYXRlcmlhbFxuICAgICk7XG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvb3QgPSB0aGlzLm1lc2g7XG4gIH1cbn1cbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBJbXBvcnRzXG52YXIgdXJsRXNjYXBlID0gcmVxdWlyZShcIi4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3VybC1lc2NhcGUuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fID0gdXJsRXNjYXBlKHJlcXVpcmUoXCIuL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMlwiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18xX19fID0gdXJsRXNjYXBlKHJlcXVpcmUoXCIuL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmXCIpKTtcblxuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiB2dDMyMy00MDBub3JtYWwgLSBsYXRpbiAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdWVDMyMyc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LWRpc3BsYXk6IHN3YXA7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgc3JjOlxcbiAgICBsb2NhbCgnVlQzMjMgUmVndWxhciAnKSxcXG4gICAgbG9jYWwoJ1ZUMzIzLVJlZ3VsYXInKSxcXG4gICAgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fICsgXCIpIGZvcm1hdCgnd29mZjInKSwgXFxuICAgIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMV9fXyArIFwiKSBmb3JtYXQoJ3dvZmYnKTsgLyogTW9kZXJuIEJyb3dzZXJzICovXFxufVxcblxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVzY2FwZSh1cmwsIG5lZWRRdW90ZXMpIHtcbiAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfSAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cblxuXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH0gLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuXG5cbiAgaWYgKC9bXCInKCkgXFx0XFxuXS8udGVzdCh1cmwpIHx8IG5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gJ1wiJyArIHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpICsgJ1wiJztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMlwiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZvbnRzL3Z0MzIzLWxhdGluLTQwMC53b2ZmXCI7IiwiaW1wb3J0IHtcblx0R3JvdXAsXG5cdEhlbWlzcGhlcmVMaWdodFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoaXRlSGVtaSBleHRlbmRzIEdyb3VwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBIZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmZmLCAweGZmZmZmZiwgMy4wICk7XG5cdFx0aGVtaUxpZ2h0LmNvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLFxuXHRcdFx0MC45NFxuXHRcdCk7XG5cdFx0aGVtaUxpZ2h0Lmdyb3VuZENvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLCBcblx0XHRcdDAuNjRcblx0XHQpO1xuXHRcdGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDIsIDAgKTtcblx0XHR0aGlzLmFkZCggaGVtaUxpZ2h0ICk7XG5cdH1cbn1cbiIsImltcG9ydCB7XG4gICAgR3JvdXAsXG4gICAgRGlyZWN0aW9uYWxMaWdodCxcbiAgICBWZWN0b3IzXG4gIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IFdoaXRlSGVtaSBmcm9tICcuL1doaXRlSGVtaS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3b0RpcmVjdGlvbmFscyBleHRlbmRzIEdyb3VwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgY29uc3Qgd2hpdGVFbWkgPSBuZXcgV2hpdGVIZW1pKCk7XG4gICAgICAgIHRoaXMuYWRkKHdoaXRlRW1pKTtcblxuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoJ3doaXRlJywgMC42NSk7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQyID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoJ3doaXRlJywgMC41NSk7XG5cbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgOSxcbiAgICAgICAgICAgICAgICAzLjUsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLnBvc2l0aW9uLmNvcHkoXG4gICAgICAgICAgICBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgICAgICAtMTAsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5hZGQoZGlyZWN0aW9uYWxMaWdodCwgZGlyZWN0aW9uYWxMaWdodDIpO1xuICAgIH1cbn0iLCJpbXBvcnQge1xuICBDb2xvcixcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIFNwaGVyZUJ1ZmZlckdlb21ldHJ5LFxuICBTcGhlcmVHZW9tZXRyeSxcbiAgTWVzaFxufSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljU3BoZXJlIHtcbiAgY29uc3RydWN0b3Ioe3NpemUgPSA1LCBtYXRlcmlhbCwgcG9zaXRpb24sIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzfSkge1xuICAgIHRoaXMuc2VlZCA9IE1hdGgucmFuZG9tKCk7XG4gICAgY29uc3QgY29sb3IgPSB7cjoxICxnOjEsIGI6MX07XG4gICAgdGhpcy5jb2xvciA9IG5ldyBDb2xvcigpO1xuICAgIHRoaXMuY29sb3Iuc2V0UkdCKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuXG4gICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsIHx8IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogdGhpcy5jb2xvclxuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IFNwaGVyZSA9IG1hdGVyaWFsLmxlbmd0aCA+IDEgPyBTcGhlcmVCdWZmZXJHZW9tZXRyeSA6IFNwaGVyZUdlb21ldHJ5O1xuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBTcGhlcmUoXG4gICAgICBzaXplLCBcbiAgICAgIHdpZHRoU2VnbWVudHMgfHwgNywgXG4gICAgICBoZWlnaHRTZWdtZW50cyB8fCA5KTtcbiAgICBcbiAgICBpZiAobWF0ZXJpYWwubGVuZ3RoKSB7XG4gICAgICB0aGlzLmdlb21ldHJ5LmNsZWFyR3JvdXBzKCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGVyaWFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYWRkR3JvdXAoIDAsIEluZmluaXR5LCBpICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tZXNoID0gbmV3IE1lc2goXG4gICAgICB0aGlzLmdlb21ldHJ5LFxuICAgICAgdGhpcy5tYXRlcmlhbFxuICAgICk7XG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvb3QgPSB0aGlzLm1lc2g7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gICAgVmVjdG9yMyxcbiAgICBDb2xvcixcbiAgICBCYWNrU2lkZSxcbiAgICBHcm91cCxcbiAgICBPcnRob2dyYXBoaWNDYW1lcmEsXG4gICAgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsXG4gICAgTWVzaEJhc2ljTWF0ZXJpYWxcbiAgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgTGlnaHRzIGZyb20gJy4uL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMnO1xuaW1wb3J0IEJhc2ljQ3ViZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljQ3ViZS5qcyc7XG5pbXBvcnQgQmFzaWNTcGhlcmUgZnJvbSAnLi4vT2JqZWN0cy9CYXNpY1NwaGVyZS5qcyc7XG5yZXF1aXJlKCd0eXBlZmFjZS12dDMyMycpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTa3lzY3JhcGVyc0xvb3Age1xuICAgIGNvbnN0cnVjdG9yKHtzY2VuZSwgb25Mb2FkfSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG5cbiAgICAgICAgdGhpcy5lZGl0U2NlbmUoKTtcblxuICAgICAgICB0aGlzLnJvb3QgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICBjb25zdCBsaWdodHMgPSBuZXcgTGlnaHRzKCk7XG4gICAgICAgIHRoaXMucm9vdC5hZGQobGlnaHRzKTtcblxuICAgICAgICB0aGlzLmFkZFNreXNjcmFwZXJzKCk7XG5cbiAgICAgICAgdGhpcy5hZGRTa3koKTtcblxuICAgICAgICB0aGlzLmFkZEdyb3VuZCgpO1xuXG4gICAgICAgIHRoaXMuYWRkV2hlcmVBcmVZb3UoKTtcblxuICAgICAgICBpZiAob25Mb2FkKSBvbkxvYWQoKTtcbiAgICB9XG5cbiAgICBlZGl0U2NlbmUoKSB7XG4gICAgICAgIGNvbnN0IGZydXN0dW1TaXplID0gNztcbiAgICAgICAgY29uc3QgYXNwZWN0ID0gdGhpcy5zY2VuZS5jYW1lcmEuYXNwZWN0O1xuICAgICAgICBjb25zdCBjbGVhckNvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgICAgIGNsZWFyQ29sb3Iuc2V0SW50SFNMKDI0NCwgMzAsIDgpO1xuICAgICAgICB0aGlzLnNjZW5lLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoY2xlYXJDb2xvcik7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhID0gbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYShmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIC0yLCBmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIDIsIGZydXN0dW1TaXplIC8gMiwgZnJ1c3R1bVNpemUgLyAtMiwgMC4xLCAxNTApO1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBWZWN0b3IzKDEwLCAxMCwgMTApKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEubG9va0F0KG5ldyBWZWN0b3IzKDAsIDAsIDApKTtcbiAgICB9XG5cbiAgICBhZGRTa3lzY3JhcGVycygpIHtcbiAgICAgICAgY29uc3Qgc2t5U2NyYXBlck1hdCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHg0MTNmNTAsXG4gICAgICAgICAgICBtZXRhbG5lc3M6IDAuMyxcbiAgICAgICAgICAgIHJvdWdobmVzczogMC4yXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHdpbmRvd09mZk1hdCA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHgyMzFmMzdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgd2luZG93T25NYXQgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4Y2NjY2RkIC8vMHhiN2E1MWZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jdWJlcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGhhbGZDb3VudCA9IDU7XG5cbiAgICAgICAgdGhpcy5jdWJlc1BhcmVudCA9IG5ldyBHcm91cCgpO1xuICAgICAgICBmb3IgKGxldCB4ID0gLWhhbGZDb3VudDsgeCA8IGhhbGZDb3VudDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB6ID0gLWhhbGZDb3VudDsgeiA8IGhhbGZDb3VudDsgeisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q3ViZSA9IG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBza3lTY3JhcGVyTWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKHgqMS41ICsgKE1hdGgucmFuZG9tKCktMC41KSwgMCwgeioxLjUpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODA7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB4T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSA+IDAuNSA/IDAuNSA6IC0wLjU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4T2Zmc2V0IDwgMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCB5T2Zmc2V0ID0gKChNYXRoLnJhbmRvbSgpKSAqIDAuOCkgLSAwLjQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCB6T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSAqIChNYXRoLnJhbmRvbSgpID4gMC41ID8gMC40IDogLTAuNCk7XG4gICAgICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBNYXRoLnJvdW5kKHlPZmZzZXQgKiAxMCkgKiAwLjE7XG4gICAgICAgICAgICAgICAgICAgIHpPZmZzZXQgPSBNYXRoLnJvdW5kKHpPZmZzZXQgKiA1KSAqIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3V2luZG93ID0gbmV3IEJhc2ljQ3ViZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAwLjA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IE1hdGgucmFuZG9tKCkgPiAwLjEgPyB3aW5kb3dPZmZNYXQgOiB3aW5kb3dPbk1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyh6T2Zmc2V0LCB5T2Zmc2V0LCB4T2Zmc2V0KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBuZXdDdWJlLnJvb3QuYWRkKG5ld1dpbmRvdy5yb290KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3Q3ViZS5yb290LnNjYWxlLmNvcHkobmV3IFZlY3RvcjMoMSwyLDEpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1YmVzUGFyZW50LmFkZChuZXdDdWJlLnJvb3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3ViZXMucHVzaChuZXdDdWJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5yb290LmFkZCh0aGlzLmN1YmVzUGFyZW50KTtcbiAgICB9XG5cbiAgICBhZGRTa3koKSB7XG4gICAgICAgIGNvbnN0IHNreU1hdCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHgwNTAzMjksXG4gICAgICAgICAgICBtZXRhbG5lc3M6IDAuMSxcbiAgICAgICAgICAgIHJvdWdobmVzczogMC45LFxuICAgICAgICAgICAgc2lkZTogQmFja1NpZGVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0YXJzTWF0ID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweGNjY2NkZCxcbiAgICAgICAgICAgIHNpZGU6IEJhY2tTaWRlLFxuICAgICAgICAgICAgd2lyZWZyYW1lOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBza3kgPSBuZXcgQmFzaWNTcGhlcmUoe1xuICAgICAgICAgICAgc2l6ZTogNSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygtMC41LCAxLCAwKSxcbiAgICAgICAgICAgIG1hdGVyaWFsOiBza3lNYXQsXG4gICAgICAgICAgICBoZWlnaHRTZWdtZW50czogNzIsXG4gICAgICAgICAgICB3aWR0aFNlZ21lbnRzOiAxMjhcbiAgICAgICAgfSk7XG4gICAgICAgIHNreS5yb290LnNjYWxlLmNvcHkobmV3IFZlY3RvcjMoMTAsIDkuMjUsIDEwKSk7XG4gICAgICAgIHRoaXMucm9vdC5hZGQoc2t5LnJvb3QpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyMDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwaHkgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XG4gICAgICAgICAgICBjb25zdCB0aGV0YSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMC42O1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhciA9IG5ldyBCYXNpY1NwaGVyZSh7XG4gICAgICAgICAgICAgICAgc2l6ZTogMC4wMTgsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHN0YXJzTWF0LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyhNYXRoLnNpbihwaHkpICogMjAsIE1hdGguY29zKHRoZXRhKSAqIDgsIC0xMClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yb290LmFkZChuZXdTdGFyLnJvb3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkR3JvdW5kKCkge1xuICAgICAgICBjb25zdCBncm91bmRNYXQgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4MTMxMzEzLFxuICAgICAgICAgICAgbWV0YWxuZXNzOiAwLjcsXG4gICAgICAgICAgICByb3VnaG5lc3M6IDAuOSxcbiAgICAgICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBncm91bmQgPSBuZXcgQmFzaWNTcGhlcmUoe1xuICAgICAgICAgICAgc2l6ZTogMyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygwLCAtMSwgMCksXG4gICAgICAgICAgICBtYXRlcmlhbDogZ3JvdW5kTWF0XG4gICAgICAgIH0pO1xuICAgICAgICBncm91bmQucm9vdC5zY2FsZS5jb3B5KG5ldyBWZWN0b3IzKDUsIDAuNSwgNCkpO1xuICAgICAgICB0aGlzLnJvb3QuYWRkKGdyb3VuZC5yb290KTtcbiAgICB9XG5cbiAgICBhZGRXaGVyZUFyZVlvdSgpIHtcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3UuaW5uZXJIVE1MID0gXCJ3aGVyZSBhcmUgeW91XCI7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLm1hcmdpblRvcCA9ICczMHZoJztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuZm9udEZhbWlseSA9IFwiJ1ZUMzIzJywgbW9ub3NwYWNlXCI7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuY29sb3IgPSAnYW50aXF1ZXdoaXRlJztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5mb250V2VpZ2h0ID0gJ2xpZ2h0ZXInO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gJzAuMmVtJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLndoZXJlQXJlWW91KTtcbiAgICB9XG4gICAgXG5cbiAgICB1cGRhdGUodGltZUVsYXBzZWQpIHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IHRpbWVFbGFwc2VkICogMC4yO1xuICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZVNreXNjcmFwZXJzKGFuaW1hdGlvblRpbWUpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGVDYW1lcmEodGltZUVsYXBzZWQpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNreXNjcmFwZXJzKGFuaW1hdGlvblRpbWUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBjb25zdCBuZXdQb3MgPSBjaGlsZC5wb3NpdGlvbjtcbiAgICAgICAgICAgIG5ld1Bvcy55ID0gTWF0aC5zaW4oKGkgKiBNYXRoLlBJICogMC4yNSkgKyBhbmltYXRpb25UaW1lKTtcbiAgICAgICAgICAgIGNoaWxkLnBvc2l0aW9uLmNvcHkobmV3UG9zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUNhbWVyYSh0aW1lRWxhcHNlZCkge1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgTWF0aC5jb3ModGltZUVsYXBzZWQgKiAuMTIpICogMTAgKyAyLFxuICAgICAgICAgICAgICAgIE1hdGguY29zKHRpbWVFbGFwc2VkICogLjIpICsgMSxcbiAgICAgICAgICAgICAgICAzMClcbiAgICAgICAgICAgICk7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLmxvb2tBdChuZXcgVmVjdG9yMygwLCAyLjUsIDYpKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMud2hlcmVBcmVZb3UpO1xuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=