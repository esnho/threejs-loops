(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,,,function(e,t,o){"use strict";o.r(t);var n=o(12);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=i(this,a(t).call(this));var o=new n.g(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["f"]),t}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=h(this,l(t).call(this));var o=new c;e.add(o);var r=new n.e("white",.65),i=new n.e("white",.55);return r.position.copy(new n.p(9,3.5,0)),i.position.copy(new n.p(-10,2,0)),e.add(r,i),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n["f"]),t}(),d=o(13);var y=function e(t){var o=t.size,r=void 0===o?5:o,i=t.material,a=t.position,s=t.widthSegments,c=t.heightSegments;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var u=1,h=1,l=1;this.color=new n.d,this.color.setRGB(u,h,l),this.material=i||new n.i({color:this.color});var f=i.length>1?n.n:n.o;if(this.geometry=new f(r,s||7,c||9),i.length){this.geometry.clearGroups();for(var p=0;p<i.length;p++)this.geometry.addGroup(0,1/0,p)}this.mesh=new n.h(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh};function w(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}o.d(t,"default",function(){return m}),o(16);var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.editScene(),this.root=new n.f;var o=new p;this.root.add(o),this.addSkyscrapers(),this.addSky(),this.addGround(),this.addWhereAreYou()}var t,o,r;return t=e,(o=[{key:"editScene",value:function(){var e=this.scene.camera.aspect,t=new n.d;t.setIntHSL(244,30,8),this.scene.renderer.setClearColor(t),this.scene.camera=new n.k(7*e/-2,7*e/2,3.5,-3.5,.1,150),this.scene.camera.position.copy(new n.p(10,10,10)),this.scene.camera.lookAt(new n.p(0,0,0))}},{key:"addSkyscrapers",value:function(){var e=new n.j({color:4276048,metalness:.3,roughness:.2}),t=new n.i({color:2301751}),o=new n.i({color:13421789});this.cubes=[];this.cubesParent=new n.f;for(var r=-5;r<5;r++)for(var i=-5;i<5;i++){for(var a=new d.a({size:1,material:e,position:new n.p(1.5*r+(Math.random()-.5),0,1.5*i)}),s=0;s<80;s++){var c=Math.random()>.5?.5:-.5;if(!(c<0)){var u=.8*Math.random()-.4,h=Math.random()*(Math.random()>.5?.4:-.4);u=.1*Math.round(10*u),h=.2*Math.round(5*h);var l=new d.a({size:.05,material:Math.random()>.1?t:o,position:new n.p(h,u,c)});a.root.add(l.root)}}a.root.scale.copy(new n.p(1,2,1)),this.cubesParent.add(a.root),this.cubes.push(a)}this.root.add(this.cubesParent)}},{key:"addSky",value:function(){var e=new n.j({color:328489,metalness:.1,roughness:.9,side:n.a}),t=new n.i({color:13421789,side:n.a,wireframe:!0}),o=new y({size:5,position:new n.p(-.5,1,0),material:e,heightSegments:72,widthSegments:128});o.root.scale.copy(new n.p(10,9.25,10)),this.root.add(o.root);for(var r=0;r<120;r++){var i=Math.random()*Math.PI*2,a=Math.random()*Math.PI*.6,s=new y({size:.018,material:t,position:new n.p(20*Math.sin(i),8*Math.cos(a),-10)});this.root.add(s.root)}}},{key:"addGround",value:function(){var e=new n.j({color:1250067,metalness:.7,roughness:.9,flatShading:!0}),t=new y({size:3,position:new n.p(0,-1,0),material:e});t.root.scale.copy(new n.p(5,.5,4)),this.root.add(t.root)}},{key:"addWhereAreYou",value:function(){this.whereAreYou=document.createElement("h1"),this.whereAreYou.innerHTML="where are you",this.whereAreYou.style.margin="auto",this.whereAreYou.style.marginTop="30vh",this.whereAreYou.style.verticalAlign="middle",this.whereAreYou.style.fontFamily="'VT323', monospace",this.whereAreYou.style.color="antiquewhite",this.whereAreYou.style.fontWeight="lighter",this.whereAreYou.style.cursor="default",this.whereAreYou.style.letterSpacing="0.2em",document.body.appendChild(this.whereAreYou)}},{key:"update",value:function(e){var t=.2*e;this.updateSkyscrapers(t),this.updateCamera(e)}},{key:"updateSkyscrapers",value:function(e){for(var t=0;t<this.cubesParent.children.length;t++){var o=this.cubesParent.children[t],n=o.position;n.y=Math.sin(t*Math.PI*.25+e),o.position.copy(n)}}},{key:"updateCamera",value:function(e){this.scene.camera.position.copy(new n.p(10*Math.cos(.12*e)+2,Math.cos(.2*e)+1,30)),this.scene.camera.lookAt(new n.p(0,2.5,6)),this.scene.camera.updateProjectionMatrix()}},{key:"onRemove",value:function(){document.body.removeChild(this.whereAreYou)}}])&&w(t.prototype,o),r&&w(t,r),e}()},,,,,,,,,function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o(12);var r=function e(t){var o=t.size,r=void 0===o?5:o,i=t.material,a=t.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var s=1,c=1,u=1;this.color=new n.d,this.color.setRGB(s,c,u),this.material=i||new n.i({color:this.color}),this.geometry=new n.b(r,r,r),this.mesh=new n.h(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh}},,,function(e,t,o){var n=o(17);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(0)(void 0)).push([e.i,"/* vt323-400normal - latin */\n@font-face {\n  font-family: 'VT323';\n  font-style: normal;\n  font-display: swap;\n  font-weight: 400;\n  src:\n    local('VT323 Regular '),\n    local('VT323-Regular'),\n    url("+o(18)+") format('woff2'), \n    url("+o(19)+") format('woff'); /* Modern Browsers */\n}\n\n",""])},function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff2"},function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff"}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1doaXRlSGVtaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1R3b0RpcmVjdGlvbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY1NwaGVyZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTG9vcHMvU2t5c2NyYXBlcnNMb29wLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9PYmplY3RzL0Jhc2ljQ3ViZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvaW5kZXguY3NzPzgwODMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2luZGV4LmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZmFjZS12dDMyMy9maWxlcy92dDMyMy1sYXRpbi00MDAud29mZiJdLCJuYW1lcyI6WyJXaGl0ZUhlbWkiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsImNhbGwiLCJoZW1pTGlnaHQiLCJUSFJFRSIsImNvbG9yIiwic2V0SFNMIiwiTWF0aCIsIk5vcm1hbGl6ZUh1ZSIsImdyb3VuZENvbG9yIiwicG9zaXRpb24iLCJzZXQiLCJhZGQiLCJUd29EaXJlY3Rpb25hbHMiLCJUd29EaXJlY3Rpb25hbHNfY2xhc3NDYWxsQ2hlY2siLCJUd29EaXJlY3Rpb25hbHNfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlR3b0RpcmVjdGlvbmFsc19nZXRQcm90b3R5cGVPZiIsIndoaXRlRW1pIiwiZGlyZWN0aW9uYWxMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQyIiwiY29weSIsIkJhc2ljU3BoZXJlIiwiX3JlZiIsIl9yZWYkc2l6ZSIsInNpemUiLCJtYXRlcmlhbCIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsIkJhc2ljU3BoZXJlX2NsYXNzQ2FsbENoZWNrIiwic2VlZCIsInJhbmRvbSIsInNldFJHQiIsIlNwaGVyZSIsImxlbmd0aCIsImdlb21ldHJ5IiwiY2xlYXJHcm91cHMiLCJpIiwiYWRkR3JvdXAiLCJJbmZpbml0eSIsIm1lc2giLCJyb290IiwicmVxdWlyZSIsIlNreXNjcmFwZXJzTG9vcCIsImJhc2ljU2NlbmUiLCJTa3lzY3JhcGVyc0xvb3BfY2xhc3NDYWxsQ2hlY2siLCJzY2VuZSIsImVkaXRTY2VuZSIsImxpZ2h0cyIsIkxpZ2h0cyIsImFkZFNreXNjcmFwZXJzIiwiYWRkU2t5IiwiYWRkR3JvdW5kIiwiYWRkV2hlcmVBcmVZb3UiLCJhc3BlY3QiLCJjYW1lcmEiLCJjbGVhckNvbG9yIiwic2V0SW50SFNMIiwicmVuZGVyZXIiLCJzZXRDbGVhckNvbG9yIiwiZnJ1c3R1bVNpemUiLCJsb29rQXQiLCJza3lTY3JhcGVyTWF0IiwibWV0YWxuZXNzIiwicm91Z2huZXNzIiwid2luZG93T2ZmTWF0Iiwid2luZG93T25NYXQiLCJjdWJlcyIsImN1YmVzUGFyZW50IiwieCIsInoiLCJuZXdDdWJlIiwiQmFzaWNDdWJlIiwiaiIsInhPZmZzZXQiLCJ5T2Zmc2V0Iiwiek9mZnNldCIsInJvdW5kIiwibmV3V2luZG93Iiwic2NhbGUiLCJwdXNoIiwic2t5TWF0Iiwic2lkZSIsInN0YXJzTWF0Iiwid2lyZWZyYW1lIiwic2t5IiwicGh5IiwiUEkiLCJ0aGV0YSIsIm5ld1N0YXIiLCJzaW4iLCJjb3MiLCJncm91bmRNYXQiLCJmbGF0U2hhZGluZyIsImdyb3VuZCIsIndoZXJlQXJlWW91IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwic3R5bGUiLCJtYXJnaW4iLCJtYXJnaW5Ub3AiLCJ2ZXJ0aWNhbEFsaWduIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJjdXJzb3IiLCJsZXR0ZXJTcGFjaW5nIiwiYm9keSIsImFwcGVuZENoaWxkIiwidGltZUVsYXBzZWQiLCJhbmltYXRpb25UaW1lIiwidXBkYXRlU2t5c2NyYXBlcnMiLCJ1cGRhdGVDYW1lcmEiLCJjaGlsZHJlbiIsImNoaWxkIiwibmV3UG9zIiwieSIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJyZW1vdmVDaGlsZCIsImNvbnRlbnQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwib3B0aW9ucyIsImhtciIsInRyYW5zZm9ybSIsImxvY2FscyIsImV4cG9ydHMiLCJ1bmRlZmluZWQiLCJwIl0sIm1hcHBpbmdzIjoia3ZCQUVxQkEsY0FDbkIsU0FBQUEsSUFBYyxJQUFBQywrRkFBQUMsQ0FBQUMsS0FBQUgsR0FDWkMsRUFBQUcsRUFBQUQsS0FBQUUsRUFBQUwsR0FBQU0sS0FBQUgsT0FFQSxJQUFNSSxFQUFZLElBQUlDLElBQXVCLFNBQVUsU0FBVSxHQUhyRCxPQUlkRCxFQUFVRSxNQUFNQyxPQUNmQyxLQUFLQyxhQUFhLEtBQ2xCLEdBQ0EsS0FFREwsRUFBVU0sWUFBWUgsT0FDckJDLEtBQUtDLGFBQWEsS0FDbEIsR0FDQSxLQUVETCxFQUFVTyxTQUFTQyxJQUFLLEVBQUcsRUFBRyxHQUM5QmQsRUFBS2UsSUFBS1QsR0FmSU4sOE9BRHVCTyxrcEJDQ2xCUyxjQUNqQixTQUFBQSxJQUFjLElBQUFoQiwrRkFBQWlCLENBQUFmLEtBQUFjLEdBQ1ZoQixFQUFBa0IsRUFBQWhCLEtBQUFpQixFQUFBSCxHQUFBWCxLQUFBSCxPQUNBLElBQU1rQixFQUFXLElBQUlyQixFQUNyQkMsRUFBS2UsSUFBSUssR0FFVCxJQUFNQyxFQUFtQixJQUFJZCxJQUF1QixRQUFTLEtBQ3ZEZSxFQUFvQixJQUFJZixJQUF1QixRQUFTLEtBTnBELE9BUVZjLEVBQWlCUixTQUFTVSxLQUN0QixJQUFJaEIsSUFDQSxFQUNBLElBQ0EsSUFJUmUsRUFBa0JULFNBQVNVLEtBQ3ZCLElBQUloQixLQUNDLEdB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QUswQixVQUdIZixHQUNGWCxLQUFLd0MsS0FBSzdCLFNBQVNVLEtBQUtWLEdBRzFCWCxLQUFLeUMsS0FBT3pDLEtBQUt3Qyx5QkNyQnJCLElBQUErRSxFQUFjQyxFQUFRLElBQ3RCLGlCQUFBRCxNQUFBLEVBQTRDRSxFQUFBcEYsRUFBU2tGLEVBQUEsTUFJckQsSUFBQUcsRUFBQSxDQUFlQyxLQUFBLEVBQ2ZDLGVBSEFBLEdBS2FKLEVBQVEsRUFBUkEsQ0FBMkNELEVBQUFHLEdBQ3hESCxFQUFBTSxTQUFBSixFQUFBSyxRQUFBUCxFQUFBTSwwQkNaQUosRUFBQUssUUFBMkJOLEVBQVEsRUFBUkEsTUFBdUNPLElBS2xFL0MsS0FBQSxDQUFjeUMsRUFBQXBGLEVBQVMsdU5BQTJObUYsRUFBUSxJQUErQixnQ0FBc0NBLEVBQVEsSUFBOEIsaURBQStDLHNCQ0xwWkMsRUFBQUssUUFBaUJOLEVBQUFRLEVBQXVCLCtDQ0F4Q1AsRUFBQUssUUFBaUJOLEVBQUFRLEVBQXVCIiwiZmlsZSI6Ii4vanMvU2t5c2NyYXBlcnNMb29wLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoaXRlSGVtaSBleHRlbmRzIFRIUkVFLkdyb3VwIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgY29uc3QgaGVtaUxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmZmYsIDB4ZmZmZmZmLCAzLjAgKTtcclxuXHRcdGhlbWlMaWdodC5jb2xvci5zZXRIU0woXHJcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxyXG5cdFx0XHQwLjEsXHJcblx0XHRcdDAuOTRcclxuXHRcdCk7XHJcblx0XHRoZW1pTGlnaHQuZ3JvdW5kQ29sb3Iuc2V0SFNMKFxyXG5cdFx0XHRNYXRoLk5vcm1hbGl6ZUh1ZSgzMjUpLCBcclxuXHRcdFx0MC4xLCBcclxuXHRcdFx0MC42NFxyXG5cdFx0KTtcclxuXHRcdGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDIsIDAgKTtcclxuXHRcdHRoaXMuYWRkKCBoZW1pTGlnaHQgKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgV2hpdGVIZW1pIGZyb20gJy4vV2hpdGVIZW1pLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3b0RpcmVjdGlvbmFscyBleHRlbmRzIFRIUkVFLkdyb3VwIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgY29uc3Qgd2hpdGVFbWkgPSBuZXcgV2hpdGVIZW1pKCk7XHJcbiAgICAgICAgdGhpcy5hZGQod2hpdGVFbWkpO1xyXG5cclxuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoJ3doaXRlJywgMC42NSk7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodDIgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgnd2hpdGUnLCAwLjU1KTtcclxuXHJcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5jb3B5KFxyXG4gICAgICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMyhcclxuICAgICAgICAgICAgICAgIDksXHJcbiAgICAgICAgICAgICAgICAzLjUsXHJcbiAgICAgICAgICAgICAgICAwXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5wb3NpdGlvbi5jb3B5KFxyXG4gICAgICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMyhcclxuICAgICAgICAgICAgICAgIC0xMCxcclxuICAgICAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgICAgICAwXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmFkZChkaXJlY3Rpb25hbExpZ2h0LCBkaXJlY3Rpb25hbExpZ2h0Mik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY1NwaGVyZSB7XHJcbiAgY29uc3RydWN0b3Ioe3NpemUgPSA1LCBtYXRlcmlhbCwgcG9zaXRpb24sIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzfSkge1xyXG4gICAgdGhpcy5zZWVkID0gTWF0aC5yYW5kb20oKTtcclxuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xyXG4gICAgdGhpcy5jb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xyXG4gICAgdGhpcy5jb2xvci5zZXRSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XHJcblxyXG4gICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsIHx8IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgU3BoZXJlID0gbWF0ZXJpYWwubGVuZ3RoID4gMSA/IFRIUkVFLlNwaGVyZUJ1ZmZlckdlb21ldHJ5IDogVEhSRUUuU3BoZXJlR2VvbWV0cnk7XHJcblxyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBTcGhlcmUoXHJcbiAgICAgIHNpemUsIFxyXG4gICAgICB3aWR0aFNlZ21lbnRzIHx8IDcsIFxyXG4gICAgICBoZWlnaHRTZWdtZW50cyB8fCA5KTtcclxuICAgIFxyXG4gICAgaWYgKG1hdGVyaWFsLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmdlb21ldHJ5LmNsZWFyR3JvdXBzKCk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0ZXJpYWwubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5LmFkZEdyb3VwKCAwLCBJbmZpbml0eSwgaSApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2goXHJcbiAgICAgIHRoaXMuZ2VvbWV0cnksXHJcbiAgICAgIHRoaXMubWF0ZXJpYWxcclxuICAgICk7XHJcblxyXG4gICAgaWYgKHBvc2l0aW9uKSB7XHJcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJvb3QgPSB0aGlzLm1lc2g7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IExpZ2h0cyBmcm9tICcuLi9MaWdodHMvVHdvRGlyZWN0aW9uYWxzLmpzJztcclxuaW1wb3J0IEJhc2ljQ3ViZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljQ3ViZS5qcyc7XHJcbmltcG9ydCBCYXNpY1NwaGVyZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljU3BoZXJlLmpzJztcclxucmVxdWlyZSgndHlwZWZhY2UtdnQzMjMnKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNreXNjcmFwZXJzTG9vcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihiYXNpY1NjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IGJhc2ljU2NlbmU7XHJcblxyXG4gICAgICAgIHRoaXMuZWRpdFNjZW5lKCk7XHJcblxyXG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG5cclxuICAgICAgICBjb25zdCBsaWdodHMgPSBuZXcgTGlnaHRzKCk7XHJcbiAgICAgICAgdGhpcy5yb290LmFkZChsaWdodHMpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFNreXNjcmFwZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkU2t5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkR3JvdW5kKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkV2hlcmVBcmVZb3UoKTtcclxuICAgIH1cclxuXHJcbiAgICBlZGl0U2NlbmUoKSB7XHJcbiAgICAgICAgY29uc3QgZnJ1c3R1bVNpemUgPSA3O1xyXG4gICAgICAgIGNvbnN0IGFzcGVjdCA9IHRoaXMuc2NlbmUuY2FtZXJhLmFzcGVjdDtcclxuICAgICAgICBjb25zdCBjbGVhckNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCk7XHJcbiAgICAgICAgY2xlYXJDb2xvci5zZXRJbnRIU0woMjQ0LCAzMCwgOCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5yZW5kZXJlci5zZXRDbGVhckNvbG9yKGNsZWFyQ29sb3IpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYShmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIC0yLCBmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIDIsIGZydXN0dW1TaXplIC8gMiwgZnJ1c3R1bVNpemUgLyAtMiwgMC4xLCAxNTApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLnBvc2l0aW9uLmNvcHkobmV3IFRIUkVFLlZlY3RvcjMoMTAsIDEwLCAxMCkpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2t5c2NyYXBlcnMoKSB7XHJcbiAgICAgICAgY29uc3Qgc2t5U2NyYXBlck1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweDQxM2Y1MCxcclxuICAgICAgICAgICAgbWV0YWxuZXNzOiAwLjMsXHJcbiAgICAgICAgICAgIHJvdWdobmVzczogMC4yXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbmRvd09mZk1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweDIzMWYzN1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB3aW5kb3dPbk1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweGNjY2NkZCAvLzB4YjdhNTFmXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3ViZXMgPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZkNvdW50ID0gNTtcclxuXHJcbiAgICAgICAgdGhpcy5jdWJlc1BhcmVudCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gICAgICAgIGZvciAobGV0IHggPSAtaGFsZkNvdW50OyB4IDwgaGFsZkNvdW50OyB4KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeiA9IC1oYWxmQ291bnQ7IHogPCBoYWxmQ291bnQ7IHorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q3ViZSA9IG5ldyBCYXNpY0N1YmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogc2t5U2NyYXBlck1hdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKHgqMS41ICsgKE1hdGgucmFuZG9tKCktMC41KSwgMCwgeioxLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDgwOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB4T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSA+IDAuNSA/IDAuNSA6IC0wLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhPZmZzZXQgPCAwKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeU9mZnNldCA9ICgoTWF0aC5yYW5kb20oKSkgKiAwLjgpIC0gMC40O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB6T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSAqIChNYXRoLnJhbmRvbSgpID4gMC41ID8gMC40IDogLTAuNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgeU9mZnNldCA9IE1hdGgucm91bmQoeU9mZnNldCAqIDEwKSAqIDAuMTtcclxuICAgICAgICAgICAgICAgICAgICB6T2Zmc2V0ID0gTWF0aC5yb3VuZCh6T2Zmc2V0ICogNSkgKiAwLjI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3V2luZG93ID0gbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDAuMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBNYXRoLnJhbmRvbSgpID4gMC4xID8gd2luZG93T2ZmTWF0IDogd2luZG93T25NYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMyh6T2Zmc2V0LCB5T2Zmc2V0LCB4T2Zmc2V0KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q3ViZS5yb290LmFkZChuZXdXaW5kb3cucm9vdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXdDdWJlLnJvb3Quc2NhbGUuY29weShuZXcgVEhSRUUuVmVjdG9yMygxLDIsMSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdWJlc1BhcmVudC5hZGQobmV3Q3ViZS5yb290KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3ViZXMucHVzaChuZXdDdWJlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJvb3QuYWRkKHRoaXMuY3ViZXNQYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFNreSgpIHtcclxuICAgICAgICBjb25zdCBza3lNYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICBjb2xvcjogMHgwNTAzMjksXHJcbiAgICAgICAgICAgIG1ldGFsbmVzczogMC4xLFxyXG4gICAgICAgICAgICByb3VnaG5lc3M6IDAuOSxcclxuICAgICAgICAgICAgc2lkZTogVEhSRUUuQmFja1NpZGVcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBzdGFyc01hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweGNjY2NkZCxcclxuICAgICAgICAgICAgc2lkZTogVEhSRUUuQmFja1NpZGUsXHJcbiAgICAgICAgICAgIHdpcmVmcmFtZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNreSA9IG5ldyBCYXNpY1NwaGVyZSh7XHJcbiAgICAgICAgICAgIHNpemU6IDUsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygtMC41LCAxLCAwKSxcclxuICAgICAgICAgICAgbWF0ZXJpYWw6IHNreU1hdCxcclxuICAgICAgICAgICAgaGVpZ2h0U2VnbWVudHM6IDcyLFxyXG4gICAgICAgICAgICB3aWR0aFNlZ21lbnRzOiAxMjhcclxuICAgICAgICB9KTtcclxuICAgICAgICBza3kucm9vdC5zY2FsZS5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKDEwLCA5LjI1LCAxMCkpO1xyXG4gICAgICAgIHRoaXMucm9vdC5hZGQoc2t5LnJvb3QpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTIwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcGh5ID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyO1xyXG4gICAgICAgICAgICBjb25zdCB0aGV0YSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMC42O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTdGFyID0gbmV3IEJhc2ljU3BoZXJlKHtcclxuICAgICAgICAgICAgICAgIHNpemU6IDAuMDE4LFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHN0YXJzTWF0LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKE1hdGguc2luKHBoeSkgKiAyMCwgTWF0aC5jb3ModGhldGEpICogOCwgLTEwKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yb290LmFkZChuZXdTdGFyLnJvb3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRHcm91bmQoKSB7XHJcbiAgICAgICAgY29uc3QgZ3JvdW5kTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICAgICAgY29sb3I6IDB4MTMxMzEzLFxyXG4gICAgICAgICAgICBtZXRhbG5lc3M6IDAuNyxcclxuICAgICAgICAgICAgcm91Z2huZXNzOiAwLjksXHJcbiAgICAgICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZ3JvdW5kID0gbmV3IEJhc2ljU3BoZXJlKHtcclxuICAgICAgICAgICAgc2l6ZTogMyxcclxuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDAsIC0xLCAwKSxcclxuICAgICAgICAgICAgbWF0ZXJpYWw6IGdyb3VuZE1hdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGdyb3VuZC5yb290LnNjYWxlLmNvcHkobmV3IFRIUkVFLlZlY3RvcjMoNSwgMC41LCA0KSk7XHJcbiAgICAgICAgdGhpcy5yb290LmFkZChncm91bmQucm9vdCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkV2hlcmVBcmVZb3UoKSB7XHJcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XHJcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5pbm5lckhUTUwgPSBcIndoZXJlIGFyZSB5b3VcIjtcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLm1hcmdpbiA9ICdhdXRvJztcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLm1hcmdpblRvcCA9ICczMHZoJztcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnbWlkZGxlJztcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmZvbnRGYW1pbHkgPSBcIidWVDMyMycsIG1vbm9zcGFjZVwiO1xyXG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuY29sb3IgPSAnYW50aXF1ZXdoaXRlJztcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmZvbnRXZWlnaHQgPSAnbGlnaHRlcic7XHJcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gJzAuMmVtJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMud2hlcmVBcmVZb3UpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgdXBkYXRlKHRpbWVFbGFwc2VkKSB7XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IHRpbWVFbGFwc2VkICogMC4yO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy51cGRhdGVTa3lzY3JhcGVycyhhbmltYXRpb25UaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVwZGF0ZUNhbWVyYSh0aW1lRWxhcHNlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2t5c2NyYXBlcnMoYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BvcyA9IGNoaWxkLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBuZXdQb3MueSA9IE1hdGguc2luKChpICogTWF0aC5QSSAqIDAuMjUpICsgYW5pbWF0aW9uVGltZSk7XHJcbiAgICAgICAgICAgIGNoaWxkLnBvc2l0aW9uLmNvcHkobmV3UG9zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2FtZXJhKHRpbWVFbGFwc2VkKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEucG9zaXRpb24uY29weShcclxuICAgICAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoXHJcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aW1lRWxhcHNlZCAqIC4xMikgKiAxMCArIDIsXHJcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aW1lRWxhcHNlZCAqIC4yKSArIDEsXHJcbiAgICAgICAgICAgICAgICAzMClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwgMi41LCA2KSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVtb3ZlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy53aGVyZUFyZVlvdSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzaWNDdWJlIHtcclxuICBjb25zdHJ1Y3Rvcih7c2l6ZSA9IDUsIG1hdGVyaWFsLCBwb3NpdGlvbn0pIHtcclxuICAgIHRoaXMuc2VlZCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICBjb25zdCBjb2xvciA9IHtyOjEgLGc6MSwgYjoxfTtcclxuICAgIHRoaXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcclxuICAgIHRoaXMuY29sb3Iuc2V0UkdCKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xyXG5cclxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogdGhpcy5jb2xvclxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShzaXplLCBzaXplLCBzaXplKTtcclxuXHJcbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaChcclxuICAgICAgdGhpcy5nZW9tZXRyeSxcclxuICAgICAgdGhpcy5tYXRlcmlhbFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcclxuICB9XHJcbn1cclxuIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIFByZXBhcmUgY3NzVHJhbnNmb3JtYXRpb25cbnZhciB0cmFuc2Zvcm07XG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHVuZGVmaW5lZCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiB2dDMyMy00MDBub3JtYWwgLSBsYXRpbiAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdWVDMyMyc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LWRpc3BsYXk6IHN3YXA7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgc3JjOlxcbiAgICBsb2NhbCgnVlQzMjMgUmVndWxhciAnKSxcXG4gICAgbG9jYWwoJ1ZUMzIzLVJlZ3VsYXInKSxcXG4gICAgdXJsKFwiICsgcmVxdWlyZShcIi4vZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYyXCIpICsgXCIpIGZvcm1hdCgnd29mZjInKSwgXFxuICAgIHVybChcIiArIHJlcXVpcmUoXCIuL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmXCIpICsgXCIpIGZvcm1hdCgnd29mZicpOyAvKiBNb2Rlcm4gQnJvd3NlcnMgKi9cXG59XFxuXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZm9udHMvdnQzMjMtbGF0aW4tNDAwLndvZmYyXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZm9udHMvdnQzMjMtbGF0aW4tNDAwLndvZmZcIjsiXSwic291cmNlUm9vdCI6IiJ9