(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{16:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o(15);var n=function e(t){var o=t.size,n=void 0===o?5:o,i=t.material,a=t.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var s=1,c=1,u=1;this.color=new r.Color,this.color.setRGB(s,c,u),this.material=i||new r.MeshBasicMaterial({color:this.color}),this.geometry=new r.BoxGeometry(n,n,n),this.mesh=new r.Mesh(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh}},22:function(e,t,o){var r=o(23);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o(1)(r,n);r.locals&&(e.exports=r.locals)},23:function(e,t,o){t=e.exports=o(0)(!1);var r=o(24),n=r(o(25)),i=r(o(26));t.push([e.i,"/* vt323-400normal - latin */\n@font-face {\n  font-family: 'VT323';\n  font-style: normal;\n  font-display: swap;\n  font-weight: 400;\n  src:\n    local('VT323 Regular '),\n    local('VT323-Regular'),\n    url("+n+") format('woff2'), \n    url("+i+") format('woff'); /* Modern Browsers */\n}\n\n",""])},24:function(e,t,o){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},25:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff2"},26:function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff"},6:function(e,t,o){"use strict";o.r(t);var r=o(15);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=i(this,a(t).call(this));var o=new r.HemisphereLight(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Group"]),t}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=h(this,l(t).call(this));var o=new c;e.add(o);var n=new r.DirectionalLight("white",.65),i=new r.DirectionalLight("white",.55);return n.position.copy(new r.Vector3(9,3.5,0)),i.position.copy(new r.Vector3(-10,2,0)),e.add(n,i),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Group"]),t}(),d=o(16);var y=function e(t){var o=t.size,n=void 0===o?5:o,i=t.material,a=t.position,s=t.widthSegments,c=t.heightSegments;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var u=1,h=1,l=1;this.color=new r.Color,this.color.setRGB(u,h,l),this.material=i||new r.MeshBasicMaterial({color:this.color});var f=i.length>1?r.SphereBufferGeometry:r.SphereGeometry;if(this.geometry=new f(n,s||7,c||9),i.length){this.geometry.clearGroups();for(var p=0;p<i.length;p++)this.geometry.addGroup(0,1/0,p)}this.mesh=new r.Mesh(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh};function w(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.d(t,"default",function(){return m}),o(22);var m=function(){function e(t){var o=t.scene,n=t.onLoad;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=o,this.editScene(),this.root=new r.Group;var i=new p;this.root.add(i),this.addSkyscrapers(),this.addSky(),this.addGround(),this.addWhereAreYou(),n&&n()}var t,o,n;return t=e,(o=[{key:"editScene",value:function(){var e=this.scene.camera.aspect,t=new r.Color;t.setIntHSL(244,30,8),this.scene.renderer.setClearColor(t),this.scene.camera=new r.OrthographicCamera(7*e/-2,7*e/2,3.5,-3.5,.1,150),this.scene.camera.position.copy(new r.Vector3(10,10,10)),this.scene.camera.lookAt(new r.Vector3(0,0,0))}},{key:"addSkyscrapers",value:function(){var e=new r.MeshStandardMaterial({color:4276048,metalness:.3,roughness:.2}),t=new r.MeshBasicMaterial({color:2301751}),o=new r.MeshBasicMaterial({color:13421789});this.cubes=[];this.cubesParent=new r.Group;for(var n=-5;n<5;n++)for(var i=-5;i<5;i++){for(var a=new d.a({size:1,material:e,position:new r.Vector3(1.5*n+(Math.random()-.5),0,1.5*i)}),s=0;s<80;s++){var c=Math.random()>.5?.5:-.5;if(!(c<0)){var u=.8*Math.random()-.4,h=Math.random()*(Math.random()>.5?.4:-.4);u=.1*Math.round(10*u),h=.2*Math.round(5*h);var l=new d.a({size:.05,material:Math.random()>.1?t:o,position:new r.Vector3(h,u,c)});a.root.add(l.root)}}a.root.scale.copy(new r.Vector3(1,2,1)),this.cubesParent.add(a.root),this.cubes.push(a)}this.root.add(this.cubesParent)}},{key:"addSky",value:function(){var e=new r.MeshStandardMaterial({color:328489,metalness:.1,roughness:.9,side:r.BackSide}),t=new r.MeshBasicMaterial({color:13421789,side:r.BackSide,wireframe:!0}),o=new y({size:5,position:new r.Vector3(-.5,1,0),material:e,heightSegments:72,widthSegments:128});o.root.scale.copy(new r.Vector3(10,9.25,10)),this.root.add(o.root);for(var n=0;n<120;n++){var i=Math.random()*Math.PI*2,a=Math.random()*Math.PI*.6,s=new y({size:.018,material:t,position:new r.Vector3(20*Math.sin(i),8*Math.cos(a),-10)});this.root.add(s.root)}}},{key:"addGround",value:function(){var e=new r.MeshStandardMaterial({color:1250067,metalness:.7,roughness:.9,flatShading:!0}),t=new y({size:3,position:new r.Vector3(0,-1,0),material:e});t.root.scale.copy(new r.Vector3(5,.5,4)),this.root.add(t.root)}},{key:"addWhereAreYou",value:function(){this.whereAreYou=document.createElement("h1"),this.whereAreYou.innerHTML="where are you",this.whereAreYou.style.margin="auto",this.whereAreYou.style.marginTop="30vh",this.whereAreYou.style.verticalAlign="middle",this.whereAreYou.style.fontFamily="'VT323', monospace",this.whereAreYou.style.color="antiquewhite",this.whereAreYou.style.fontWeight="lighter",this.whereAreYou.style.cursor="default",this.whereAreYou.style.letterSpacing="0.2em",document.body.appendChild(this.whereAreYou)}},{key:"update",value:function(e){var t=.2*e;this.updateSkyscrapers(t),this.updateCamera(e)}},{key:"updateSkyscrapers",value:function(e){for(var t=0;t<this.cubesParent.children.length;t++){var o=this.cubesParent.children[t],r=o.position;r.y=Math.sin(t*Math.PI*.25+e),o.position.copy(r)}}},{key:"updateCamera",value:function(e){this.scene.camera.position.copy(new r.Vector3(10*Math.cos(.12*e)+2,Math.cos(.2*e)+1,30)),this.scene.camera.lookAt(new r.Vector3(0,2.5,6)),this.scene.camera.updateProjectionMatrix()}},{key:"onRemove",value:function(){document.body.removeChild(this.whereAreYou)}}])&&w(t.prototype,o),n&&w(t,n),e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2luZGV4LmNzcz82MTY1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZmFjZS12dDMyMy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3VybC1lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9XaGl0ZUhlbWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL09iamVjdHMvQmFzaWNTcGhlcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL1NreXNjcmFwZXJzTG9vcC5qcyJdLCJuYW1lcyI6WyJCYXNpY0N1YmUiLCJfcmVmIiwiX3JlZiRzaXplIiwic2l6ZSIsIm1hdGVyaWFsIiwicG9zaXRpb24iLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2VlZCIsIk1hdGgiLCJyYW5kb20iLCJjb2xvciIsIlRIUkVFIiwic2V0UkdCIiwiZ2VvbWV0cnkiLCJtZXNoIiwiY29weSIsInJvb3QiLCJjb250ZW50IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImkiLCJvcHRpb25zIiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsInVuZGVmaW5lZCIsImxvY2FscyIsImV4cG9ydHMiLCJ1cmxFc2NhcGUiLCJfX19DU1NfTE9BREVSX1VSTF9fXzBfX18iLCJfX19DU1NfTE9BREVSX1VSTF9fXzFfX18iLCJwdXNoIiwidXJsIiwibmVlZFF1b3RlcyIsInRlc3QiLCJzbGljZSIsInJlcGxhY2UiLCJwIiwiV2hpdGVIZW1pIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsImNhbGwiLCJoZW1pTGlnaHQiLCJzZXRIU0wiLCJOb3JtYWxpemVIdWUiLCJncm91bmRDb2xvciIsInNldCIsImFkZCIsIlR3b0RpcmVjdGlvbmFscyIsIlR3b0RpcmVjdGlvbmFsc19jbGFzc0NhbGxDaGVjayIsIlR3b0RpcmVjdGlvbmFsc19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiVHdvRGlyZWN0aW9uYWxzX2dldFByb3RvdHlwZU9mIiwid2hpdGVFbWkiLCJkaXJlY3Rpb25hbExpZ2h0IiwiZGlyZWN0aW9uYWxMaWdodDIiLCJCYXNpY1NwaGVyZSIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsIkJhc2ljU3BoZXJlX2NsYXNzQ2FsbENoZWNrIiwiU3BoZXJlIiwibGVuZ3RoIiwiY2xlYXJHcm91cHMiLCJhZGRHcm91cCIsIkluZmluaXR5IiwicmVxdWlyZSIsIlNreXNjcmFwZXJzTG9vcCIsInNjZW5lIiwib25Mb2FkIiwiU2t5c2NyYXBlcnNMb29wX2NsYXNzQ2FsbENoZWNrIiwiZWRpdFNjZW5lIiwibGlnaHRzIiwiTGlnaHRzIiwiYWRkU2t5c2NyYXBlcnMiLCJhZGRTa3kiLCJhZGRHcm91bmQiLCJhZGRXaGVyZUFyZVlvdSIsImFzcGVjdCIsImNhbWVyYSIsImNsZWFyQ29sb3IiLCJzZXRJbnRIU0wiLCJyZW5kZXJlciIsInNldENsZWFyQ29sb3IiLCJmcnVzdHVtU2l6ZSIsImxvb2tBdCIsInNreVNjcmFwZXJNYXQiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJ3aW5kb3dPZmZNYXQiLCJ3aW5kb3dPbk1hdCIsImN1YmVzIiwiY3ViZXNQYXJlbnQiLCJ4IiwieiIsIm5ld0N1YmUiLCJqIiwieE9mZnNldCIsInlPZmZzZXQiLCJ6T2Zmc2V0Iiwicm91bmQiLCJuZXdXaW5kb3ciLCJzY2FsZSIsInNreU1hdCIsInNpZGUiLCJzdGFyc01hdCIsIndpcmVmcmFtZSIsInNreSIsInBoeSIsIlBJIiwidGhldGEiLCJuZXdTdGFyIiwic2luIiwiY29zIiwiZ3JvdW5kTWF0IiwiZmxhdFNoYWRpbmciLCJncm91bmQiLCJ3aGVyZUFyZVlvdSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInN0eWxlIiwibWFyZ2luIiwibWFyZ2luVG9wIiwidmVydGljYWxBbGlnbiIsImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwiY3Vyc29yIiwibGV0dGVyU3BhY2luZyIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInRpbWVFbGFwc2VkIiwiYW5pbWF0aW9uVGltZSIsInVwZGF0ZVNreXNjcmFwZXJzIiwidXBkYXRlQ2FtZXJhIiwiY2hpbGRyZW4iLCJjaGlsZCIsIm5ld1BvcyIsInkiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwicmVtb3ZlQ2hpbGQiXSwibWFwcGluZ3MiOiJ5SUFFcUJBLEVBQ25CLFNBQUFBLEVBQUFDLEdBQTRDLElBQUFDLEVBQUFELEVBQS9CRSxZQUErQixJQUFBRCxFQUF4QixFQUF3QkEsRUFBckJFLEVBQXFCSCxFQUFyQkcsU0FBVUMsRUFBV0osRUFBWEksc0dBQVdDLENBQUFDLEtBQUFQLEdBQzFDTyxLQUFLQyxLQUFPQyxLQUFLQyxTQUNqQixJQUFNQyxFQUFXLEVBQVhBLEVBQWdCLEVBQWhCQSxFQUFxQixFQUMzQkosS0FBS0ksTUFBUSxJQUFJQyxRQUNqQkwsS0FBS0ksTUFBTUUsT0FBT0YsRUFBU0EsRUFBU0EsR0FFcENKLEtBQUtILFNBQVdBLEdBQVksSUFBSVEsb0JBQXdCLENBQ3RERCxNQUFPSixLQUFLSSxRQUdkSixLQUFLTyxTQUFXLElBQUlGLGNBQWtCVCxFQUFNQSxFQUFNQSxHQUVsREksS0FBS1EsS0FBTyxJQUFJSCxPQUNkTCxLQUFLTyxTQUNMUCxLQUFLSCxVQUdIQyxHQUNGRSxLQUFLUSxLQUFLVixTQUFTVyxLQUFLWCxHQUcxQkUsS0FBS1UsS0FBT1YsS0FBS1EsMEJDdkJyQixJQUFBRyxFQUFjQyxFQUFRLElBRXRCLGlCQUFBRCxNQUFBLEVBQTRDRSxFQUFBQyxFQUFTSCxFQUFBLE1BT3JELElBQUFJLEVBQUEsQ0FBZUMsS0FBQSxFQUVmQyxlQVBBQSxFQVFBQyxnQkFBQUMsR0FFYVAsRUFBUSxFQUFSQSxDQUEyQ0QsRUFBQUksR0FFeERKLEVBQUFTLFNBQUFQLEVBQUFRLFFBQUFWLEVBQUFTLDRCQ2pCQUMsRUFBQVIsRUFBQVEsUUFBMkJULEVBQVEsRUFBUkEsRUFBMkMsR0FFdEUsSUFBQVUsRUFBZ0JWLEVBQVEsSUFDeEJXLEVBQUFELEVBQXlDVixFQUFRLEtBQ2pEWSxFQUFBRixFQUF5Q1YsRUFBUSxLQUdqRFMsRUFBQUksS0FBQSxDQUFjWixFQUFBQyxFQUFTLHVOQUEwSVMsRUFBQSxnQ0FBQUMsRUFBQSxpREFBb04sc0NDTHJYWCxFQUFBUSxRQUFBLFNBQUFLLEVBQUFDLEdBQ0EsdUJBQUFELEVBQ0FBLEdBSUEsZUFBQUUsS0FBQUYsS0FDQUEsSUFBQUcsTUFBQSxPQUtBLGNBQUFELEtBQUFGLElBQUFDLEVBQ0EsSUFBQUQsRUFBQUksUUFBQSxZQUFBQSxRQUFBLGlCQUdBSix3QkNsQkFiLEVBQUFRLFFBQWlCVCxFQUFBbUIsRUFBdUIsa0RDQXhDbEIsRUFBQVEsUUFBaUJULEVBQUFtQixFQUF1QixxdEJDRW5CQyxjQUNuQixTQUFBQSxJQUFjLElBQUFDLCtGQUFBbEMsQ0FBQUMsS0FBQWdDLEdBQ1pDLEVBQUFDLEVBQUFsQyxLQUFBbUMsRUFBQUgsR0FBQUksS0FBQXBDLE9BRUEsSUFBTXFDLEVBQVksSUFBSWhDLGtCQUF1QixTQUFVLFNBQVUsR0FIckQsT0FJZGdDLEVBQVVqQyxNQUFNa0MsT0FDZnBDLEtBQUtxQyxhQUFhLEtBQ2xCLEdBQ0EsS0FFREYsRUFBVUcsWUFBWUYsT0FDckJwQyxLQUFLcUMsYUFBYSxLQUNsQixHQUNBLEtBRURGLEVBQVV2QyxTQUFTMkMsSUFBSyxFQUFHLEVBQUcsR0FDOUJSLEVBQUtTLElBQUtMLEdBZklKLDhPQUR1QjVCLHNwQkNDbEJzQyxjQUNqQixTQUFBQSxJQUFjLElBQUFWLCtGQUFBVyxDQUFBNUMsS0FBQTJDLEdBQ1ZWLEVBQUFZLEVBQUE3QyxLQUFBOEMsRUFBQUgsR0FBQVAsS0FBQXBDLE9BQ0EsSUFBTStDLEVBQVcsSUFBSWYsRUFDckJDLEVBQUtTLElBQUlLLEdBRVQsSUFBTUMsRUFBbUIsSUFBSTNDLG1CQUF1QixRQUFTLEtBQ3ZENEMsRUFBb0IsSUFBSTVDLG1CQUF1QixRQUFTLEtBTnBELE9BUVYyQyxFQUFpQmxELFNBQVNXLEtBQ3RCLElBQUlKLFVBQ0EsRUFDQSxJQUNBLElBSVI0QyxFQUFrQm5ELFNBQVNXLEtBQ3ZCLElBQUlKLFdBQ0MsR0FDRCxFQUNBLElBSVI0QixFQUFLUyxJQUFJTSxFQUFrQkMsR0F4QmpCaEIsOE9BRDJCNUIsNkJDRHhCNkMsRUFDbkIsU0FBQUEsRUFBQXhELEdBQTJFLElBQUFDLEVBQUFELEVBQTlERSxZQUE4RCxJQUFBRCxFQUF2RCxFQUF1REEsRUFBcERFLEVBQW9ESCxFQUFwREcsU0FBVUMsRUFBMENKLEVBQTFDSSxTQUFVcUQsRUFBZ0N6RCxFQUFoQ3lELGNBQWVDLEVBQWlCMUQsRUFBakIwRCw0R0FBaUJDLENBQUFyRCxLQUFBa0QsR0FDekVsRCxLQUFLQyxLQUFPQyxLQUFLQyxTQUNqQixJQUFNQyxFQUFXLEVBQVhBLEVBQWdCLEVBQWhCQSxFQUFxQixFQUMzQkosS0FBS0ksTUFBUSxJQUFJQyxRQUNqQkwsS0FBS0ksTUFBTUUsT0FBT0YsRUFBU0EsRUFBU0EsR0FFcENKLEtBQUtILFNBQVdBLEdBQVksSUFBSVEsb0JBQXdCLENBQ3RERCxNQUFPSixLQUFLSSxRQUdkLElBQU1rRCxFQUFTekQsRUFBUzBELE9BQVMsRUFBSWxELHVCQUE2QkEsaUJBT2xFLEdBTEFMLEtBQUtPLFNBQVcsSUFBSStDLEVBQ2xCMUQsRUFDQXVELEdBQWlCLEVBQ2pCQyxHQUFrQixHQUVoQnZELEVBQVMwRCxPQUFRLENBQ25CdkQsS0FBS08sU0FBU2lELGNBQ2QsSUFBSyxJQUFJMUMsRUFBSSxFQUFHQSxFQUFJakIsRUFBUzBELE9BQVF6QyxJQUNuQ2QsS0FBS08sU0FBU2tELFNBQVUsRUFBR0MsSUFBVTVDLEdBSXpDZCxLQUFLUSxLQUFPLElBQUlILE9BQ2RMLEtBQUtPLFNBQ0xQLEtBQUtILFVBR0hDLEdBQ0ZFLEtBQUtRLEtBQUtWLFNBQVNXLEtBQUtYLEdBRzFCRSxLQUFLVSxLQUFPVixLQUFLUSxrTkNoQ3JCbUQsRUFBUSxRQUVhQyxhQUNqQixTQUFBQSxFQUFBbEUsR0FBNkIsSUFBaEJtRSxFQUFnQm5FLEVBQWhCbUUsTUFBT0MsRUFBU3BFLEVBQVRvRSxvR0FBU0MsQ0FBQS9ELEtBQUE0RCxHQUN6QjVELEtBQUs2RCxNQUFRQSxFQUViN0QsS0FBS2dFLFlBRUxoRSxLQUFLVSxLQUFPLElBQUlMLFFBRWhCLElBQU00RCxFQUFTLElBQUlDLEVBQ25CbEUsS0FBS1UsS0FBS2dDLElBQUl1QixHQUVkakUsS0FBS21FLGlCQUVMbkUsS0FBS29FLFNBRUxwRSxLQUFLcUUsWUFFTHJFLEtBQUtzRSxpQkFFRFIsR0FBUUEsK0RBSVosSUFDTVMsRUFBU3ZFLEtBQUs2RCxNQUFNVyxPQUFPRCxPQUMzQkUsRUFBYSxJQUFJcEUsUUFDdkJvRSxFQUFXQyxVQUFVLElBQUssR0FBSSxHQUM5QjFFLEtBQUs2RCxNQUFNYyxTQUFTQyxjQUFjSCxHQUNsQ3pFLEtBQUs2RCxNQUFNVyxPQUFTLElBQUluRSxxQkFMSixFQUsyQ2tFLEdBQVUsRUFMckQsRUFLc0VBLEVBQVMsRUFBR00sS0FBaUJBLElBQWtCLEdBQUssS0FDOUk3RSxLQUFLNkQsTUFBTVcsT0FBTzFFLFNBQVNXLEtBQUssSUFBSUosVUFBYyxHQUFJLEdBQUksS0FDMURMLEtBQUs2RCxNQUFNVyxPQUFPTSxPQUFPLElBQUl6RSxVQUFjLEVBQUcsRUFBRyw2Q0FJakQsSUFBTTBFLEVBQWdCLElBQUkxRSx1QkFBMkIsQ0FDakRELE1BQU8sUUFDUDRFLFVBQVcsR0FDWEMsVUFBVyxLQUdUQyxFQUFlLElBQUk3RSxvQkFBd0IsQ0FDN0NELE1BQU8sVUFHTCtFLEVBQWMsSUFBSTlFLG9CQUF3QixDQUM1Q0QsTUFBTyxXQUdYSixLQUFLb0YsTUFBUSxHQUlicEYsS0FBS3FGLFlBQWMsSUFBSWhGLFFBQ3ZCLElBQUssSUFBSWlGLEdBSFMsRUFHT0EsRUFIUCxFQUdzQkEsSUFDcEMsSUFBSyxJQUFJQyxHQUpLLEVBSVdBLEVBSlgsRUFJMEJBLElBQUssQ0FNekMsSUFMQSxJQUFNQyxFQUFVLElBQUkvRixJQUFVLENBQ3RCRyxLQUFNLEVBQ05DLFNBQVVrRixFQUNWakYsU0FBVSxJQUFJTyxVQUFnQixJQUFGaUYsR0FBU3BGLEtBQUtDLFNBQVMsSUFBTSxFQUFLLElBQUZvRixLQUUzREUsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQUssQ0FDekIsSUFBTUMsRUFBVXhGLEtBQUtDLFNBQVcsR0FBTSxJQUFPLEdBQzdDLEtBQUl1RixFQUFVLEdBQWQsQ0FDQSxJQUFJQyxFQUE2QixHQUFqQnpGLEtBQUtDLFNBQW1CLEdBQ3BDeUYsRUFBVTFGLEtBQUtDLFVBQVlELEtBQUtDLFNBQVcsR0FBTSxJQUFPLElBQzVEd0YsRUFBcUMsR0FBM0J6RixLQUFLMkYsTUFBZ0IsR0FBVkYsR0FDckJDLEVBQW9DLEdBQTFCMUYsS0FBSzJGLE1BQWdCLEVBQVZELEdBQ3JCLElBQU1FLEVBQVksSUFBSXJHLElBQVUsQ0FDNUJHLEtBQU0sSUFDTkMsU0FBVUssS0FBS0MsU0FBVyxHQUFNK0UsRUFBZUMsRUFDL0NyRixTQUFVLElBQUlPLFVBQWN1RixFQUFTRCxFQUFTRCxLQUVsREYsRUFBUTlFLEtBQUtnQyxJQUFJb0QsRUFBVXBGLE9BRS9COEUsRUFBUTlFLEtBQUtxRixNQUFNdEYsS0FBSyxJQUFJSixVQUFjLEVBQUUsRUFBRSxJQUM5Q0wsS0FBS3FGLFlBQVkzQyxJQUFJOEMsRUFBUTlFLE1BQzdCVixLQUFLb0YsTUFBTTNELEtBQUsrRCxHQUl4QnhGLEtBQUtVLEtBQUtnQyxJQUFJMUMsS0FBS3FGLDhDQUluQixJQUFNVyxFQUFTLElBQUkzRix1QkFBMkIsQ0FDMUNELE1BQU8sT0FDUDRFLFVBQVcsR0FDWEMsVUFBVyxHQUNYZ0IsS0FBTTVGLGFBRUo2RixFQUFXLElBQUk3RixvQkFBd0IsQ0FDekNELE1BQU8sU0FDUDZGLEtBQU01RixXQUNOOEYsV0FBVyxJQUVUQyxFQUFNLElBQUlsRCxFQUFZLENBQ3hCdEQsS0FBTSxFQUNORSxTQUFVLElBQUlPLFdBQWUsR0FBSyxFQUFHLEdBQ3JDUixTQUFVbUcsRUFDVjVDLGVBQWdCLEdBQ2hCRCxjQUFlLE1BRW5CaUQsRUFBSTFGLEtBQUtxRixNQUFNdEYsS0FBSyxJQUFJSixVQUFjLEdBQUksS0FBTSxLQUNoREwsS0FBS1UsS0FBS2dDLElBQUkwRCxFQUFJMUYsTUFDbEIsSUFBSyxJQUFJSSxFQUFJLEVBQUdBLEVBQUksSUFBS0EsSUFBSyxDQUMxQixJQUFNdUYsRUFBTW5HLEtBQUtDLFNBQVdELEtBQUtvRyxHQUFLLEVBQ2hDQyxFQUFRckcsS0FBS0MsU0FBV0QsS0FBS29HLEdBQUssR0FDbENFLEVBQVUsSUFBSXRELEVBQVksQ0FDNUJ0RCxLQUFNLEtBQ05DLFNBQVVxRyxFQUNWcEcsU0FBVSxJQUFJTyxVQUE4QixHQUFoQkgsS0FBS3VHLElBQUlKLEdBQTZCLEVBQWxCbkcsS0FBS3dHLElBQUlILElBQWEsTUFFMUV2RyxLQUFLVSxLQUFLZ0MsSUFBSThELEVBQVE5RiwyQ0FLMUIsSUFBTWlHLEVBQVksSUFBSXRHLHVCQUEyQixDQUM3Q0QsTUFBTyxRQUNQNEUsVUFBVyxHQUNYQyxVQUFXLEdBQ1gyQixhQUFhLElBRVhDLEVBQVMsSUFBSTNELEVBQVksQ0FDM0J0RCxLQUFNLEVBQ05FLFNBQVUsSUFBSU8sVUFBYyxHQUFJLEVBQUcsR0FDbkNSLFNBQVU4RyxJQUVkRSxFQUFPbkcsS0FBS3FGLE1BQU10RixLQUFLLElBQUlKLFVBQWMsRUFBRyxHQUFLLElBQ2pETCxLQUFLVSxLQUFLZ0MsSUFBSW1FLEVBQU9uRywrQ0FJckJWLEtBQUs4RyxZQUFjQyxTQUFTQyxjQUFjLE1BQzFDaEgsS0FBSzhHLFlBQVlHLFVBQVksZ0JBQzdCakgsS0FBSzhHLFlBQVlJLE1BQU1DLE9BQVMsT0FDaENuSCxLQUFLOEcsWUFBWUksTUFBTUUsVUFBWSxPQUNuQ3BILEtBQUs4RyxZQUFZSSxNQUFNRyxjQUFnQixTQUN2Q3JILEtBQUs4RyxZQUFZSSxNQUFNSSxXQUFhLHFCQUNwQ3RILEtBQUs4RyxZQUFZSSxNQUFNOUcsTUFBUSxlQUMvQkosS0FBSzhHLFlBQVlJLE1BQU1LLFdBQWEsVUFDcEN2SCxLQUFLOEcsWUFBWUksTUFBTU0sT0FBUyxVQUNoQ3hILEtBQUs4RyxZQUFZSSxNQUFNTyxjQUFnQixRQUN2Q1YsU0FBU1csS0FBS0MsWUFBWTNILEtBQUs4Ryw0Q0FJNUJjLEdBQ0gsSUFBTUMsRUFBOEIsR0FBZEQsRUFFdEI1SCxLQUFLOEgsa0JBQWtCRCxHQUV2QjdILEtBQUsrSCxhQUFhSCw2Q0FHSkMsR0FDZCxJQUFLLElBQUkvRyxFQUFJLEVBQUdBLEVBQUlkLEtBQUtxRixZQUFZMkMsU0FBU3pFLE9BQVF6QyxJQUFLLENBQ3ZELElBQU1tSCxFQUFRakksS0FBS3FGLFlBQVkyQyxTQUFTbEgsR0FDbENvSCxFQUFTRCxFQUFNbkksU0FDckJvSSxFQUFPQyxFQUFJakksS0FBS3VHLElBQUszRixFQUFJWixLQUFLb0csR0FBSyxJQUFRdUIsR0FDM0NJLEVBQU1uSSxTQUFTVyxLQUFLeUgseUNBSWZOLEdBQ1Q1SCxLQUFLNkQsTUFBTVcsT0FBTzFFLFNBQVNXLEtBQ3ZCLElBQUlKLFVBQzhCLEdBQTlCSCxLQUFLd0csSUFBa0IsSUFBZGtCLEdBQTBCLEVBQ25DMUgsS0FBS3dHLElBQWtCLEdBQWRrQixHQUFvQixFQUM3QixLQUVSNUgsS0FBSzZELE1BQU1XLE9BQU9NLE9BQU8sSUFBSXpFLFVBQWMsRUFBRyxJQUFLLElBQ25ETCxLQUFLNkQsTUFBTVcsT0FBTzRELDREQUlsQnJCLFNBQVNXLEtBQUtXLFlBQVlySSxLQUFLOEciLCJmaWxlIjoiLi9qcy9Ta3lzY3JhcGVyc0xvb3AuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY0N1YmUge1xuICBjb25zdHJ1Y3Rvcih7c2l6ZSA9IDUsIG1hdGVyaWFsLCBwb3NpdGlvbn0pIHtcbiAgICB0aGlzLnNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xuICAgIHRoaXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICB0aGlzLmNvbG9yLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IHRoaXMuY29sb3JcbiAgICB9KTtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoc2l6ZSwgc2l6ZSwgc2l6ZSk7XG5cbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgIHRoaXMuZ2VvbWV0cnksXG4gICAgICB0aGlzLm1hdGVyaWFsXG4gICAgKTtcblxuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcbiAgfVxufVxuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIEltcG9ydHNcbnZhciB1cmxFc2NhcGUgPSByZXF1aXJlKFwiLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvdXJsLWVzY2FwZS5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzBfX18gPSB1cmxFc2NhcGUocmVxdWlyZShcIi4vZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYyXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzFfX18gPSB1cmxFc2NhcGUocmVxdWlyZShcIi4vZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmZcIikpO1xuXG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIHZ0MzIzLTQwMG5vcm1hbCAtIGxhdGluICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ1ZUMzIzJztcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBzcmM6XFxuICAgIGxvY2FsKCdWVDMyMyBSZWd1bGFyICcpLFxcbiAgICBsb2NhbCgnVlQzMjMtUmVndWxhcicpLFxcbiAgICB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzBfX18gKyBcIikgZm9ybWF0KCd3b2ZmMicpLCBcXG4gICAgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xX19fICsgXCIpIGZvcm1hdCgnd29mZicpOyAvKiBNb2Rlcm4gQnJvd3NlcnMgKi9cXG59XFxuXFxuXCIsIFwiXCJdKTtcblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXNjYXBlKHVybCwgbmVlZFF1b3Rlcykge1xuICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfSAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG5cblxuICBpZiAoL1tcIicoKSBcXHRcXG5dLy50ZXN0KHVybCkgfHwgbmVlZFF1b3Rlcykge1xuICAgIHJldHVybiAnXCInICsgdXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJykgKyAnXCInO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZm9udHMvdnQzMjMtbGF0aW4tNDAwLndvZmYyXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZm9udHMvdnQzMjMtbGF0aW4tNDAwLndvZmZcIjsiLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoaXRlSGVtaSBleHRlbmRzIFRIUkVFLkdyb3VwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmZmLCAweGZmZmZmZiwgMy4wICk7XG5cdFx0aGVtaUxpZ2h0LmNvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLFxuXHRcdFx0MC45NFxuXHRcdCk7XG5cdFx0aGVtaUxpZ2h0Lmdyb3VuZENvbG9yLnNldEhTTChcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxuXHRcdFx0MC4xLCBcblx0XHRcdDAuNjRcblx0XHQpO1xuXHRcdGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDIsIDAgKTtcblx0XHR0aGlzLmFkZCggaGVtaUxpZ2h0ICk7XG5cdH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCBXaGl0ZUhlbWkgZnJvbSAnLi9XaGl0ZUhlbWkuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUd29EaXJlY3Rpb25hbHMgZXh0ZW5kcyBUSFJFRS5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IHdoaXRlRW1pID0gbmV3IFdoaXRlSGVtaSgpO1xuICAgICAgICB0aGlzLmFkZCh3aGl0ZUVtaSk7XG5cbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCd3aGl0ZScsIDAuNjUpO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0MiA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCd3aGl0ZScsIDAuNTUpO1xuXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24uY29weShcbiAgICAgICAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKFxuICAgICAgICAgICAgICAgIDksXG4gICAgICAgICAgICAgICAgMy41LFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0Mi5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoXG4gICAgICAgICAgICAgICAgLTEwLFxuICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuYWRkKGRpcmVjdGlvbmFsTGlnaHQsIGRpcmVjdGlvbmFsTGlnaHQyKTtcbiAgICB9XG59IiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY1NwaGVyZSB7XG4gIGNvbnN0cnVjdG9yKHtzaXplID0gNSwgbWF0ZXJpYWwsIHBvc2l0aW9uLCB3aWR0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50c30pIHtcbiAgICB0aGlzLnNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xuICAgIHRoaXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICB0aGlzLmNvbG9yLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IHRoaXMuY29sb3JcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBTcGhlcmUgPSBtYXRlcmlhbC5sZW5ndGggPiAxID8gVEhSRUUuU3BoZXJlQnVmZmVyR2VvbWV0cnkgOiBUSFJFRS5TcGhlcmVHZW9tZXRyeTtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgU3BoZXJlKFxuICAgICAgc2l6ZSwgXG4gICAgICB3aWR0aFNlZ21lbnRzIHx8IDcsIFxuICAgICAgaGVpZ2h0U2VnbWVudHMgfHwgOSk7XG4gICAgXG4gICAgaWYgKG1hdGVyaWFsLmxlbmd0aCkge1xuICAgICAgdGhpcy5nZW9tZXRyeS5jbGVhckdyb3VwcygpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRlcmlhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmFkZEdyb3VwKCAwLCBJbmZpbml0eSwgaSApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgdGhpcy5nZW9tZXRyeSxcbiAgICAgIHRoaXMubWF0ZXJpYWxcbiAgICApO1xuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICB0aGlzLm1lc2gucG9zaXRpb24uY29weShwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5yb290ID0gdGhpcy5tZXNoO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgTGlnaHRzIGZyb20gJy4uL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMnO1xuaW1wb3J0IEJhc2ljQ3ViZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljQ3ViZS5qcyc7XG5pbXBvcnQgQmFzaWNTcGhlcmUgZnJvbSAnLi4vT2JqZWN0cy9CYXNpY1NwaGVyZS5qcyc7XG5yZXF1aXJlKCd0eXBlZmFjZS12dDMyMycpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTa3lzY3JhcGVyc0xvb3Age1xuICAgIGNvbnN0cnVjdG9yKHtzY2VuZSwgb25Mb2FkfSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG5cbiAgICAgICAgdGhpcy5lZGl0U2NlbmUoKTtcblxuICAgICAgICB0aGlzLnJvb3QgPSBuZXcgVEhSRUUuR3JvdXAoKTtcblxuICAgICAgICBjb25zdCBsaWdodHMgPSBuZXcgTGlnaHRzKCk7XG4gICAgICAgIHRoaXMucm9vdC5hZGQobGlnaHRzKTtcblxuICAgICAgICB0aGlzLmFkZFNreXNjcmFwZXJzKCk7XG5cbiAgICAgICAgdGhpcy5hZGRTa3koKTtcblxuICAgICAgICB0aGlzLmFkZEdyb3VuZCgpO1xuXG4gICAgICAgIHRoaXMuYWRkV2hlcmVBcmVZb3UoKTtcblxuICAgICAgICBpZiAob25Mb2FkKSBvbkxvYWQoKTtcbiAgICB9XG5cbiAgICBlZGl0U2NlbmUoKSB7XG4gICAgICAgIGNvbnN0IGZydXN0dW1TaXplID0gNztcbiAgICAgICAgY29uc3QgYXNwZWN0ID0gdGhpcy5zY2VuZS5jYW1lcmEuYXNwZWN0O1xuICAgICAgICBjb25zdCBjbGVhckNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCk7XG4gICAgICAgIGNsZWFyQ29sb3Iuc2V0SW50SFNMKDI0NCwgMzAsIDgpO1xuICAgICAgICB0aGlzLnNjZW5lLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoY2xlYXJDb2xvcik7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYShmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIC0yLCBmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIDIsIGZydXN0dW1TaXplIC8gMiwgZnJ1c3R1bVNpemUgLyAtMiwgMC4xLCAxNTApO1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKDEwLCAxMCwgMTApKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApKTtcbiAgICB9XG5cbiAgICBhZGRTa3lzY3JhcGVycygpIHtcbiAgICAgICAgY29uc3Qgc2t5U2NyYXBlck1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHg0MTNmNTAsXG4gICAgICAgICAgICBtZXRhbG5lc3M6IDAuMyxcbiAgICAgICAgICAgIHJvdWdobmVzczogMC4yXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHdpbmRvd09mZk1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHgyMzFmMzdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgd2luZG93T25NYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4Y2NjY2RkIC8vMHhiN2E1MWZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jdWJlcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGhhbGZDb3VudCA9IDU7XG5cbiAgICAgICAgdGhpcy5jdWJlc1BhcmVudCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuICAgICAgICBmb3IgKGxldCB4ID0gLWhhbGZDb3VudDsgeCA8IGhhbGZDb3VudDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB6ID0gLWhhbGZDb3VudDsgeiA8IGhhbGZDb3VudDsgeisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q3ViZSA9IG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBza3lTY3JhcGVyTWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKHgqMS41ICsgKE1hdGgucmFuZG9tKCktMC41KSwgMCwgeioxLjUpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODA7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB4T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSA+IDAuNSA/IDAuNSA6IC0wLjU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4T2Zmc2V0IDwgMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCB5T2Zmc2V0ID0gKChNYXRoLnJhbmRvbSgpKSAqIDAuOCkgLSAwLjQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCB6T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSAqIChNYXRoLnJhbmRvbSgpID4gMC41ID8gMC40IDogLTAuNCk7XG4gICAgICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBNYXRoLnJvdW5kKHlPZmZzZXQgKiAxMCkgKiAwLjE7XG4gICAgICAgICAgICAgICAgICAgIHpPZmZzZXQgPSBNYXRoLnJvdW5kKHpPZmZzZXQgKiA1KSAqIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3V2luZG93ID0gbmV3IEJhc2ljQ3ViZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAwLjA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IE1hdGgucmFuZG9tKCkgPiAwLjEgPyB3aW5kb3dPZmZNYXQgOiB3aW5kb3dPbk1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMyh6T2Zmc2V0LCB5T2Zmc2V0LCB4T2Zmc2V0KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBuZXdDdWJlLnJvb3QuYWRkKG5ld1dpbmRvdy5yb290KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3Q3ViZS5yb290LnNjYWxlLmNvcHkobmV3IFRIUkVFLlZlY3RvcjMoMSwyLDEpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1YmVzUGFyZW50LmFkZChuZXdDdWJlLnJvb3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3ViZXMucHVzaChuZXdDdWJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5yb290LmFkZCh0aGlzLmN1YmVzUGFyZW50KTtcbiAgICB9XG5cbiAgICBhZGRTa3koKSB7XG4gICAgICAgIGNvbnN0IHNreU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogMHgwNTAzMjksXG4gICAgICAgICAgICBtZXRhbG5lc3M6IDAuMSxcbiAgICAgICAgICAgIHJvdWdobmVzczogMC45LFxuICAgICAgICAgICAgc2lkZTogVEhSRUUuQmFja1NpZGVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0YXJzTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweGNjY2NkZCxcbiAgICAgICAgICAgIHNpZGU6IFRIUkVFLkJhY2tTaWRlLFxuICAgICAgICAgICAgd2lyZWZyYW1lOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBza3kgPSBuZXcgQmFzaWNTcGhlcmUoe1xuICAgICAgICAgICAgc2l6ZTogNSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygtMC41LCAxLCAwKSxcbiAgICAgICAgICAgIG1hdGVyaWFsOiBza3lNYXQsXG4gICAgICAgICAgICBoZWlnaHRTZWdtZW50czogNzIsXG4gICAgICAgICAgICB3aWR0aFNlZ21lbnRzOiAxMjhcbiAgICAgICAgfSk7XG4gICAgICAgIHNreS5yb290LnNjYWxlLmNvcHkobmV3IFRIUkVFLlZlY3RvcjMoMTAsIDkuMjUsIDEwKSk7XG4gICAgICAgIHRoaXMucm9vdC5hZGQoc2t5LnJvb3QpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyMDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwaHkgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XG4gICAgICAgICAgICBjb25zdCB0aGV0YSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMC42O1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhciA9IG5ldyBCYXNpY1NwaGVyZSh7XG4gICAgICAgICAgICAgICAgc2l6ZTogMC4wMTgsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHN0YXJzTWF0LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMyhNYXRoLnNpbihwaHkpICogMjAsIE1hdGguY29zKHRoZXRhKSAqIDgsIC0xMClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yb290LmFkZChuZXdTdGFyLnJvb3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkR3JvdW5kKCkge1xuICAgICAgICBjb25zdCBncm91bmRNYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IDB4MTMxMzEzLFxuICAgICAgICAgICAgbWV0YWxuZXNzOiAwLjcsXG4gICAgICAgICAgICByb3VnaG5lc3M6IDAuOSxcbiAgICAgICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBncm91bmQgPSBuZXcgQmFzaWNTcGhlcmUoe1xuICAgICAgICAgICAgc2l6ZTogMyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAtMSwgMCksXG4gICAgICAgICAgICBtYXRlcmlhbDogZ3JvdW5kTWF0XG4gICAgICAgIH0pO1xuICAgICAgICBncm91bmQucm9vdC5zY2FsZS5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKDUsIDAuNSwgNCkpO1xuICAgICAgICB0aGlzLnJvb3QuYWRkKGdyb3VuZC5yb290KTtcbiAgICB9XG5cbiAgICBhZGRXaGVyZUFyZVlvdSgpIHtcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3UuaW5uZXJIVE1MID0gXCJ3aGVyZSBhcmUgeW91XCI7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLm1hcmdpblRvcCA9ICczMHZoJztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuZm9udEZhbWlseSA9IFwiJ1ZUMzIzJywgbW9ub3NwYWNlXCI7XG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuY29sb3IgPSAnYW50aXF1ZXdoaXRlJztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5mb250V2VpZ2h0ID0gJ2xpZ2h0ZXInO1xuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gJzAuMmVtJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLndoZXJlQXJlWW91KTtcbiAgICB9XG4gICAgXG5cbiAgICB1cGRhdGUodGltZUVsYXBzZWQpIHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IHRpbWVFbGFwc2VkICogMC4yO1xuICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZVNreXNjcmFwZXJzKGFuaW1hdGlvblRpbWUpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGVDYW1lcmEodGltZUVsYXBzZWQpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNreXNjcmFwZXJzKGFuaW1hdGlvblRpbWUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBjb25zdCBuZXdQb3MgPSBjaGlsZC5wb3NpdGlvbjtcbiAgICAgICAgICAgIG5ld1Bvcy55ID0gTWF0aC5zaW4oKGkgKiBNYXRoLlBJICogMC4yNSkgKyBhbmltYXRpb25UaW1lKTtcbiAgICAgICAgICAgIGNoaWxkLnBvc2l0aW9uLmNvcHkobmV3UG9zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUNhbWVyYSh0aW1lRWxhcHNlZCkge1xuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KFxuICAgICAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoXG4gICAgICAgICAgICAgICAgTWF0aC5jb3ModGltZUVsYXBzZWQgKiAuMTIpICogMTAgKyAyLFxuICAgICAgICAgICAgICAgIE1hdGguY29zKHRpbWVFbGFwc2VkICogLjIpICsgMSxcbiAgICAgICAgICAgICAgICAzMClcbiAgICAgICAgICAgICk7XG4gICAgICAgIHRoaXMuc2NlbmUuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAyLjUsIDYpKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMud2hlcmVBcmVZb3UpO1xuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=