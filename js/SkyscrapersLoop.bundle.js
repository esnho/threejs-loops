(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,function(e,t,o){"use strict";o.r(t);var n=o(11);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=i(this,a(t).call(this));var o=new n.g(16777215,16777215,3);return o.color.setHSL(Math.NormalizeHue(325),.1,.94),o.groundColor.setHSL(Math.NormalizeHue(325),.1,.64),o.position.set(0,2,0),e.add(o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["f"]),t}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=h(this,l(t).call(this));var o=new c;e.add(o);var r=new n.e("white",.65),i=new n.e("white",.55);return r.position.copy(new n.p(9,3.5,0)),i.position.copy(new n.p(-10,2,0)),e.add(r,i),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n["f"]),t}(),d=o(12);var y=function e(t){var o=t.size,r=void 0===o?5:o,i=t.material,a=t.position,s=t.widthSegments,c=t.heightSegments;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var u=1,h=1,l=1;this.color=new n.d,this.color.setRGB(u,h,l),this.material=i||new n.i({color:this.color});var f=i.length>1?n.n:n.o;if(this.geometry=new f(r,s||7,c||9),i.length){this.geometry.clearGroups();for(var p=0;p<i.length;p++)this.geometry.addGroup(0,1/0,p)}this.mesh=new n.h(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh};function w(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}o.d(t,"default",function(){return m}),o(14);var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.editScene(),this.root=new n.f;var o=new p;this.root.add(o),this.addSkyscrapers(),this.addSky(),this.addGround(),this.addWhereAreYou()}var t,o,r;return t=e,(o=[{key:"editScene",value:function(){var e=this.scene.camera.aspect,t=new n.d;t.setIntHSL(244,30,8),this.scene.renderer.setClearColor(t),this.scene.camera=new n.k(7*e/-2,7*e/2,3.5,-3.5,.1,150),this.scene.camera.position.copy(new n.p(10,10,10)),this.scene.camera.lookAt(new n.p(0,0,0))}},{key:"addSkyscrapers",value:function(){var e=new n.j({color:4276048,metalness:.3,roughness:.2}),t=new n.i({color:2301751}),o=new n.i({color:13421789});this.cubes=[];this.cubesParent=new n.f;for(var r=-5;r<5;r++)for(var i=-5;i<5;i++){for(var a=new d.a({size:1,material:e,position:new n.p(1.5*r+(Math.random()-.5),0,1.5*i)}),s=0;s<80;s++){var c=Math.random()>.5?.5:-.5;if(!(c<0)){var u=.8*Math.random()-.4,h=Math.random()*(Math.random()>.5?.4:-.4);u=.1*Math.round(10*u),h=.2*Math.round(5*h);var l=new d.a({size:.05,material:Math.random()>.1?t:o,position:new n.p(h,u,c)});a.root.add(l.root)}}a.root.scale.copy(new n.p(1,2,1)),this.cubesParent.add(a.root),this.cubes.push(a)}this.root.add(this.cubesParent)}},{key:"addSky",value:function(){var e=new n.j({color:328489,metalness:.1,roughness:.9,side:n.a}),t=new n.i({color:13421789,side:n.a,wireframe:!0}),o=new y({size:5,position:new n.p(-.5,1,0),material:e,heightSegments:72,widthSegments:128});o.root.scale.copy(new n.p(10,9.25,10)),this.root.add(o.root);for(var r=0;r<120;r++){var i=Math.random()*Math.PI*2,a=Math.random()*Math.PI*.6,s=new y({size:.018,material:t,position:new n.p(20*Math.sin(i),8*Math.cos(a),-10)});this.root.add(s.root)}}},{key:"addGround",value:function(){var e=new n.j({color:1250067,metalness:.7,roughness:.9,flatShading:!0}),t=new y({size:3,position:new n.p(0,-1,0),material:e});t.root.scale.copy(new n.p(5,.5,4)),this.root.add(t.root)}},{key:"addWhereAreYou",value:function(){this.whereAreYou=document.createElement("h1"),this.whereAreYou.innerHTML="where are you",this.whereAreYou.style.margin="auto",this.whereAreYou.style.marginTop="30vh",this.whereAreYou.style.verticalAlign="middle",this.whereAreYou.style.fontFamily="'VT323', monospace",this.whereAreYou.style.color="antiquewhite",this.whereAreYou.style.fontWeight="lighter",this.whereAreYou.style.cursor="default",document.body.appendChild(this.whereAreYou)}},{key:"update",value:function(e){var t=.2*e;this.updateSkyscrapers(t),this.updateCamera(e)}},{key:"updateSkyscrapers",value:function(e){for(var t=0;t<this.cubesParent.children.length;t++){var o=this.cubesParent.children[t],n=o.position;n.y=Math.sin(t*Math.PI*.25+e),o.position.copy(n)}}},{key:"updateCamera",value:function(e){this.scene.camera.position.copy(new n.p(10*Math.cos(.12*e)+2,Math.cos(.2*e)+1,30)),this.scene.camera.lookAt(new n.p(0,2.5,6)),this.scene.camera.updateProjectionMatrix()}},{key:"onRemove",value:function(){document.body.removeChild(this.whereAreYou)}}])&&w(t.prototype,o),r&&w(t,r),e}()},,,,,,,,,,function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o(11);var r=function e(t){var o=t.size,r=void 0===o?5:o,i=t.material,a=t.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.seed=Math.random();var s=1,c=1,u=1;this.color=new n.d,this.color.setRGB(s,c,u),this.material=i||new n.i({color:this.color}),this.geometry=new n.b(r,r,r),this.mesh=new n.h(this.geometry,this.material),a&&this.mesh.position.copy(a),this.root=this.mesh}},,function(e,t,o){var n=o(15);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(0)(void 0)).push([e.i,"/* vt323-400normal - latin */\n@font-face {\n  font-family: 'VT323';\n  font-style: normal;\n  font-display: swap;\n  font-weight: 400;\n  src:\n    local('VT323 Regular '),\n    local('VT323-Regular'),\n    url("+o(16)+") format('woff2'), \n    url("+o(17)+") format('woff'); /* Modern Browsers */\n}\n\n",""])},function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff2"},function(e,t,o){e.exports=o.p+"fonts/vt323-latin-400.woff"}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1doaXRlSGVtaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTGlnaHRzL1R3b0RpcmVjdGlvbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY1NwaGVyZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTG9vcHMvU2t5c2NyYXBlcnNMb29wLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9PYmplY3RzL0Jhc2ljQ3ViZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvaW5kZXguY3NzPzgwODMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXZ0MzIzL2luZGV4LmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWZhY2UtdnQzMjMvZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZmFjZS12dDMyMy9maWxlcy92dDMyMy1sYXRpbi00MDAud29mZiJdLCJuYW1lcyI6WyJXaGl0ZUhlbWkiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsImNhbGwiLCJoZW1pTGlnaHQiLCJUSFJFRSIsImNvbG9yIiwic2V0SFNMIiwiTWF0aCIsIk5vcm1hbGl6ZUh1ZSIsImdyb3VuZENvbG9yIiwicG9zaXRpb24iLCJzZXQiLCJhZGQiLCJUd29EaXJlY3Rpb25hbHMiLCJUd29EaXJlY3Rpb25hbHNfY2xhc3NDYWxsQ2hlY2siLCJUd29EaXJlY3Rpb25hbHNfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlR3b0RpcmVjdGlvbmFsc19nZXRQcm90b3R5cGVPZiIsIndoaXRlRW1pIiwiZGlyZWN0aW9uYWxMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQyIiwiY29weSIsIkJhc2ljU3BoZXJlIiwiX3JlZiIsIl9yZWYkc2l6ZSIsInNpemUiLCJtYXRlcmlhbCIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsIkJhc2ljU3BoZXJlX2NsYXNzQ2FsbENoZWNrIiwic2VlZCIsInJhbmRvbSIsInNldFJHQiIsIlNwaGVyZSIsImxlbmd0aCIsImdlb21ldHJ5IiwiY2xlYXJHcm91cHMiLCJpIiwiYWRkR3JvdXAiLCJJbmZpbml0eSIsIm1lc2giLCJyb290IiwicmVxdWlyZSIsIlNreXNjcmFwZXJzTG9vcCIsImJhc2ljU2NlbmUiLCJTa3lzY3JhcGVyc0xvb3BfY2xhc3NDYWxsQ2hlY2siLCJzY2VuZSIsImVkaXRTY2VuZSIsImxpZ2h0cyIsIkxpZ2h0cyIsImFkZFNreXNjcmFwZXJzIiwiYWRkU2t5IiwiYWRkR3JvdW5kIiwiYWRkV2hlcmVBcmVZb3UiLCJhc3BlY3QiLCJjYW1lcmEiLCJjbGVhckNvbG9yIiwic2V0SW50SFNMIiwicmVuZGVyZXIiLCJzZXRDbGVhckNvbG9yIiwiZnJ1c3R1bVNpemUiLCJsb29rQXQiLCJza3lTY3JhcGVyTWF0IiwibWV0YWxuZXNzIiwicm91Z2huZXNzIiwid2luZG93T2ZmTWF0Iiwid2luZG93T25NYXQiLCJjdWJlcyIsImN1YmVzUGFyZW50IiwieCIsInoiLCJuZXdDdWJlIiwiQmFzaWNDdWJlIiwiaiIsInhPZmZzZXQiLCJ5T2Zmc2V0Iiwiek9mZnNldCIsInJvdW5kIiwibmV3V2luZG93Iiwic2NhbGUiLCJwdXNoIiwic2t5TWF0Iiwic2lkZSIsInN0YXJzTWF0Iiwid2lyZWZyYW1lIiwic2t5IiwicGh5IiwiUEkiLCJ0aGV0YSIsIm5ld1N0YXIiLCJzaW4iLCJjb3MiLCJncm91bmRNYXQiLCJmbGF0U2hhZGluZyIsImdyb3VuZCIsIndoZXJlQXJlWW91IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwic3R5bGUiLCJtYXJnaW4iLCJtYXJnaW5Ub3AiLCJ2ZXJ0aWNhbEFsaWduIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJjdXJzb3IiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ0aW1lRWxhcHNlZCIsImFuaW1hdGlvblRpbWUiLCJ1cGRhdGVTa3lzY3JhcGVycyIsInVwZGF0ZUNhbWVyYSIsImNoaWxkcmVuIiwiY2hpbGQiLCJuZXdQb3MiLCJ5IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsInJlbW92ZUNoaWxkIiwiY29udGVudCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJvcHRpb25zIiwiaG1yIiwidHJhbnNmb3JtIiwibG9jYWxzIiwiZXhwb3J0cyIsInVuZGVmaW5lZCIsInAiXSwibWFwcGluZ3MiOiJndkJBRXFCQSxjQUNuQixTQUFBQSxJQUFjLElBQUFDLCtGQUFBQyxDQUFBQyxLQUFBSCxHQUNaQyxFQUFBRyxFQUFBRCxLQUFBRSxFQUFBTCxHQUFBTSxLQUFBSCxPQUVBLElBQU1JLEVBQVksSUFBSUMsSUFBdUIsU0FBVSxTQUFVLEdBSHJELE9BSWRELEVBQVVFLE1BQU1DLE9BQ2ZDLEtBQUtDLGFBQWEsS0FDbEIsR0FDQSxLQUVETCxFQUFVTSxZQUFZSCxPQUNyQkMsS0FBS0MsYUFBYSxLQUNsQixHQUNBLEtBRURMLEVBQVVPLFNBQVNDLElBQUssRUFBRyxFQUFHLEdBQzlCZCxFQUFLZSxJQUFLVCxHQWZJTiw4T0FEdUJPLGtwQkNDbEJTLGNBQ2pCLFNBQUFBLElBQWMsSUFBQWhCLCtGQUFBaUIsQ0FBQWYsS0FBQWMsR0FDVmhCLEVBQUFrQixFQUFBaEIsS0FBQWlCLEVBQUFILEdBQUFYLEtBQUFILE9BQ0EsSUFBTWtCLEVBQVcsSUFBSXJCLEVBQ3JCQyxFQUFLZSxJQUFJSyxHQUVULElBQU1DLEVBQW1CLElBQUlkLElBQXVCLFFBQVMsS0FDdkRlLEVBQW9CLElBQUlmLElBQXVCLFFBQVMsS0FOcEQsT0FRVmMsRUFBaUJSLFNBQVNVLEtBQ3RCLElBQUloQixJQUNBLEVBQ0EsSUFDQSxJQUlSZSxFQUFrQlQsU0FBU1UsS0FDdkIsSUFBSWhCLEtBQ0MsR0FDRCxFQUNBLElBSVJQLEVB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LEtBQUt5QyxLQUFPekMsS0FBS3dDLHdCQ3JCckIsSUFBQThFLEVBQWNDLEVBQVEsSUFDdEIsaUJBQUFELE1BQUEsRUFBNENFLEVBQUFuRixFQUFTaUYsRUFBQSxNQUlyRCxJQUFBRyxFQUFBLENBQWVDLEtBQUEsRUFDZkMsZUFIQUEsR0FLYUosRUFBUSxFQUFSQSxDQUEyQ0QsRUFBQUcsR0FDeERILEVBQUFNLFNBQUFKLEVBQUFLLFFBQUFQLEVBQUFNLDBCQ1pBSixFQUFBSyxRQUEyQk4sRUFBUSxFQUFSQSxNQUF1Q08sSUFLbEU5QyxLQUFBLENBQWN3QyxFQUFBbkYsRUFBUyx1TkFBMk5rRixFQUFRLElBQStCLGdDQUFzQ0EsRUFBUSxJQUE4QixpREFBK0Msc0JDTHBaQyxFQUFBSyxRQUFpQk4sRUFBQVEsRUFBdUIsK0NDQXhDUCxFQUFBSyxRQUFpQk4sRUFBQVEsRUFBdUIiLCJmaWxlIjoiLi9qcy9Ta3lzY3JhcGVyc0xvb3AuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2hpdGVIZW1pIGV4dGVuZHMgVEhSRUUuR3JvdXAge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBjb25zdCBoZW1pTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZmZiwgMHhmZmZmZmYsIDMuMCApO1xyXG5cdFx0aGVtaUxpZ2h0LmNvbG9yLnNldEhTTChcclxuXHRcdFx0TWF0aC5Ob3JtYWxpemVIdWUoMzI1KSwgXHJcblx0XHRcdDAuMSxcclxuXHRcdFx0MC45NFxyXG5cdFx0KTtcclxuXHRcdGhlbWlMaWdodC5ncm91bmRDb2xvci5zZXRIU0woXHJcblx0XHRcdE1hdGguTm9ybWFsaXplSHVlKDMyNSksIFxyXG5cdFx0XHQwLjEsIFxyXG5cdFx0XHQwLjY0XHJcblx0XHQpO1xyXG5cdFx0aGVtaUxpZ2h0LnBvc2l0aW9uLnNldCggMCwgMiwgMCApO1xyXG5cdFx0dGhpcy5hZGQoIGhlbWlMaWdodCApO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCBXaGl0ZUhlbWkgZnJvbSAnLi9XaGl0ZUhlbWkuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHdvRGlyZWN0aW9uYWxzIGV4dGVuZHMgVEhSRUUuR3JvdXAge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBjb25zdCB3aGl0ZUVtaSA9IG5ldyBXaGl0ZUhlbWkoKTtcclxuICAgICAgICB0aGlzLmFkZCh3aGl0ZUVtaSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgnd2hpdGUnLCAwLjY1KTtcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0MiA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCd3aGl0ZScsIDAuNTUpO1xyXG5cclxuICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLmNvcHkoXHJcbiAgICAgICAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKFxyXG4gICAgICAgICAgICAgICAgOSxcclxuICAgICAgICAgICAgICAgIDMuNSxcclxuICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQyLnBvc2l0aW9uLmNvcHkoXHJcbiAgICAgICAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKFxyXG4gICAgICAgICAgICAgICAgLTEwLFxyXG4gICAgICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkKGRpcmVjdGlvbmFsTGlnaHQsIGRpcmVjdGlvbmFsTGlnaHQyKTtcclxuICAgIH1cclxufSIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljU3BoZXJlIHtcclxuICBjb25zdHJ1Y3Rvcih7c2l6ZSA9IDUsIG1hdGVyaWFsLCBwb3NpdGlvbiwgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHN9KSB7XHJcbiAgICB0aGlzLnNlZWQgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgY29uc3QgY29sb3IgPSB7cjoxICxnOjEsIGI6MX07XHJcbiAgICB0aGlzLmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCk7XHJcbiAgICB0aGlzLmNvbG9yLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcclxuXHJcbiAgICB0aGlzLm1hdGVyaWFsID0gbWF0ZXJpYWwgfHwgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3I6IHRoaXMuY29sb3JcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zdCBTcGhlcmUgPSBtYXRlcmlhbC5sZW5ndGggPiAxID8gVEhSRUUuU3BoZXJlQnVmZmVyR2VvbWV0cnkgOiBUSFJFRS5TcGhlcmVHZW9tZXRyeTtcclxuXHJcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFNwaGVyZShcclxuICAgICAgc2l6ZSwgXHJcbiAgICAgIHdpZHRoU2VnbWVudHMgfHwgNywgXHJcbiAgICAgIGhlaWdodFNlZ21lbnRzIHx8IDkpO1xyXG4gICAgXHJcbiAgICBpZiAobWF0ZXJpYWwubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZ2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRlcmlhbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYWRkR3JvdXAoIDAsIEluZmluaXR5LCBpICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaChcclxuICAgICAgdGhpcy5nZW9tZXRyeSxcclxuICAgICAgdGhpcy5tYXRlcmlhbFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgTGlnaHRzIGZyb20gJy4uL0xpZ2h0cy9Ud29EaXJlY3Rpb25hbHMuanMnO1xyXG5pbXBvcnQgQmFzaWNDdWJlIGZyb20gJy4uL09iamVjdHMvQmFzaWNDdWJlLmpzJztcclxuaW1wb3J0IEJhc2ljU3BoZXJlIGZyb20gJy4uL09iamVjdHMvQmFzaWNTcGhlcmUuanMnO1xyXG5yZXF1aXJlKCd0eXBlZmFjZS12dDMyMycpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2t5c2NyYXBlcnNMb29wIHtcclxuICAgIGNvbnN0cnVjdG9yKGJhc2ljU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gYmFzaWNTY2VuZTtcclxuXHJcbiAgICAgICAgdGhpcy5lZGl0U2NlbmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5yb290ID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpZ2h0cyA9IG5ldyBMaWdodHMoKTtcclxuICAgICAgICB0aGlzLnJvb3QuYWRkKGxpZ2h0cyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkU2t5c2NyYXBlcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRTa3koKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRHcm91bmQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRXaGVyZUFyZVlvdSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRTY2VuZSgpIHtcclxuICAgICAgICBjb25zdCBmcnVzdHVtU2l6ZSA9IDc7XHJcbiAgICAgICAgY29uc3QgYXNwZWN0ID0gdGhpcy5zY2VuZS5jYW1lcmEuYXNwZWN0O1xyXG4gICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcclxuICAgICAgICBjbGVhckNvbG9yLnNldEludEhTTCgyNDQsIDMwLCA4KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoY2xlYXJDb2xvcik7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKGZydXN0dW1TaXplICogYXNwZWN0IC8gLTIsIGZydXN0dW1TaXplICogYXNwZWN0IC8gMiwgZnJ1c3R1bVNpemUgLyAyLCBmcnVzdHVtU2l6ZSAvIC0yLCAwLjEsIDE1MCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEucG9zaXRpb24uY29weShuZXcgVEhSRUUuVmVjdG9yMygxMCwgMTAsIDEwKSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRTa3lzY3JhcGVycygpIHtcclxuICAgICAgICBjb25zdCBza3lTY3JhcGVyTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICAgICAgY29sb3I6IDB4NDEzZjUwLFxyXG4gICAgICAgICAgICBtZXRhbG5lc3M6IDAuMyxcclxuICAgICAgICAgICAgcm91Z2huZXNzOiAwLjJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2luZG93T2ZmTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgY29sb3I6IDB4MjMxZjM3XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbmRvd09uTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgY29sb3I6IDB4Y2NjY2RkIC8vMHhiN2E1MWZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdWJlcyA9IFtdO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmQ291bnQgPSA1O1xyXG5cclxuICAgICAgICB0aGlzLmN1YmVzUGFyZW50ID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IC1oYWxmQ291bnQ7IHggPCBoYWxmQ291bnQ7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB6ID0gLWhhbGZDb3VudDsgeiA8IGhhbGZDb3VudDsgeisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDdWJlID0gbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBza3lTY3JhcGVyTWF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoeCoxLjUgKyAoTWF0aC5yYW5kb20oKS0wLjUpLCAwLCB6KjEuNSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODA7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gMC41IDogLTAuNTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeE9mZnNldCA8IDApIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB5T2Zmc2V0ID0gKChNYXRoLnJhbmRvbSgpKSAqIDAuOCkgLSAwLjQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHpPZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogKE1hdGgucmFuZG9tKCkgPiAwLjUgPyAwLjQgOiAtMC40KTtcclxuICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gTWF0aC5yb3VuZCh5T2Zmc2V0ICogMTApICogMC4xO1xyXG4gICAgICAgICAgICAgICAgICAgIHpPZmZzZXQgPSBNYXRoLnJvdW5kKHpPZmZzZXQgKiA1KSAqIDAuMjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdXaW5kb3cgPSBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMC4wNSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IE1hdGgucmFuZG9tKCkgPiAwLjEgPyB3aW5kb3dPZmZNYXQgOiB3aW5kb3dPbk1hdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKHpPZmZzZXQsIHlPZmZzZXQsIHhPZmZzZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBuZXdDdWJlLnJvb3QuYWRkKG5ld1dpbmRvdy5yb290KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ld0N1YmUucm9vdC5zY2FsZS5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKDEsMiwxKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1YmVzUGFyZW50LmFkZChuZXdDdWJlLnJvb3QpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdWJlcy5wdXNoKG5ld0N1YmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucm9vdC5hZGQodGhpcy5jdWJlc1BhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2t5KCkge1xyXG4gICAgICAgIGNvbnN0IHNreU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweDA1MDMyOSxcclxuICAgICAgICAgICAgbWV0YWxuZXNzOiAwLjEsXHJcbiAgICAgICAgICAgIHJvdWdobmVzczogMC45LFxyXG4gICAgICAgICAgICBzaWRlOiBUSFJFRS5CYWNrU2lkZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHN0YXJzTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgY29sb3I6IDB4Y2NjY2RkLFxyXG4gICAgICAgICAgICBzaWRlOiBUSFJFRS5CYWNrU2lkZSxcclxuICAgICAgICAgICAgd2lyZWZyYW1lOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2t5ID0gbmV3IEJhc2ljU3BoZXJlKHtcclxuICAgICAgICAgICAgc2l6ZTogNSxcclxuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0wLjUsIDEsIDApLFxyXG4gICAgICAgICAgICBtYXRlcmlhbDogc2t5TWF0LFxyXG4gICAgICAgICAgICBoZWlnaHRTZWdtZW50czogNzIsXHJcbiAgICAgICAgICAgIHdpZHRoU2VnbWVudHM6IDEyOFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNreS5yb290LnNjYWxlLmNvcHkobmV3IFRIUkVFLlZlY3RvcjMoMTAsIDkuMjUsIDEwKSk7XHJcbiAgICAgICAgdGhpcy5yb290LmFkZChza3kucm9vdCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMjA7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwaHkgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IHRoZXRhID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAwLjY7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXIgPSBuZXcgQmFzaWNTcGhlcmUoe1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogMC4wMTgsXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogc3RhcnNNYXQsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoTWF0aC5zaW4ocGh5KSAqIDIwLCBNYXRoLmNvcyh0aGV0YSkgKiA4LCAtMTApXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QuYWRkKG5ld1N0YXIucm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEdyb3VuZCgpIHtcclxuICAgICAgICBjb25zdCBncm91bmRNYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICBjb2xvcjogMHgxMzEzMTMsXHJcbiAgICAgICAgICAgIG1ldGFsbmVzczogMC43LFxyXG4gICAgICAgICAgICByb3VnaG5lc3M6IDAuOSxcclxuICAgICAgICAgICAgZmxhdFNoYWRpbmc6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBncm91bmQgPSBuZXcgQmFzaWNTcGhlcmUoe1xyXG4gICAgICAgICAgICBzaXplOiAzLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoMCwgLTEsIDApLFxyXG4gICAgICAgICAgICBtYXRlcmlhbDogZ3JvdW5kTWF0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZ3JvdW5kLnJvb3Quc2NhbGUuY29weShuZXcgVEhSRUUuVmVjdG9yMyg1LCAwLjUsIDQpKTtcclxuICAgICAgICB0aGlzLnJvb3QuYWRkKGdyb3VuZC5yb290KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRXaGVyZUFyZVlvdSgpIHtcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91LmlubmVySFRNTCA9IFwid2hlcmUgYXJlIHlvdVwiO1xyXG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xyXG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUubWFyZ2luVG9wID0gJzMwdmgnO1xyXG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUudmVydGljYWxBbGlnbiA9ICdtaWRkbGUnO1xyXG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuZm9udEZhbWlseSA9IFwiJ1ZUMzIzJywgbW9ub3NwYWNlXCI7XHJcbiAgICAgICAgdGhpcy53aGVyZUFyZVlvdS5zdHlsZS5jb2xvciA9ICdhbnRpcXVld2hpdGUnO1xyXG4gICAgICAgIHRoaXMud2hlcmVBcmVZb3Uuc3R5bGUuZm9udFdlaWdodCA9ICdsaWdodGVyJztcclxuICAgICAgICB0aGlzLndoZXJlQXJlWW91LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMud2hlcmVBcmVZb3UpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgdXBkYXRlKHRpbWVFbGFwc2VkKSB7XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IHRpbWVFbGFwc2VkICogMC4yO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy51cGRhdGVTa3lzY3JhcGVycyhhbmltYXRpb25UaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVwZGF0ZUNhbWVyYSh0aW1lRWxhcHNlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2t5c2NyYXBlcnMoYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BvcyA9IGNoaWxkLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBuZXdQb3MueSA9IE1hdGguc2luKChpICogTWF0aC5QSSAqIDAuMjUpICsgYW5pbWF0aW9uVGltZSk7XHJcbiAgICAgICAgICAgIGNoaWxkLnBvc2l0aW9uLmNvcHkobmV3UG9zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2FtZXJhKHRpbWVFbGFwc2VkKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEucG9zaXRpb24uY29weShcclxuICAgICAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoXHJcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aW1lRWxhcHNlZCAqIC4xMikgKiAxMCArIDIsXHJcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aW1lRWxhcHNlZCAqIC4yKSArIDEsXHJcbiAgICAgICAgICAgICAgICAzMClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwgMi41LCA2KSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVtb3ZlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy53aGVyZUFyZVlvdSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzaWNDdWJlIHtcclxuICBjb25zdHJ1Y3Rvcih7c2l6ZSA9IDUsIG1hdGVyaWFsLCBwb3NpdGlvbn0pIHtcclxuICAgIHRoaXMuc2VlZCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICBjb25zdCBjb2xvciA9IHtyOjEgLGc6MSwgYjoxfTtcclxuICAgIHRoaXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcclxuICAgIHRoaXMuY29sb3Iuc2V0UkdCKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xyXG5cclxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogdGhpcy5jb2xvclxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShzaXplLCBzaXplLCBzaXplKTtcclxuXHJcbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaChcclxuICAgICAgdGhpcy5nZW9tZXRyeSxcclxuICAgICAgdGhpcy5tYXRlcmlhbFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcclxuICB9XHJcbn1cclxuIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIFByZXBhcmUgY3NzVHJhbnNmb3JtYXRpb25cbnZhciB0cmFuc2Zvcm07XG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHVuZGVmaW5lZCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiB2dDMyMy00MDBub3JtYWwgLSBsYXRpbiAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdWVDMyMyc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LWRpc3BsYXk6IHN3YXA7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgc3JjOlxcbiAgICBsb2NhbCgnVlQzMjMgUmVndWxhciAnKSxcXG4gICAgbG9jYWwoJ1ZUMzIzLVJlZ3VsYXInKSxcXG4gICAgdXJsKFwiICsgcmVxdWlyZShcIi4vZmlsZXMvdnQzMjMtbGF0aW4tNDAwLndvZmYyXCIpICsgXCIpIGZvcm1hdCgnd29mZjInKSwgXFxuICAgIHVybChcIiArIHJlcXVpcmUoXCIuL2ZpbGVzL3Z0MzIzLWxhdGluLTQwMC53b2ZmXCIpICsgXCIpIGZvcm1hdCgnd29mZicpOyAvKiBNb2Rlcm4gQnJvd3NlcnMgKi9cXG59XFxuXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZm9udHMvdnQzMjMtbGF0aW4tNDAwLndvZmYyXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZm9udHMvdnQzMjMtbGF0aW4tNDAwLndvZmZcIjsiXSwic291cmNlUm9vdCI6IiJ9