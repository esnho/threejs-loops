(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{14:function(e,t,n){"use strict";n.r(t);var r=n(15);n(18);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r.Color.prototype.setIntHSL=function(e,t,n){r.Color.prototype.setHSL(e/360,t/100,n/100)},n.d(t,"default",function(){return a});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updatables=[],this.objects=[],this.clock=new r.Clock}var t,n,a;return t=e,(n=[{key:"InitScene",value:function(){this.scene=new r.Scene,this.camera=this.GetCamera(),this.camera.position.z=10;var e=this.GetRenderer();this.clearColor=e.clearColor,this.renderer=e.renderer,this.canvas=document.body.appendChild(this.renderer.domElement),this.renderer.render(this.scene,this.camera),this.oldTime=this.clock.getElapsedTime(),this.Update()}},{key:"Destroy",value:function(){var e=this;this.objects.map(function(t){return e.Remove(t)}),cancelAnimationFrame(this.animationFrame),this.scene=null,this.camera=null,this.renderer=null,this.canvas.remove()}},{key:"GetCamera",value:function(){var e=window.innerWidth/window.innerHeight;return new r.PerspectiveCamera(65,e,1,100)}},{key:"GetRenderer",value:function(){var e=new r.Color;e.setRGB(.1,.1,.1);var t=new r.WebGLRenderer({antialias:!0});return t.setSize(window.innerWidth,window.innerHeight),t.setClearColor(e),{clearColor:e,renderer:t}}},{key:"Add",value:function(e){var t=this;this.objects.push(e),this.scene.add(e.root),e.update&&this.updatables.push(e),e.OnDie=function(){t.Remove(e)}}},{key:"Remove",value:function(e){e.onRemove&&e.onRemove(),this.scene.remove(e.root),this.updatables=this.updatables.filter(function(t){return t.root.uuid!==e.root.uuid})}},{key:"Update",value:function(){var e=this,t=this.clock.getElapsedTime(),n=t-this.oldTime;this.oldTime=t;var r=!0,i=!1,a=void 0;try{for(var o,s=this.updatables[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){o.value.update(t,n)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}this.renderer.render(this.scene,this.camera),this.animationFrame=requestAnimationFrame(function(){return e.Update()})}}])&&i(t.prototype,n),a&&i(t,a),e}()},18:function(e,t){Math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},Math.NormalizeHue=function(e){return e/360}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvSGVscGVycy9USFJFRS1leHRlbnNpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9PYmplY3RzL0Jhc2ljU2NlbmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0hlbHBlcnMvTWF0aC5qcyJdLCJuYW1lcyI6WyJUSFJFRSIsInByb3RvdHlwZSIsInNldEludEhTTCIsImgiLCJzIiwibCIsInNldEhTTCIsIkJhc2ljU2NlbmUiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwidXBkYXRhYmxlcyIsIm9iamVjdHMiLCJjbG9jayIsInNjZW5lIiwiY2FtZXJhIiwiR2V0Q2FtZXJhIiwicG9zaXRpb24iLCJ6IiwicmVuZGVyT2JqZWN0IiwiR2V0UmVuZGVyZXIiLCJjbGVhckNvbG9yIiwicmVuZGVyZXIiLCJjYW52YXMiLCJkb2N1bWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImRvbUVsZW1lbnQiLCJyZW5kZXIiLCJvbGRUaW1lIiwiZ2V0RWxhcHNlZFRpbWUiLCJVcGRhdGUiLCJfdGhpcyIsIm1hcCIsIm9iamVjdCIsIlJlbW92ZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiYW5pbWF0aW9uRnJhbWUiLCJyZW1vdmUiLCJhc3BlY3RSYXRpbyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInNldFJHQiIsImFudGlhbGlhcyIsInNldFNpemUiLCJzZXRDbGVhckNvbG9yIiwiX3RoaXMyIiwicHVzaCIsImFkZCIsInJvb3QiLCJ1cGRhdGUiLCJPbkRpZSIsIm9uUmVtb3ZlIiwiZmlsdGVyIiwib2JqIiwidXVpZCIsIl90aGlzMyIsInRpbWVFbGFwc2VkIiwiZGVsdGEiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsInVuZGVmaW5lZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwicmV0dXJuIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiTWF0aCIsImNsYW1wIiwibWluIiwibWF4IiwiTm9ybWFsaXplSHVlIl0sIm1hcHBpbmdzIjoid1JBRUFBLFFBQVlDLFVBQVVDLFVBQVksU0FBU0MsRUFBR0MsRUFBR0MsR0FDN0NMLFFBQVlDLFVBQVVLLE9BQ3BCSCxFQUFFLElBQ0ZDLEVBQUUsSUFDRkMsRUFBRSxnRENGYUUsYUFDbkIsU0FBQUEsaUdBQWNDLENBQUFDLEtBQUFGLEdBQ1pFLEtBQUtDLFdBQWEsR0FDbEJELEtBQUtFLFFBQVUsR0FDZkYsS0FBS0csTUFBUSxJQUFJWixtRUFJakJTLEtBQUtJLE1BQVEsSUFBSWIsUUFDakJTLEtBQUtLLE9BQVNMLEtBQUtNLFlBRW5CTixLQUFLSyxPQUFPRSxTQUFTQyxFQUFJLEdBRXpCLElBQU1DLEVBQWVULEtBQUtVLGNBQzFCVixLQUFLVyxXQUFhRixFQUFhRSxXQUMvQlgsS0FBS1ksU0FBV0gsRUFBYUcsU0FDN0JaLEtBQUthLE9BQVNDLFNBQVNDLEtBQUtDLFlBQVloQixLQUFLWSxTQUFTSyxZQUV0RGpCLEtBQUtZLFNBQVNNLE9BQU9sQixLQUFLSSxNQUFPSixLQUFLSyxRQUV0Q0wsS0FBS21CLFFBQVVuQixLQUFLRyxNQUFNaUIsaUJBQzFCcEIsS0FBS3FCLDJDQUdHLElBQUFDLEVBQUF0QixLQUNSQSxLQUFLRSxRQUFRcUIsSUFBSSxTQUFBQyxHQUFNLE9BQUlGLEVBQUtHLE9BQU9ELEtBQ3ZDRSxxQkFBcUIxQixLQUFLMkIsZ0JBQzFCM0IsS0FBS0ksTUFBUSxLQUNiSixLQUFLSyxPQUFTLEtBQ2RMLEtBQUtZLFNBQVcsS0FDaEJaLEtBQUthLE9BQU9lLDZDQUlaLElBQU1DLEVBQWNDLE9BQU9DLFdBQWFELE9BQU9FLFlBRS9DLE9BRGUsSUFBSXpDLG9CQUF3QixHQUFJc0MsRUFBYSxFQUFHLDJDQUsvRCxJQUFNbEIsRUFBYSxJQUFJcEIsUUFDdkJvQixFQUFXc0IsT0FBTyxHQUFLLEdBQUssSUFFNUIsSUFBTXJCLEVBQVcsSUFBSXJCLGdCQUFvQixDQUN2QzJDLFdBQVcsSUFLYixPQUhBdEIsRUFBU3VCLFFBQVFMLE9BQU9DLFdBQVlELE9BQU9FLGFBQzNDcEIsRUFBU3dCLGNBQWN6QixHQUVoQixDQUNMQSxXQUFZQSxFQUNaQyxTQUFVQSwrQkFJVlksR0FBUSxJQUFBYSxFQUFBckMsS0FDVkEsS0FBS0UsUUFBUW9DLEtBQUtkLEdBQ2xCeEIsS0FBS0ksTUFBTW1DLElBQUlmLEVBQU9nQixNQUNsQmhCLEVBQU9pQixRQUNUekMsS0FBS0MsV0FBV3FDLEtBQUtkLEdBRXZCQSxFQUFPa0IsTUFBUSxXQUNiTCxFQUFLWixPQUFPRCxtQ0FJVEEsR0FDREEsRUFBT21CLFVBQ1RuQixFQUFPbUIsV0FFVDNDLEtBQUtJLE1BQU13QixPQUFPSixFQUFPZ0IsTUFDekJ4QyxLQUFLQyxXQUFhRCxLQUFLQyxXQUFXMkMsT0FDaEMsU0FBQUMsR0FBRyxPQUFJQSxFQUFJTCxLQUFLTSxPQUFTdEIsRUFBT2dCLEtBQUtNLHdDQUloQyxJQUFBQyxFQUFBL0MsS0FDRGdELEVBQWNoRCxLQUFLRyxNQUFNaUIsaUJBQ3pCNkIsRUFBUUQsRUFBY2hELEtBQUttQixRQUNqQ25CLEtBQUttQixRQUFVNkIsRUFIUixJQUFBRSxHQUFBLEVBQUFDLEdBQUEsRUFBQUMsT0FBQUMsRUFBQSxJQUlQLFFBQUFDLEVBQUFDLEVBQXNCdkQsS0FBS0MsV0FBM0J1RCxPQUFBQyxjQUFBUCxHQUFBSSxFQUFBQyxFQUFBRyxRQUFBQyxNQUFBVCxHQUFBLEVBQXVDLENBQUFJLEVBQUFNLE1BQzNCbkIsT0FBT08sRUFBYUMsSUFMekIsTUFBQVksR0FBQVYsR0FBQSxFQUFBQyxFQUFBUyxFQUFBLFlBQUFYLEdBQUEsTUFBQUssRUFBQU8sUUFBQVAsRUFBQU8sU0FBQSxXQUFBWCxFQUFBLE1BQUFDLEdBT1BwRCxLQUFLWSxTQUFTTSxPQUFPbEIsS0FBS0ksTUFBT0osS0FBS0ssUUFDdENMLEtBQUsyQixlQUFpQm9DLHNCQUFzQixrQkFBTWhCLEVBQUsxQixrRUN4RjNEMkMsS0FBS0MsTUFBUSxTQUFTTCxFQUFPTSxFQUFLQyxHQUNoQyxPQUFPSCxLQUFLRSxJQUFJRixLQUFLRyxJQUFJUCxFQUFPTSxHQUFNQyxJQUd4Q0gsS0FBS0ksYUFBZSxTQUFTMUUsR0FDNUIsT0FBT0EsRUFBRSIsImZpbGUiOiIuL2pzL2Jhc2ljLXNjZW5lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuVEhSRUUuQ29sb3IucHJvdG90eXBlLnNldEludEhTTCA9IGZ1bmN0aW9uKGgsIHMsIGwpIHtcbiAgICBUSFJFRS5Db2xvci5wcm90b3R5cGUuc2V0SFNMKFxuICAgICAgaC8zNjAuMCxcbiAgICAgIHMvMTAwLjAsXG4gICAgICBsLzEwMC4wXG4gICAgKTtcbn0iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgJy4uL0hlbHBlcnMvTWF0aC5qcyc7XG5pbXBvcnQgJy4uL0hlbHBlcnMvVEhSRUUtZXh0ZW5zaW9ucy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljU2NlbmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnVwZGF0YWJsZXMgPSBbXTtcbiAgICB0aGlzLm9iamVjdHMgPSBbXTtcbiAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG4gIH1cblxuICBJbml0U2NlbmUoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuY2FtZXJhID0gdGhpcy5HZXRDYW1lcmEoKTtcblxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxMDtcblxuICAgIGNvbnN0IHJlbmRlck9iamVjdCA9IHRoaXMuR2V0UmVuZGVyZXIoKTtcbiAgICB0aGlzLmNsZWFyQ29sb3IgPSByZW5kZXJPYmplY3QuY2xlYXJDb2xvcjtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyT2JqZWN0LnJlbmRlcmVyO1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuXG4gICAgdGhpcy5vbGRUaW1lID0gdGhpcy5jbG9jay5nZXRFbGFwc2VkVGltZSgpO1xuICAgIHRoaXMuVXBkYXRlKCk7XG4gIH1cblxuICBEZXN0cm95KCkge1xuICAgIHRoaXMub2JqZWN0cy5tYXAob2JqZWN0ID0+IHRoaXMuUmVtb3ZlKG9iamVjdCkpO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWUpO1xuICAgIHRoaXMuc2NlbmUgPSBudWxsO1xuICAgIHRoaXMuY2FtZXJhID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmUoKTtcbiAgfVxuXG4gIEdldENhbWVyYSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg2NSwgYXNwZWN0UmF0aW8sIDEsIDEwMCk7XG4gICAgcmV0dXJuIGNhbWVyYTtcbiAgfVxuXG4gIEdldFJlbmRlcmVyKCkge1xuICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICBjbGVhckNvbG9yLnNldFJHQigwLjEsIDAuMSwgMC4xKTtcblxuICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAgfSk7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKGNsZWFyQ29sb3IpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNsZWFyQ29sb3I6IGNsZWFyQ29sb3IsXG4gICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICB9XG4gIH1cblxuICBBZGQob2JqZWN0KSB7XG4gICAgdGhpcy5vYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICB0aGlzLnNjZW5lLmFkZChvYmplY3Qucm9vdCk7XG4gICAgaWYgKG9iamVjdC51cGRhdGUpIHtcbiAgICAgIHRoaXMudXBkYXRhYmxlcy5wdXNoKG9iamVjdCk7XG4gICAgfVxuICAgIG9iamVjdC5PbkRpZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuUmVtb3ZlKG9iamVjdCk7XG4gICAgfTtcbiAgfVxuXG4gIFJlbW92ZShvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0Lm9uUmVtb3ZlKSB7XG4gICAgICBvYmplY3Qub25SZW1vdmUoKTtcbiAgICB9XG4gICAgdGhpcy5zY2VuZS5yZW1vdmUob2JqZWN0LnJvb3QpO1xuICAgIHRoaXMudXBkYXRhYmxlcyA9IHRoaXMudXBkYXRhYmxlcy5maWx0ZXIoXG4gICAgICBvYmogPT4gb2JqLnJvb3QudXVpZCAhPT0gb2JqZWN0LnJvb3QudXVpZFxuICAgICk7XG4gIH1cblxuICBVcGRhdGUoKSB7XG4gICAgY29uc3QgdGltZUVsYXBzZWQgPSB0aGlzLmNsb2NrLmdldEVsYXBzZWRUaW1lKCk7XG4gICAgY29uc3QgZGVsdGEgPSB0aW1lRWxhcHNlZCAtIHRoaXMub2xkVGltZTtcbiAgICB0aGlzLm9sZFRpbWUgPSB0aW1lRWxhcHNlZDtcbiAgICBmb3IgKGxldCB1cGRhdGFibGUgb2YgdGhpcy51cGRhdGFibGVzKSB7XG4gICAgICB1cGRhdGFibGUudXBkYXRlKHRpbWVFbGFwc2VkLCBkZWx0YSk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuVXBkYXRlKCkpO1xuICB9XG59XG4iLCJNYXRoLmNsYW1wID0gZnVuY3Rpb24odmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn07XG5cbk1hdGguTm9ybWFsaXplSHVlID0gZnVuY3Rpb24oaCkge1xuXHRyZXR1cm4gaC8zNjAuMDtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==