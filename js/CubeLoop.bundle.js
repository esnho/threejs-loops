(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{15:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(14);var r=function t(e){var n=e.size,r=void 0===n?5:n,a=e.material,i=e.position;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.seed=Math.random();var s=1,c=1,u=1;this.color=new o.d,this.color.setRGB(s,c,u),this.material=a||new o.l({color:this.color}),this.geometry=new o.b(r,r,r),this.mesh=new o.k(this.geometry,this.material),i&&this.mesh.position.copy(i),this.root=this.mesh}},6:function(t,e,n){"use strict";n.r(e);var o=n(14);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=a(this,i(e).call(this));var n=new o.i(16777215,16777215,1.5);return n.color.setHSL(u(250),.9,.94),n.groundColor.setHSL(u(250),.9,.44),n.position.set(0,2,0),t.add(n),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o["h"]),e}();function u(t){return t/360}var l=n(15);function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"default",function(){return f});var f=function(){function t(e){var n=e.scene,r=e.onLoad;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=new o.d;a.setIntHSL(48,90,64),n.renderer.setClearColor(a);var i=n.camera.aspect;n.camera=new o.n(10*i/-2,10*i/2,5,-5,1,150),n.camera.position.copy(new o.t(-10,10,10)),n.camera.lookAt(new o.t(0,0,0)),this.root=new o.h;var s=new c;this.root.add(s);var u=new o.m({color:16777215,metalness:.4,roughness:.2});this.cubes=[new l.a({size:2,material:u,position:new o.t(-1,1,1)}),new l.a({size:2,material:u,position:new o.t(1,1,1)}),new l.a({size:2,material:u,position:new o.t(-1,1,-1)}),new l.a({size:2,material:u,position:new o.t(1,1,-1)}),new l.a({size:2,material:u,position:new o.t(-1,-1,1)}),new l.a({size:2,material:u,position:new o.t(1,-1,1)}),new l.a({size:2,material:u,position:new o.t(-1,-1,-1)}),new l.a({size:2,material:u,position:new o.t(1,-1,-1)})],this.cubesParent=new o.h;var h=!0,f=!1,p=void 0;try{for(var w,y=this.cubes[Symbol.iterator]();!(h=(w=y.next()).done);h=!0){var b=w.value;this.cubesParent.add(b.root)}}catch(t){f=!0,p=t}finally{try{h||null==y.return||y.return()}finally{if(f)throw p}}this.cubesParent.position.copy(new o.t(1,-1,-1)),this.root.add(this.cubesParent),r&&r()}var e,n,r;return e=t,(n=[{key:"update",value:function(t){var e=3*t;e%(2*Math.PI)<Math.PI?this.firstSection(e):this.secondSection(e)}},{key:"firstSection",value:function(t){var e=Math.sin(.5*t),n=Math.abs(e);this.cubesParent.children[7].position.copy(new o.t(1,-1,-1));for(var r=0;r<this.cubesParent.children.length;r++){var a=this.cubesParent.children[r],i=Math.clamp((1-n)*(.5*Math.PI)+.125*r,0,1),s=new o.t(i,i,i);a.scale.copy(s),a.rotation.z=i*Math.PI,a.rotation.x=i*Math.PI*.5}}},{key:"secondSection",value:function(t){var e=Math.sin(.5*t),n=Math.abs(e),r=Math.cos(.5*t),a=Math.abs(r),i=this.cubesParent.children[7],s=Math.clamp((1-n)*(.5*Math.PI)+.875+a,0,2),c=new o.t(s,s,s);i.scale.copy(c),i.rotation.z=s*Math.PI,i.rotation.x=s*Math.PI*.5;var u=new o.t(1,-1,-1);i.position.copy(u.lerp(new o.t(0,0,0),Math.clamp(6*(1-n),0,1)));for(var l=0;l<this.cubesParent.children.length-1;l++){var h=this.cubesParent.children[l],f=Math.clamp(Math.clamp((1-n)*(.5*Math.PI)+.125*l,0,1)-a,0,1),p=new o.t(f,f,f);h.scale.copy(p),h.rotation.z=f*Math.PI,h.rotation.x=f*Math.PI*.5}}}])&&h(e.prototype,n),r&&h(e,r),t}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9CbHVlUGFydHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL0N1YmVMb29wLmpzIl0sIm5hbWVzIjpbIkJhc2ljQ3ViZSIsIl9yZWYiLCJfcmVmJHNpemUiLCJzaXplIiwibWF0ZXJpYWwiLCJwb3NpdGlvbiIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJzZWVkIiwiTWF0aCIsInJhbmRvbSIsImNvbG9yIiwiVEhSRUUiLCJzZXRSR0IiLCJnZW9tZXRyeSIsIm1lc2giLCJjb3B5Iiwicm9vdCIsIkxpZ3RocyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfZ2V0UHJvdG90eXBlT2YiLCJjYWxsIiwiaGVtaUxpZ2h0Iiwic2V0SFNMIiwiTm9ybWFsaXplSCIsImdyb3VuZENvbG9yIiwic2V0IiwiYWRkIiwiaCIsIkN1YmVMb29wIiwic2NlbmUiLCJvbkxvYWQiLCJDdWJlTG9vcF9jbGFzc0NhbGxDaGVjayIsImNsZWFyQ29sb3IiLCJzZXRJbnRIU0wiLCJyZW5kZXJlciIsInNldENsZWFyQ29sb3IiLCJhc3BlY3QiLCJjYW1lcmEiLCJmcnVzdHVtU2l6ZSIsImxvb2tBdCIsImxpZ2h0cyIsIkxpZ2h0cyIsImN1YmVNYXQiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJjdWJlcyIsImN1YmVzUGFyZW50IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJjdWJlIiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJ0aW1lRWxhcHNlZCIsImFuaW1hdGlvblRpbWUiLCJQSSIsImZpcnN0U2VjdGlvbiIsInNlY29uZFNlY3Rpb24iLCJzaW5UaW1lIiwic2luIiwiYWJzU2luVGltZSIsImFicyIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImNoaWxkIiwicm90YSIsImNsYW1wIiwic2luU2NhbGUiLCJzY2FsZSIsInJvdGF0aW9uIiwieiIsIngiLCJjb3NUaW1lIiwiY29zIiwiYWJzQ29zVGltZSIsIm9sZFBvcyIsImxlcnAiXSwibWFwcGluZ3MiOiJ5SUFFcUJBLEVBQ25CLFNBQUFBLEVBQUFDLEdBQTRDLElBQUFDLEVBQUFELEVBQS9CRSxZQUErQixJQUFBRCxFQUF4QixFQUF3QkEsRUFBckJFLEVBQXFCSCxFQUFyQkcsU0FBVUMsRUFBV0osRUFBWEksc0dBQVdDLENBQUFDLEtBQUFQLEdBQzFDTyxLQUFLQyxLQUFPQyxLQUFLQyxTQUNqQixJQUFNQyxFQUFXLEVBQVhBLEVBQWdCLEVBQWhCQSxFQUFxQixFQUMzQkosS0FBS0ksTUFBUSxJQUFJQyxJQUNqQkwsS0FBS0ksTUFBTUUsT0FBT0YsRUFBU0EsRUFBU0EsR0FFcENKLEtBQUtILFNBQVdBLEdBQVksSUFBSVEsSUFBd0IsQ0FDdERELE1BQU9KLEtBQUtJLFFBR2RKLEtBQUtPLFNBQVcsSUFBSUYsSUFBa0JULEVBQU1BLEVBQU1BLEdBRWxESSxLQUFLUSxLQUFPLElBQUlILElBQ2RMLEtBQUtPLFNBQ0xQLEtBQUtILFVBR0hDLEdBQ0ZFLEtBQUtRLEtBQUtWLFNBQVNXLEtBQUtYLEdBRzFCRSxLQUFLVSxLQUFPVixLQUFLUSw4ckJDdEJBRyxjQUNuQixTQUFBQSxJQUFjLElBQUFDLCtGQUFBYixDQUFBQyxLQUFBVyxHQUNaQyxFQUFBQyxFQUFBYixLQUFBYyxFQUFBSCxHQUFBSSxLQUFBZixPQUVBLElBQU1nQixFQUFZLElBQUlYLElBQXVCLFNBQVUsU0FBVSxLQUhyRCxPQUlkVyxFQUFVWixNQUFNYSxPQUNaQyxFQUFXLEtBQ1gsR0FDQSxLQUVKRixFQUFVRyxZQUFZRixPQUNsQkMsRUFBVyxLQUNYLEdBQ0EsS0FFSkYsRUFBVWxCLFNBQVNzQixJQUFLLEVBQUcs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RyxHQUFJSCxLQUFLb0UsTUFBeUIsR0FBbEIsRUFBSVAsR0FBaUIsRUFBRyxLQUNoRyxJQUFLLElBQUlHLEVBQUksRUFBR0EsRUFBSWxFLEtBQUt5QyxZQUFZd0IsU0FBU0UsT0FBUyxFQUFHRCxJQUFLLENBQzdELElBQU1FLEVBQVFwRSxLQUFLeUMsWUFBWXdCLFNBQVNDLEdBQ2xDRyxFQUFPbkUsS0FBS29FLE1BQVFwRSxLQUFLb0UsT0FBUSxFQUFJUCxJQUF5QixHQUFWN0QsS0FBS3dELElBQWlCLEtBQUpRLEVBQWEsRUFBRyxHQUMxRlksRUFBYSxFQUFHLEdBQ1pQLEVBQVcsSUFBSWxFLElBQWNnRSxFQUFNQSxFQUFNQSxHQUMvQ0QsRUFBTUksTUFBTS9ELEtBQUs4RCxHQUNqQkgsRUFBTUssU0FBU0MsRUFBS0wsRUFBT25FLEtBQUt3RCxHQUNoQ1UsRUFBTUssU0FBU0UsRUFBSU4sRUFBT25FLEtBQUt3RCxHQUFLIiwiZmlsZSI6Ii4vanMvQ3ViZUxvb3AuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY0N1YmUge1xuICBjb25zdHJ1Y3Rvcih7c2l6ZSA9IDUsIG1hdGVyaWFsLCBwb3NpdGlvbn0pIHtcbiAgICB0aGlzLnNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgIGNvbnN0IGNvbG9yID0ge3I6MSAsZzoxLCBiOjF9O1xuICAgIHRoaXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICB0aGlzLmNvbG9yLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IHRoaXMuY29sb3JcbiAgICB9KTtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoc2l6ZSwgc2l6ZSwgc2l6ZSk7XG5cbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgIHRoaXMuZ2VvbWV0cnksXG4gICAgICB0aGlzLm1hdGVyaWFsXG4gICAgKTtcblxuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWd0aHMgZXh0ZW5kcyBUSFJFRS5Hcm91cCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBoZW1pTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZmZiwgMHhmZmZmZmYsIDEuNSApO1xuXHRcdGhlbWlMaWdodC5jb2xvci5zZXRIU0woXG4gICAgICBOb3JtYWxpemVIKDI1MCksXG4gICAgICAwLjksXG4gICAgICAwLjk0LFxuICAgICk7XG5cdFx0aGVtaUxpZ2h0Lmdyb3VuZENvbG9yLnNldEhTTChcbiAgICAgIE5vcm1hbGl6ZUgoMjUwKSxcbiAgICAgIDAuOSxcbiAgICAgIDAuNDQsXG4gICAgKTtcblx0XHRoZW1pTGlnaHQucG9zaXRpb24uc2V0KCAwLCAyLCAwICk7XG5cdFx0dGhpcy5hZGQoIGhlbWlMaWdodCApO1xuXHR9XG59XG5cdFxuZnVuY3Rpb24gTm9ybWFsaXplSChoKSB7XG5cdHJldHVybiBoLzM2MC4wO1xufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IExpZ2h0cyBmcm9tICcuLi9MaWdodHMvQmx1ZVBhcnR5LmpzJztcbmltcG9ydCBCYXNpY0N1YmUgZnJvbSAnLi4vT2JqZWN0cy9CYXNpY0N1YmUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdWJlTG9vcCB7XG4gIGNvbnN0cnVjdG9yKHtzY2VuZSwgb25Mb2FkfSkge1xuICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICBjbGVhckNvbG9yLnNldEludEhTTCg0OCwgOTAsIDY0KTtcbiAgICBzY2VuZS5yZW5kZXJlci5zZXRDbGVhckNvbG9yKGNsZWFyQ29sb3IpO1xuXG4gICAgY29uc3QgZnJ1c3R1bVNpemUgPSAxMDtcbiAgICBjb25zdCBhc3BlY3QgPSBzY2VuZS5jYW1lcmEuYXNwZWN0O1xuXG4gICAgc2NlbmUuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYShcbiAgICAgICAgZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAtIDIsXG4gICAgICAgIGZydXN0dW1TaXplICogYXNwZWN0IC8gMixcbiAgICAgICAgZnJ1c3R1bVNpemUgLyAyLFxuICAgICAgICBmcnVzdHVtU2l6ZSAvIC0gMixcbiAgICAgICAgMSxcbiAgICAgICAgMTUwXG4gICAgKTtcbiAgICBzY2VuZS5jYW1lcmEucG9zaXRpb24uY29weShuZXcgVEhSRUUuVmVjdG9yMygtMTAsIDEwLCAxMCkpO1xuICAgIHNjZW5lLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCkpO1xuXG4gICAgdGhpcy5yb290ID0gbmV3IFRIUkVFLkdyb3VwKCk7XG5cbiAgICBjb25zdCBsaWdodHMgPSBuZXcgTGlnaHRzKCk7XG4gICAgdGhpcy5yb290LmFkZChsaWdodHMpO1xuXG5cdFx0Y29uc3QgY3ViZU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG5cdFx0XHRjb2xvcjogMHhmZmZmZmYsXG5cdFx0XHRtZXRhbG5lc3M6IDAuNCxcblx0XHRcdHJvdWdobmVzczogMC4yLFxuXHRcdH0pO1xuXG4gICAgdGhpcy5jdWJlcyA9IFtcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAxLCAxKVxuICAgICAgfSksXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgbWF0ZXJpYWw6IGN1YmVNYXQsXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygxLCAxLCAxKVxuICAgICAgfSksXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgbWF0ZXJpYWw6IGN1YmVNYXQsXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygtMSwgMSwgLTEpXG4gICAgICB9KSxcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDEsIDEsIC0xKVxuICAgICAgfSksXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgbWF0ZXJpYWw6IGN1YmVNYXQsXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygtMSwgLTEsIDEpXG4gICAgICB9KSxcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDEsIC0xLCAxKVxuICAgICAgfSksXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgbWF0ZXJpYWw6IGN1YmVNYXQsXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygtMSwgLTEsIC0xKVxuICAgICAgfSksXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgbWF0ZXJpYWw6IGN1YmVNYXQsXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgLTEpXG4gICAgICB9KV07XG5cbiAgICB0aGlzLmN1YmVzUGFyZW50ID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgZm9yIChsZXQgY3ViZSBvZiB0aGlzLmN1YmVzKSB7XG4gICAgICB0aGlzLmN1YmVzUGFyZW50LmFkZChjdWJlLnJvb3QpO1xuICAgIH1cbiAgICB0aGlzLmN1YmVzUGFyZW50LnBvc2l0aW9uLmNvcHkobmV3IFRIUkVFLlZlY3RvcjMoMSwgLTEsIC0xKSk7XG4gICAgdGhpcy5yb290LmFkZCh0aGlzLmN1YmVzUGFyZW50KTtcblxuICAgIGlmIChvbkxvYWQpIG9uTG9hZCgpO1xuICB9XG5cbiAgdXBkYXRlKHRpbWVFbGFwc2VkKSB7XG4gICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IHRpbWVFbGFwc2VkICogMztcbiAgICBjb25zdCBsb29wVGltZSA9IGFuaW1hdGlvblRpbWUgJSAoTWF0aC5QSSAqIDIpO1xuXG4gICAgaWYgKGxvb3BUaW1lIDwgTWF0aC5QSSkge1xuICAgICAgdGhpcy5maXJzdFNlY3Rpb24oYW5pbWF0aW9uVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2Vjb25kU2VjdGlvbihhbmltYXRpb25UaW1lKTtcbiAgICB9XG4gIH1cblxuICBmaXJzdFNlY3Rpb24oYW5pbWF0aW9uVGltZSkge1xuICAgIGNvbnN0IHNpblRpbWUgPSBNYXRoLnNpbihhbmltYXRpb25UaW1lICogMC41KTtcbiAgICBjb25zdCBhYnNTaW5UaW1lID0gTWF0aC5hYnMoc2luVGltZSk7XG5cbiAgICB0aGlzLmN1YmVzUGFyZW50XG4gICAgICAuY2hpbGRyZW5bN11cbiAgICAgIC5wb3NpdGlvblxuICAgICAgLmNvcHkobmV3IFRIUkVFLlZlY3RvcjMoMSwgLTEsIC0xKSk7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW5baV07XG4gICAgICBjb25zdCByb3RhID0gKE1hdGguY2xhbXAoKCgxIC0gYWJzU2luVGltZSkgKiAoTWF0aC5QSSAqIDAuNSkgKyAoaSAqIDAuMTI1KSksIDAsIDEpKTtcbiAgICAgIGNvbnN0IHNpblNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMocm90YSwgcm90YSwgcm90YSk7XG4gICAgICBjaGlsZC5zY2FsZS5jb3B5KHNpblNjYWxlKTtcbiAgICAgIGNoaWxkLnJvdGF0aW9uLnogPSAocm90YSAqIE1hdGguUEkpO1xuICAgICAgY2hpbGQucm90YXRpb24ueCA9IHJvdGEgKiBNYXRoLlBJICogMC41O1xuICAgIH1cbiAgfVxuXG4gIHNlY29uZFNlY3Rpb24oYW5pbWF0aW9uVGltZSkge1xuICAgIGNvbnN0IHNpblRpbWUgPSBNYXRoLnNpbihhbmltYXRpb25UaW1lICogMC41KTtcbiAgICBjb25zdCBhYnNTaW5UaW1lID0gTWF0aC5hYnMoc2luVGltZSk7XG5cbiAgICBjb25zdCBjb3NUaW1lID0gTWF0aC5jb3MoYW5pbWF0aW9uVGltZSAqIDAuNSk7XG4gICAgY29uc3QgYWJzQ29zVGltZSA9IE1hdGguYWJzKGNvc1RpbWUpO1xuXG4gICAgY29uc3QgY2hpbGQgPSB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuWzddO1xuICAgIGNvbnN0IHJvdGEgPSAoTWF0aC5jbGFtcCgoKDEgLSBhYnNTaW5UaW1lKSAqIChNYXRoLlBJICogMC41KSArICg3ICogMC4xMjUpKSArIChhYnNDb3NUaW1lKSwgMCwgMikpO1xuICAgIGNvbnN0IHNpblNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMocm90YSwgcm90YSwgcm90YSk7XG4gICAgY2hpbGQuc2NhbGUuY29weShzaW5TY2FsZSk7XG4gICAgY2hpbGQucm90YXRpb24ueiA9IChyb3RhICogTWF0aC5QSSk7XG4gICAgY2hpbGQucm90YXRpb24ueCA9IHJvdGEgKiBNYXRoLlBJICogMC41O1xuICAgIGNvbnN0IG9sZFBvcyA9IG5ldyBUSFJFRS5WZWN0b3IzKDEsIC0xLCAtMSk7XG4gICAgY2hpbGQucG9zaXRpb24uY29weShvbGRQb3MubGVycChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSwgTWF0aC5jbGFtcCgoMSAtIGFic1NpblRpbWUpICogNiwgMCwgMSkpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW5baV07XG4gICAgICBjb25zdCByb3RhID0gTWF0aC5jbGFtcCgoKE1hdGguY2xhbXAoKCgxIC0gYWJzU2luVGltZSkgKiAoTWF0aC5QSSAqIDAuNSkgKyAoaSAqIDAuMTI1KSksIDAsIDEpKSAtXG4gICAgICAgIGFic0Nvc1RpbWUpLCAwLCAxKTtcbiAgICAgIGNvbnN0IHNpblNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMocm90YSwgcm90YSwgcm90YSk7XG4gICAgICBjaGlsZC5zY2FsZS5jb3B5KHNpblNjYWxlKTtcbiAgICAgIGNoaWxkLnJvdGF0aW9uLnogPSAocm90YSAqIE1hdGguUEkpO1xuICAgICAgY2hpbGQucm90YXRpb24ueCA9IHJvdGEgKiBNYXRoLlBJICogMC41O1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==