(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{16:function(t,e,o){"use strict";o.d(e,"a",function(){return r});var n=o(15);var r=function t(e){var o=e.size,r=void 0===o?5:o,a=e.material,i=e.position;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.seed=Math.random();var c=1,s=1,u=1;this.color=new n.Color,this.color.setRGB(c,s,u),this.material=a||new n.MeshBasicMaterial({color:this.color}),this.geometry=new n.BoxGeometry(r,r,r),this.mesh=new n.Mesh(this.geometry,this.material),i&&this.mesh.position.copy(i),this.root=this.mesh}},7:function(t,e,o){"use strict";o.r(e);var n=o(15);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=a(this,i(e).call(this));var o=new n.HemisphereLight(16777215,16777215,1.5);return o.color.setHSL(u(250),.9,.94),o.groundColor.setHSL(u(250),.9,.44),o.position.set(0,2,0),t.add(o),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n["Group"]),e}();function u(t){return t/360}var h=o(16);function l(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o.d(e,"default",function(){return p});var p=function(){function t(e){var o=e.scene,r=e.onLoad;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=new n.Color;a.setIntHSL(48,90,64),o.renderer.setClearColor(a);var i=o.camera.aspect;o.camera=new n.OrthographicCamera(10*i/-2,10*i/2,5,-5,1,150),o.camera.position.copy(new n.Vector3(-10,10,10)),o.camera.lookAt(new n.Vector3(0,0,0)),this.root=new n.Group;var c=new s;this.root.add(c);var u=new n.MeshStandardMaterial({color:16777215,metalness:.4,roughness:.2});this.cubes=[new h.a({size:2,material:u,position:new n.Vector3(-1,1,1)}),new h.a({size:2,material:u,position:new n.Vector3(1,1,1)}),new h.a({size:2,material:u,position:new n.Vector3(-1,1,-1)}),new h.a({size:2,material:u,position:new n.Vector3(1,1,-1)}),new h.a({size:2,material:u,position:new n.Vector3(-1,-1,1)}),new h.a({size:2,material:u,position:new n.Vector3(1,-1,1)}),new h.a({size:2,material:u,position:new n.Vector3(-1,-1,-1)}),new h.a({size:2,material:u,position:new n.Vector3(1,-1,-1)})],this.cubesParent=new n.Group;var l=!0,p=!1,f=void 0;try{for(var w,y=this.cubes[Symbol.iterator]();!(l=(w=y.next()).done);l=!0){var b=w.value;this.cubesParent.add(b.root)}}catch(t){p=!0,f=t}finally{try{l||null==y.return||y.return()}finally{if(p)throw f}}this.cubesParent.position.copy(new n.Vector3(1,-1,-1)),this.root.add(this.cubesParent),r&&r()}var e,o,r;return e=t,(o=[{key:"update",value:function(t){var e=3*t;e%(2*Math.PI)<Math.PI?this.firstSection(e):this.secondSection(e)}},{key:"firstSection",value:function(t){var e=Math.sin(.5*t),o=Math.abs(e);this.cubesParent.children[7].position.copy(new n.Vector3(1,-1,-1));for(var r=0;r<this.cubesParent.children.length;r++){var a=this.cubesParent.children[r],i=Math.clamp((1-o)*(.5*Math.PI)+.125*r,0,1),c=new n.Vector3(i,i,i);a.scale.copy(c),a.rotation.z=i*Math.PI,a.rotation.x=i*Math.PI*.5}}},{key:"secondSection",value:function(t){var e=Math.sin(.5*t),o=Math.abs(e),r=Math.cos(.5*t),a=Math.abs(r),i=this.cubesParent.children[7],c=Math.clamp((1-o)*(.5*Math.PI)+.875+a,0,2),s=new n.Vector3(c,c,c);i.scale.copy(s),i.rotation.z=c*Math.PI,i.rotation.x=c*Math.PI*.5;var u=new n.Vector3(1,-1,-1);i.position.copy(u.lerp(new n.Vector3(0,0,0),Math.clamp(6*(1-o),0,1)));for(var h=0;h<this.cubesParent.children.length-1;h++){var l=this.cubesParent.children[h],p=Math.clamp(Math.clamp((1-o)*(.5*Math.PI)+.125*h,0,1)-a,0,1),f=new n.Vector3(p,p,p);l.scale.copy(f),l.rotation.z=p*Math.PI,l.rotation.x=p*Math.PI*.5}}}])&&l(e.prototype,o),r&&l(e,r),t}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9CbHVlUGFydHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL0N1YmVMb29wLmpzIl0sIm5hbWVzIjpbIkJhc2ljQ3ViZSIsIl9yZWYiLCJfcmVmJHNpemUiLCJzaXplIiwibWF0ZXJpYWwiLCJwb3NpdGlvbiIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJzZWVkIiwiTWF0aCIsInJhbmRvbSIsImNvbG9yIiwiVEhSRUUiLCJzZXRSR0IiLCJnZW9tZXRyeSIsIm1lc2giLCJjb3B5Iiwicm9vdCIsIkxpZ3RocyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfZ2V0UHJvdG90eXBlT2YiLCJjYWxsIiwiaGVtaUxpZ2h0Iiwic2V0SFNMIiwiTm9ybWFsaXplSCIsImdyb3VuZENvbG9yIiwic2V0IiwiYWRkIiwiaCIsIkN1YmVMb29wIiwic2NlbmUiLCJvbkxvYWQiLCJDdWJlTG9vcF9jbGFzc0NhbGxDaGVjayIsImNsZWFyQ29sb3IiLCJzZXRJbnRIU0wiLCJyZW5kZXJlciIsInNldENsZWFyQ29sb3IiLCJhc3BlY3QiLCJjYW1lcmEiLCJmcnVzdHVtU2l6ZSIsImxvb2tBdCIsImxpZ2h0cyIsIkxpZ2h0cyIsImN1YmVNYXQiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJjdWJlcyIsImN1YmVzUGFyZW50IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJjdWJlIiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJ0aW1lRWxhcHNlZCIsImFuaW1hdGlvblRpbWUiLCJQSSIsImZpcnN0U2VjdGlvbiIsInNlY29uZFNlY3Rpb24iLCJzaW5UaW1lIiwic2luIiwiYWJzU2luVGltZSIsImFicyIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImNoaWxkIiwicm90YSIsImNsYW1wIiwic2luU2NhbGUiLCJzY2FsZSIsInJvdGF0aW9uIiwieiIsIngiLCJjb3NUaW1lIiwiY29zIiwiYWJzQ29zVGltZSIsIm9sZFBvcyIsImxlcnAiXSwibWFwcGluZ3MiOiJ5SUFFcUJBLEVBQ25CLFNBQUFBLEVBQUFDLEdBQTRDLElBQUFDLEVBQUFELEVBQS9CRSxZQUErQixJQUFBRCxFQUF4QixFQUF3QkEsRUFBckJFLEVBQXFCSCxFQUFyQkcsU0FBVUMsRUFBV0osRUFBWEksc0dBQVdDLENBQUFDLEtBQUFQLEdBQzFDTyxLQUFLQyxLQUFPQyxLQUFLQyxTQUNqQixJQUFNQyxFQUFXLEVBQVhBLEVBQWdCLEVBQWhCQSxFQUFxQixFQUMzQkosS0FBS0ksTUFBUSxJQUFJQyxRQUNqQkwsS0FBS0ksTUFBTUUsT0FBT0YsRUFBU0EsRUFBU0EsR0FFcENKLEtBQUtILFNBQVdBLEdBQVksSUFBSVEsb0JBQXdCLENBQ3RERCxNQUFPSixLQUFLSSxRQUdkSixLQUFLTyxTQUFXLElBQUlGLGNBQWtCVCxFQUFNQSxFQUFNQSxHQUVsREksS0FBS1EsS0FBTyxJQUFJSCxPQUNkTCxLQUFLTyxTQUNMUCxLQUFLSCxVQUdIQyxHQUNGRSxLQUFLUSxLQUFLVixTQUFTVyxLQUFLWCxHQUcxQkUsS0FBS1UsS0FBT1YsS0FBS1EsOHJCQ3RCQUcsY0FDbkIsU0FBQUEsSUFBYyxJQUFBQywrRkFBQWIsQ0FBQUMsS0FBQVcsR0FDWkMsRUFBQUMsRUFBQWIsS0FBQWMsRUFBQUgsR0FBQUksS0FBQWYsT0FFQSxJQUFNZ0IsRUFBWSxJQUFJWCxrQkFBdUIsU0FBVSxTQUFVLEtBSHJELE9BSWRXLEVBQVVaLE1BQU1hLE9BQ1pDLEVBQVcsS0FDWCxHQUNBLEtBRUpGLEVBQVVHLFlBQVlGLE9BQ2xCQyxFQUFXLEtBQ1gsR0FDQSxLQUVKRixFQUFVbEIsU0FBU3NCLElBQUssRUFB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RyxFQUFHLEdBQUlILEtBQUtvRSxNQUF5QixHQUFsQixFQUFJUCxHQUFpQixFQUFHLEtBQ2hHLElBQUssSUFBSUcsRUFBSSxFQUFHQSxFQUFJbEUsS0FBS3lDLFlBQVl3QixTQUFTRSxPQUFTLEVBQUdELElBQUssQ0FDN0QsSUFBTUUsRUFBUXBFLEtBQUt5QyxZQUFZd0IsU0FBU0MsR0FDbENHLEVBQU9uRSxLQUFLb0UsTUFBUXBFLEtBQUtvRSxPQUFRLEVBQUlQLElBQXlCLEdBQVY3RCxLQUFLd0QsSUFBaUIsS0FBSlEsRUFBYSxFQUFHLEdBQzFGWSxFQUFhLEVBQUcsR0FDWlAsRUFBVyxJQUFJbEUsVUFBY2dFLEVBQU1BLEVBQU1BLEdBQy9DRCxFQUFNSSxNQUFNL0QsS0FBSzhELEdBQ2pCSCxFQUFNSyxTQUFTQyxFQUFLTCxFQUFPbkUsS0FBS3dELEdBQ2hDVSxFQUFNSyxTQUFTRSxFQUFJTixFQUFPbkUsS0FBS3dELEdBQUsiLCJmaWxlIjoiLi9qcy9DdWJlTG9vcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2ljQ3ViZSB7XG4gIGNvbnN0cnVjdG9yKHtzaXplID0gNSwgbWF0ZXJpYWwsIHBvc2l0aW9ufSkge1xuICAgIHRoaXMuc2VlZCA9IE1hdGgucmFuZG9tKCk7XG4gICAgY29uc3QgY29sb3IgPSB7cjoxICxnOjEsIGI6MX07XG4gICAgdGhpcy5jb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xuICAgIHRoaXMuY29sb3Iuc2V0UkdCKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuXG4gICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsIHx8IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogdGhpcy5jb2xvclxuICAgIH0pO1xuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShzaXplLCBzaXplLCBzaXplKTtcblxuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgdGhpcy5nZW9tZXRyeSxcbiAgICAgIHRoaXMubWF0ZXJpYWxcbiAgICApO1xuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICB0aGlzLm1lc2gucG9zaXRpb24uY29weShwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5yb290ID0gdGhpcy5tZXNoO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZ3RocyBleHRlbmRzIFRIUkVFLkdyb3VwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmZmLCAweGZmZmZmZiwgMS41ICk7XG5cdFx0aGVtaUxpZ2h0LmNvbG9yLnNldEhTTChcbiAgICAgIE5vcm1hbGl6ZUgoMjUwKSxcbiAgICAgIDAuOSxcbiAgICAgIDAuOTQsXG4gICAgKTtcblx0XHRoZW1pTGlnaHQuZ3JvdW5kQ29sb3Iuc2V0SFNMKFxuICAgICAgTm9ybWFsaXplSCgyNTApLFxuICAgICAgMC45LFxuICAgICAgMC40NCxcbiAgICApO1xuXHRcdGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDIsIDAgKTtcblx0XHR0aGlzLmFkZCggaGVtaUxpZ2h0ICk7XG5cdH1cbn1cblx0XG5mdW5jdGlvbiBOb3JtYWxpemVIKGgpIHtcblx0cmV0dXJuIGgvMzYwLjA7XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgTGlnaHRzIGZyb20gJy4uL0xpZ2h0cy9CbHVlUGFydHkuanMnO1xuaW1wb3J0IEJhc2ljQ3ViZSBmcm9tICcuLi9PYmplY3RzL0Jhc2ljQ3ViZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmVMb29wIHtcbiAgY29uc3RydWN0b3Ioe3NjZW5lLCBvbkxvYWR9KSB7XG4gICAgY29uc3QgY2xlYXJDb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xuICAgIGNsZWFyQ29sb3Iuc2V0SW50SFNMKDQ4LCA5MCwgNjQpO1xuICAgIHNjZW5lLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoY2xlYXJDb2xvcik7XG5cbiAgICBjb25zdCBmcnVzdHVtU2l6ZSA9IDEwO1xuICAgIGNvbnN0IGFzcGVjdCA9IHNjZW5lLmNhbWVyYS5hc3BlY3Q7XG5cbiAgICBzY2VuZS5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgICBmcnVzdHVtU2l6ZSAqIGFzcGVjdCAvIC0gMixcbiAgICAgICAgZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAyLFxuICAgICAgICBmcnVzdHVtU2l6ZSAvIDIsXG4gICAgICAgIGZydXN0dW1TaXplIC8gLSAyLFxuICAgICAgICAxLFxuICAgICAgICAxNTBcbiAgICApO1xuICAgIHNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKC0xMCwgMTAsIDEwKSk7XG4gICAgc2NlbmUuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XG5cbiAgICB0aGlzLnJvb3QgPSBuZXcgVEhSRUUuR3JvdXAoKTtcblxuICAgIGNvbnN0IGxpZ2h0cyA9IG5ldyBMaWdodHMoKTtcbiAgICB0aGlzLnJvb3QuYWRkKGxpZ2h0cyk7XG5cblx0XHRjb25zdCBjdWJlTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcblx0XHRcdGNvbG9yOiAweGZmZmZmZixcblx0XHRcdG1ldGFsbmVzczogMC40LFxuXHRcdFx0cm91Z2huZXNzOiAwLjIsXG5cdFx0fSk7XG5cbiAgICB0aGlzLmN1YmVzID0gW1xuICAgICAgbmV3IEJhc2ljQ3ViZSh7XG4gICAgICAgIHNpemU6IDIsXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxuICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoLTEsIDEsIDEpXG4gICAgICB9KSxcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDEsIDEsIDEpXG4gICAgICB9KSxcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAxLCAtMSlcbiAgICAgIH0pLFxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XG4gICAgICAgIHNpemU6IDIsXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxuICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoMSwgMSwgLTEpXG4gICAgICB9KSxcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAtMSwgMSlcbiAgICAgIH0pLFxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XG4gICAgICAgIHNpemU6IDIsXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxuICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoMSwgLTEsIDEpXG4gICAgICB9KSxcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAtMSwgLTEpXG4gICAgICB9KSxcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xuICAgICAgICBzaXplOiAyLFxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDEsIC0xLCAtMSlcbiAgICAgIH0pXTtcblxuICAgIHRoaXMuY3ViZXNQYXJlbnQgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICBmb3IgKGxldCBjdWJlIG9mIHRoaXMuY3ViZXMpIHtcbiAgICAgIHRoaXMuY3ViZXNQYXJlbnQuYWRkKGN1YmUucm9vdCk7XG4gICAgfVxuICAgIHRoaXMuY3ViZXNQYXJlbnQucG9zaXRpb24uY29weShuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgLTEpKTtcbiAgICB0aGlzLnJvb3QuYWRkKHRoaXMuY3ViZXNQYXJlbnQpO1xuXG4gICAgaWYgKG9uTG9hZCkgb25Mb2FkKCk7XG4gIH1cblxuICB1cGRhdGUodGltZUVsYXBzZWQpIHtcbiAgICBjb25zdCBhbmltYXRpb25UaW1lID0gdGltZUVsYXBzZWQgKiAzO1xuICAgIGNvbnN0IGxvb3BUaW1lID0gYW5pbWF0aW9uVGltZSAlIChNYXRoLlBJICogMik7XG5cbiAgICBpZiAobG9vcFRpbWUgPCBNYXRoLlBJKSB7XG4gICAgICB0aGlzLmZpcnN0U2VjdGlvbihhbmltYXRpb25UaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWNvbmRTZWN0aW9uKGFuaW1hdGlvblRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZpcnN0U2VjdGlvbihhbmltYXRpb25UaW1lKSB7XG4gICAgY29uc3Qgc2luVGltZSA9IE1hdGguc2luKGFuaW1hdGlvblRpbWUgKiAwLjUpO1xuICAgIGNvbnN0IGFic1NpblRpbWUgPSBNYXRoLmFicyhzaW5UaW1lKTtcblxuICAgIHRoaXMuY3ViZXNQYXJlbnRcbiAgICAgIC5jaGlsZHJlbls3XVxuICAgICAgLnBvc2l0aW9uXG4gICAgICAuY29weShuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgLTEpKTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IHJvdGEgPSAoTWF0aC5jbGFtcCgoKDEgLSBhYnNTaW5UaW1lKSAqIChNYXRoLlBJICogMC41KSArIChpICogMC4xMjUpKSwgMCwgMSkpO1xuICAgICAgY29uc3Qgc2luU2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMyhyb3RhLCByb3RhLCByb3RhKTtcbiAgICAgIGNoaWxkLnNjYWxlLmNvcHkoc2luU2NhbGUpO1xuICAgICAgY2hpbGQucm90YXRpb24ueiA9IChyb3RhICogTWF0aC5QSSk7XG4gICAgICBjaGlsZC5yb3RhdGlvbi54ID0gcm90YSAqIE1hdGguUEkgKiAwLjU7XG4gICAgfVxuICB9XG5cbiAgc2Vjb25kU2VjdGlvbihhbmltYXRpb25UaW1lKSB7XG4gICAgY29uc3Qgc2luVGltZSA9IE1hdGguc2luKGFuaW1hdGlvblRpbWUgKiAwLjUpO1xuICAgIGNvbnN0IGFic1NpblRpbWUgPSBNYXRoLmFicyhzaW5UaW1lKTtcblxuICAgIGNvbnN0IGNvc1RpbWUgPSBNYXRoLmNvcyhhbmltYXRpb25UaW1lICogMC41KTtcbiAgICBjb25zdCBhYnNDb3NUaW1lID0gTWF0aC5hYnMoY29zVGltZSk7XG5cbiAgICBjb25zdCBjaGlsZCA9IHRoaXMuY3ViZXNQYXJlbnQuY2hpbGRyZW5bN107XG4gICAgY29uc3Qgcm90YSA9IChNYXRoLmNsYW1wKCgoMSAtIGFic1NpblRpbWUpICogKE1hdGguUEkgKiAwLjUpICsgKDcgKiAwLjEyNSkpICsgKGFic0Nvc1RpbWUpLCAwLCAyKSk7XG4gICAgY29uc3Qgc2luU2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMyhyb3RhLCByb3RhLCByb3RhKTtcbiAgICBjaGlsZC5zY2FsZS5jb3B5KHNpblNjYWxlKTtcbiAgICBjaGlsZC5yb3RhdGlvbi56ID0gKHJvdGEgKiBNYXRoLlBJKTtcbiAgICBjaGlsZC5yb3RhdGlvbi54ID0gcm90YSAqIE1hdGguUEkgKiAwLjU7XG4gICAgY29uc3Qgb2xkUG9zID0gbmV3IFRIUkVFLlZlY3RvcjMoMSwgLTEsIC0xKTtcbiAgICBjaGlsZC5wb3NpdGlvbi5jb3B5KG9sZFBvcy5sZXJwKG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApLCBNYXRoLmNsYW1wKCgxIC0gYWJzU2luVGltZSkgKiA2LCAwLCAxKSkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IHJvdGEgPSBNYXRoLmNsYW1wKCgoTWF0aC5jbGFtcCgoKDEgLSBhYnNTaW5UaW1lKSAqIChNYXRoLlBJICogMC41KSArIChpICogMC4xMjUpKSwgMCwgMSkpIC1cbiAgICAgICAgYWJzQ29zVGltZSksIDAsIDEpO1xuICAgICAgY29uc3Qgc2luU2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMyhyb3RhLCByb3RhLCByb3RhKTtcbiAgICAgIGNoaWxkLnNjYWxlLmNvcHkoc2luU2NhbGUpO1xuICAgICAgY2hpbGQucm90YXRpb24ueiA9IChyb3RhICogTWF0aC5QSSk7XG4gICAgICBjaGlsZC5yb3RhdGlvbi54ID0gcm90YSAqIE1hdGguUEkgKiAwLjU7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9