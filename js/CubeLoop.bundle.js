(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{14:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(13);var o=function t(e){var n=e.size,o=void 0===n?5:n,a=e.material,i=e.position;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.seed=Math.random();var s=1,c=1,u=1;this.color=new r.d,this.color.setRGB(s,c,u),this.material=a||new r.k({color:this.color}),this.geometry=new r.b(o,o,o),this.mesh=new r.j(this.geometry,this.material),i&&this.mesh.position.copy(i),this.root=this.mesh}},5:function(t,e,n){"use strict";n.r(e);var r=n(13);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=a(this,i(e).call(this));var n=new r.i(16777215,16777215,1.5);return n.color.setHSL(u(250),.9,.94),n.groundColor.setHSL(u(250),.9,.44),n.position.set(0,2,0),t.add(n),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["h"]),e}();function u(t){return t/360}var l=n(14);function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"default",function(){return f});var f=function(){function t(e){var n=e.scene,o=e.onLoad;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=new r.d;a.setIntHSL(48,90,64),n.renderer.setClearColor(a);var i=n.camera.aspect;n.camera=new r.m(10*i/-2,10*i/2,5,-5,1,150),n.camera.position.copy(new r.r(-10,10,10)),n.camera.lookAt(new r.r(0,0,0)),this.root=new r.h;var s=new c;this.root.add(s);var u=new r.l({color:16777215,metalness:.4,roughness:.2});this.cubes=[new l.a({size:2,material:u,position:new r.r(-1,1,1)}),new l.a({size:2,material:u,position:new r.r(1,1,1)}),new l.a({size:2,material:u,position:new r.r(-1,1,-1)}),new l.a({size:2,material:u,position:new r.r(1,1,-1)}),new l.a({size:2,material:u,position:new r.r(-1,-1,1)}),new l.a({size:2,material:u,position:new r.r(1,-1,1)}),new l.a({size:2,material:u,position:new r.r(-1,-1,-1)}),new l.a({size:2,material:u,position:new r.r(1,-1,-1)})],this.cubesParent=new r.h;var h=!0,f=!1,p=void 0;try{for(var w,y=this.cubes[Symbol.iterator]();!(h=(w=y.next()).done);h=!0){var b=w.value;this.cubesParent.add(b.root)}}catch(t){f=!0,p=t}finally{try{h||null==y.return||y.return()}finally{if(f)throw p}}this.cubesParent.position.copy(new r.r(1,-1,-1)),this.root.add(this.cubesParent),o&&o()}var e,n,o;return e=t,(n=[{key:"update",value:function(t){var e=3*t;e%(2*Math.PI)<Math.PI?this.firstSection(e):this.secondSection(e)}},{key:"firstSection",value:function(t){var e=Math.sin(.5*t),n=Math.abs(e);this.cubesParent.children[7].position.copy(new r.r(1,-1,-1));for(var o=0;o<this.cubesParent.children.length;o++){var a=this.cubesParent.children[o],i=Math.clamp((1-n)*(.5*Math.PI)+.125*o,0,1),s=new r.r(i,i,i);a.scale.copy(s),a.rotation.z=i*Math.PI,a.rotation.x=i*Math.PI*.5}}},{key:"secondSection",value:function(t){var e=Math.sin(.5*t),n=Math.abs(e),o=Math.cos(.5*t),a=Math.abs(o),i=this.cubesParent.children[7],s=Math.clamp((1-n)*(.5*Math.PI)+.875+a,0,2),c=new r.r(s,s,s);i.scale.copy(c),i.rotation.z=s*Math.PI,i.rotation.x=s*Math.PI*.5;var u=new r.r(1,-1,-1);i.position.copy(u.lerp(new r.r(0,0,0),Math.clamp(6*(1-n),0,1)));for(var l=0;l<this.cubesParent.children.length-1;l++){var h=this.cubesParent.children[l],f=Math.clamp(Math.clamp((1-n)*(.5*Math.PI)+.125*l,0,1)-a,0,1),p=new r.r(f,f,f);h.scale.copy(p),h.rotation.z=f*Math.PI,h.rotation.x=f*Math.PI*.5}}}])&&h(e.prototype,n),o&&h(e,o),t}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JqZWN0cy9CYXNpY0N1YmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpZ2h0cy9CbHVlUGFydHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xvb3BzL0N1YmVMb29wLmpzIl0sIm5hbWVzIjpbIkJhc2ljQ3ViZSIsIl9yZWYiLCJfcmVmJHNpemUiLCJzaXplIiwibWF0ZXJpYWwiLCJwb3NpdGlvbiIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJzZWVkIiwiTWF0aCIsInJhbmRvbSIsImNvbG9yIiwiVEhSRUUiLCJzZXRSR0IiLCJnZW9tZXRyeSIsIm1lc2giLCJjb3B5Iiwicm9vdCIsIkxpZ3RocyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfZ2V0UHJvdG90eXBlT2YiLCJjYWxsIiwiaGVtaUxpZ2h0Iiwic2V0SFNMIiwiTm9ybWFsaXplSCIsImdyb3VuZENvbG9yIiwic2V0IiwiYWRkIiwiaCIsIkN1YmVMb29wIiwic2NlbmUiLCJvbkxvYWQiLCJDdWJlTG9vcF9jbGFzc0NhbGxDaGVjayIsImNsZWFyQ29sb3IiLCJzZXRJbnRIU0wiLCJyZW5kZXJlciIsInNldENsZWFyQ29sb3IiLCJhc3BlY3QiLCJjYW1lcmEiLCJmcnVzdHVtU2l6ZSIsImxvb2tBdCIsImxpZ2h0cyIsIkxpZ2h0cyIsImN1YmVNYXQiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJjdWJlcyIsImN1YmVzUGFyZW50IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJjdWJlIiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJ0aW1lRWxhcHNlZCIsImFuaW1hdGlvblRpbWUiLCJQSSIsImZpcnN0U2VjdGlvbiIsInNlY29uZFNlY3Rpb24iLCJzaW5UaW1lIiwic2luIiwiYWJzU2luVGltZSIsImFicyIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImNoaWxkIiwicm90YSIsImNsYW1wIiwic2luU2NhbGUiLCJzY2FsZSIsInJvdGF0aW9uIiwieiIsIngiLCJjb3NUaW1lIiwiY29zIiwiYWJzQ29zVGltZSIsIm9sZFBvcyIsImxlcnAiXSwibWFwcGluZ3MiOiJ5SUFFcUJBLEVBQ25CLFNBQUFBLEVBQUFDLEdBQTRDLElBQUFDLEVBQUFELEVBQS9CRSxZQUErQixJQUFBRCxFQUF4QixFQUF3QkEsRUFBckJFLEVBQXFCSCxFQUFyQkcsU0FBVUMsRUFBV0osRUFBWEksc0dBQVdDLENBQUFDLEtBQUFQLEdBQzFDTyxLQUFLQyxLQUFPQyxLQUFLQyxTQUNqQixJQUFNQyxFQUFXLEVBQVhBLEVBQWdCLEVBQWhCQSxFQUFxQixFQUMzQkosS0FBS0ksTUFBUSxJQUFJQyxJQUNqQkwsS0FBS0ksTUFBTUUsT0FBT0YsRUFBU0EsRUFBU0EsR0FFcENKLEtBQUtILFNBQVdBLEdBQVksSUFBSVEsSUFBd0IsQ0FDdERELE1BQU9KLEtBQUtJLFFBR2RKLEtBQUtPLFNBQVcsSUFBSUYsSUFBa0JULEVBQU1BLEVBQU1BLEdBRWxESSxLQUFLUSxLQUFPLElBQUlILElBQ2RMLEtBQUtPLFNBQ0xQLEtBQUtILFVBR0hDLEdBQ0ZFLEtBQUtRLEtBQUtWLFNBQVNXLEtBQUtYLEdBRzFCRSxLQUFLVSxLQUFPVixLQUFLUSw4ckJDdEJBRyxjQUNuQixTQUFBQSxJQUFjLElBQUFDLCtGQUFBYixDQUFBQyxLQUFBVyxHQUNaQyxFQUFBQyxFQUFBYixLQUFBYyxFQUFBSCxHQUFBSSxLQUFBZixPQUVBLElBQU1nQixFQUFZLElBQUlYLElBQXVCLFNBQVUsU0FBVSxLQUhyRCxPQUlkVyxFQUFVWixNQUFNYSxPQUNaQyxFQUFXLEtBQ1gsR0FDQSxLQUVKRixFQUFVRyxZQUFZRixPQUNsQkMsRUFBVyxLQUNYLEdBQ0EsS0FFSkYsRUFBVWxCLFNBQVNzQixJQUFLLEVBQUcs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RyxHQUFJSCxLQUFLb0UsTUFBeUIsR0FBbEIsRUFBSVAsR0FBaUIsRUFBRyxLQUNoRyxJQUFLLElBQUlHLEVBQUksRUFBR0EsRUFBSWxFLEtBQUt5QyxZQUFZd0IsU0FBU0UsT0FBUyxFQUFHRCxJQUFLLENBQzdELElBQU1FLEVBQVFwRSxLQUFLeUMsWUFBWXdCLFNBQVNDLEdBQ2xDRyxFQUFPbkUsS0FBS29FLE1BQVFwRSxLQUFLb0UsT0FBUSxFQUFJUCxJQUF5QixHQUFWN0QsS0FBS3dELElBQWlCLEtBQUpRLEVBQWEsRUFBRyxHQUMxRlksRUFBYSxFQUFHLEdBQ1pQLEVBQVcsSUFBSWxFLElBQWNnRSxFQUFNQSxFQUFNQSxHQUMvQ0QsRUFBTUksTUFBTS9ELEtBQUs4RCxHQUNqQkgsRUFBTUssU0FBU0MsRUFBS0wsRUFBT25FLEtBQUt3RCxHQUNoQ1UsRUFBTUssU0FBU0UsRUFBSU4sRUFBT25FLEtBQUt3RCxHQUFLIiwiZmlsZSI6Ii4vanMvQ3ViZUxvb3AuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzaWNDdWJlIHtcclxuICBjb25zdHJ1Y3Rvcih7c2l6ZSA9IDUsIG1hdGVyaWFsLCBwb3NpdGlvbn0pIHtcclxuICAgIHRoaXMuc2VlZCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICBjb25zdCBjb2xvciA9IHtyOjEgLGc6MSwgYjoxfTtcclxuICAgIHRoaXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcclxuICAgIHRoaXMuY29sb3Iuc2V0UkdCKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xyXG5cclxuICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRlcmlhbCB8fCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogdGhpcy5jb2xvclxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShzaXplLCBzaXplLCBzaXplKTtcclxuXHJcbiAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaChcclxuICAgICAgdGhpcy5nZW9tZXRyeSxcclxuICAgICAgdGhpcy5tYXRlcmlhbFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucm9vdCA9IHRoaXMubWVzaDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlndGhzIGV4dGVuZHMgVEhSRUUuR3JvdXAge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBjb25zdCBoZW1pTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZmZiwgMHhmZmZmZmYsIDEuNSApO1xyXG5cdFx0aGVtaUxpZ2h0LmNvbG9yLnNldEhTTChcclxuICAgICAgTm9ybWFsaXplSCgyNTApLFxyXG4gICAgICAwLjksXHJcbiAgICAgIDAuOTQsXHJcbiAgICApO1xyXG5cdFx0aGVtaUxpZ2h0Lmdyb3VuZENvbG9yLnNldEhTTChcclxuICAgICAgTm9ybWFsaXplSCgyNTApLFxyXG4gICAgICAwLjksXHJcbiAgICAgIDAuNDQsXHJcbiAgICApO1xyXG5cdFx0aGVtaUxpZ2h0LnBvc2l0aW9uLnNldCggMCwgMiwgMCApO1xyXG5cdFx0dGhpcy5hZGQoIGhlbWlMaWdodCApO1xyXG5cdH1cclxufVxyXG5cdFxyXG5mdW5jdGlvbiBOb3JtYWxpemVIKGgpIHtcclxuXHRyZXR1cm4gaC8zNjAuMDtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCBMaWdodHMgZnJvbSAnLi4vTGlnaHRzL0JsdWVQYXJ0eS5qcyc7XHJcbmltcG9ydCBCYXNpY0N1YmUgZnJvbSAnLi4vT2JqZWN0cy9CYXNpY0N1YmUuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3ViZUxvb3Age1xyXG4gIGNvbnN0cnVjdG9yKHtzY2VuZSwgb25Mb2FkfSkge1xyXG4gICAgY29uc3QgY2xlYXJDb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xyXG4gICAgY2xlYXJDb2xvci5zZXRJbnRIU0woNDgsIDkwLCA2NCk7XHJcbiAgICBzY2VuZS5yZW5kZXJlci5zZXRDbGVhckNvbG9yKGNsZWFyQ29sb3IpO1xyXG5cclxuICAgIGNvbnN0IGZydXN0dW1TaXplID0gMTA7XHJcbiAgICBjb25zdCBhc3BlY3QgPSBzY2VuZS5jYW1lcmEuYXNwZWN0O1xyXG5cclxuICAgIHNjZW5lLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoXHJcbiAgICAgICAgZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAtIDIsXHJcbiAgICAgICAgZnJ1c3R1bVNpemUgKiBhc3BlY3QgLyAyLFxyXG4gICAgICAgIGZydXN0dW1TaXplIC8gMixcclxuICAgICAgICBmcnVzdHVtU2l6ZSAvIC0gMixcclxuICAgICAgICAxLFxyXG4gICAgICAgIDE1MFxyXG4gICAgKTtcclxuICAgIHNjZW5lLmNhbWVyYS5wb3NpdGlvbi5jb3B5KG5ldyBUSFJFRS5WZWN0b3IzKC0xMCwgMTAsIDEwKSk7XHJcbiAgICBzY2VuZS5jYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApKTtcclxuXHJcbiAgICB0aGlzLnJvb3QgPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuXHJcbiAgICBjb25zdCBsaWdodHMgPSBuZXcgTGlnaHRzKCk7XHJcbiAgICB0aGlzLnJvb3QuYWRkKGxpZ2h0cyk7XHJcblxyXG5cdFx0Y29uc3QgY3ViZU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcblx0XHRcdGNvbG9yOiAweGZmZmZmZixcclxuXHRcdFx0bWV0YWxuZXNzOiAwLjQsXHJcblx0XHRcdHJvdWdobmVzczogMC4yLFxyXG5cdFx0fSk7XHJcblxyXG4gICAgdGhpcy5jdWJlcyA9IFtcclxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgc2l6ZTogMixcclxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcclxuICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoLTEsIDEsIDEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygxLCAxLCAxKVxyXG4gICAgICB9KSxcclxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgc2l6ZTogMixcclxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcclxuICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoLTEsIDEsIC0xKVxyXG4gICAgICB9KSxcclxuICAgICAgbmV3IEJhc2ljQ3ViZSh7XHJcbiAgICAgICAgc2l6ZTogMixcclxuICAgICAgICBtYXRlcmlhbDogY3ViZU1hdCxcclxuICAgICAgICBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoMSwgMSwgLTEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygtMSwgLTEsIDEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgMSlcclxuICAgICAgfSksXHJcbiAgICAgIG5ldyBCYXNpY0N1YmUoe1xyXG4gICAgICAgIHNpemU6IDIsXHJcbiAgICAgICAgbWF0ZXJpYWw6IGN1YmVNYXQsXHJcbiAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAtMSwgLTEpXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgQmFzaWNDdWJlKHtcclxuICAgICAgICBzaXplOiAyLFxyXG4gICAgICAgIG1hdGVyaWFsOiBjdWJlTWF0LFxyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgLTEpXHJcbiAgICAgIH0pXTtcclxuXHJcbiAgICB0aGlzLmN1YmVzUGFyZW50ID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgICBmb3IgKGxldCBjdWJlIG9mIHRoaXMuY3ViZXMpIHtcclxuICAgICAgdGhpcy5jdWJlc1BhcmVudC5hZGQoY3ViZS5yb290KTtcclxuICAgIH1cclxuICAgIHRoaXMuY3ViZXNQYXJlbnQucG9zaXRpb24uY29weShuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgLTEpKTtcclxuICAgIHRoaXMucm9vdC5hZGQodGhpcy5jdWJlc1BhcmVudCk7XHJcblxyXG4gICAgaWYgKG9uTG9hZCkgb25Mb2FkKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUodGltZUVsYXBzZWQpIHtcclxuICAgIGNvbnN0IGFuaW1hdGlvblRpbWUgPSB0aW1lRWxhcHNlZCAqIDM7XHJcbiAgICBjb25zdCBsb29wVGltZSA9IGFuaW1hdGlvblRpbWUgJSAoTWF0aC5QSSAqIDIpO1xyXG5cclxuICAgIGlmIChsb29wVGltZSA8IE1hdGguUEkpIHtcclxuICAgICAgdGhpcy5maXJzdFNlY3Rpb24oYW5pbWF0aW9uVGltZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlY29uZFNlY3Rpb24oYW5pbWF0aW9uVGltZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaXJzdFNlY3Rpb24oYW5pbWF0aW9uVGltZSkge1xyXG4gICAgY29uc3Qgc2luVGltZSA9IE1hdGguc2luKGFuaW1hdGlvblRpbWUgKiAwLjUpO1xyXG4gICAgY29uc3QgYWJzU2luVGltZSA9IE1hdGguYWJzKHNpblRpbWUpO1xyXG5cclxuICAgIHRoaXMuY3ViZXNQYXJlbnRcclxuICAgICAgLmNoaWxkcmVuWzddXHJcbiAgICAgIC5wb3NpdGlvblxyXG4gICAgICAuY29weShuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgLTEpKTtcclxuICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbltpXTtcclxuICAgICAgY29uc3Qgcm90YSA9IChNYXRoLmNsYW1wKCgoMSAtIGFic1NpblRpbWUpICogKE1hdGguUEkgKiAwLjUpICsgKGkgKiAwLjEyNSkpLCAwLCAxKSk7XHJcbiAgICAgIGNvbnN0IHNpblNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMocm90YSwgcm90YSwgcm90YSk7XHJcbiAgICAgIGNoaWxkLnNjYWxlLmNvcHkoc2luU2NhbGUpO1xyXG4gICAgICBjaGlsZC5yb3RhdGlvbi56ID0gKHJvdGEgKiBNYXRoLlBJKTtcclxuICAgICAgY2hpbGQucm90YXRpb24ueCA9IHJvdGEgKiBNYXRoLlBJICogMC41O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2Vjb25kU2VjdGlvbihhbmltYXRpb25UaW1lKSB7XHJcbiAgICBjb25zdCBzaW5UaW1lID0gTWF0aC5zaW4oYW5pbWF0aW9uVGltZSAqIDAuNSk7XHJcbiAgICBjb25zdCBhYnNTaW5UaW1lID0gTWF0aC5hYnMoc2luVGltZSk7XHJcblxyXG4gICAgY29uc3QgY29zVGltZSA9IE1hdGguY29zKGFuaW1hdGlvblRpbWUgKiAwLjUpO1xyXG4gICAgY29uc3QgYWJzQ29zVGltZSA9IE1hdGguYWJzKGNvc1RpbWUpO1xyXG5cclxuICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbls3XTtcclxuICAgIGNvbnN0IHJvdGEgPSAoTWF0aC5jbGFtcCgoKDEgLSBhYnNTaW5UaW1lKSAqIChNYXRoLlBJICogMC41KSArICg3ICogMC4xMjUpKSArIChhYnNDb3NUaW1lKSwgMCwgMikpO1xyXG4gICAgY29uc3Qgc2luU2NhbGUgPSBuZXcgVEhSRUUuVmVjdG9yMyhyb3RhLCByb3RhLCByb3RhKTtcclxuICAgIGNoaWxkLnNjYWxlLmNvcHkoc2luU2NhbGUpO1xyXG4gICAgY2hpbGQucm90YXRpb24ueiA9IChyb3RhICogTWF0aC5QSSk7XHJcbiAgICBjaGlsZC5yb3RhdGlvbi54ID0gcm90YSAqIE1hdGguUEkgKiAwLjU7XHJcbiAgICBjb25zdCBvbGRQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMygxLCAtMSwgLTEpO1xyXG4gICAgY2hpbGQucG9zaXRpb24uY29weShvbGRQb3MubGVycChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSwgTWF0aC5jbGFtcCgoMSAtIGFic1NpblRpbWUpICogNiwgMCwgMSkpKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdWJlc1BhcmVudC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmN1YmVzUGFyZW50LmNoaWxkcmVuW2ldO1xyXG4gICAgICBjb25zdCByb3RhID0gTWF0aC5jbGFtcCgoKE1hdGguY2xhbXAoKCgxIC0gYWJzU2luVGltZSkgKiAoTWF0aC5QSSAqIDAuNSkgKyAoaSAqIDAuMTI1KSksIDAsIDEpKSAtXHJcbiAgICAgICAgYWJzQ29zVGltZSksIDAsIDEpO1xyXG4gICAgICBjb25zdCBzaW5TY2FsZSA9IG5ldyBUSFJFRS5WZWN0b3IzKHJvdGEsIHJvdGEsIHJvdGEpO1xyXG4gICAgICBjaGlsZC5zY2FsZS5jb3B5KHNpblNjYWxlKTtcclxuICAgICAgY2hpbGQucm90YXRpb24ueiA9IChyb3RhICogTWF0aC5QSSk7XHJcbiAgICAgIGNoaWxkLnJvdGF0aW9uLnggPSByb3RhICogTWF0aC5QSSAqIDAuNTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==