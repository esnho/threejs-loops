!function(e){function n(n){for(var t,o,i=n[0],a=n[1],s=0,c=[];s<i.length;s++)o=i[s],r[o]&&c.push(r[o][0]),r[o]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);for(u&&u(n);c.length;)c.shift()()}var t={},r={5:0};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise(function(n,o){t=r[e]=[n,o]});n.push(t[2]=i);var a,s=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=function(e){return o.p+"./js/"+({0:"vendors~CubeLoop~GridLoop~SkyscrapersLoop~basic-scene",1:"CubeLoop",2:"GridLoop",3:"SkyscrapersLoop",4:"basic-scene"}[e]||e)+".bundle.js"}(e),a=function(n){u.onerror=u.onload=null,clearTimeout(c);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,t[1](a)}r[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,s.appendChild(u)}return Promise.all(n)},o.m=e,o.c=t,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=n,i=i.slice();for(var s=0;s<i.length;s++)n(i[s]);var u=a;o(o.s=5)}([function(e,n){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[t].concat(i).concat([o]).join("\n")}var a;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}},function(e,n,t){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var n={};return function(e){if(void 0===n[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}}(),u=null,c=0,l=[],f=t(8);function d(e,n){for(var t=0;t<e.length;t++){var r=e[t],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],n))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],n));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,n){for(var t=[],r={},o=0;o<e.length;o++){var i=e[o],a=n.base?i[0]+n.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):t.push(r[a]={id:a,parts:[s]})}return t}function m(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),l.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);t.insertBefore(n,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=l.indexOf(e);n>=0&&l.splice(n,1)}function v(e){var n=document.createElement("style");return e.attrs.type="text/css",b(n,e.attrs),m(e,n),n}function b(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function y(e,n){var t,r,o,i;if(n.transform&&e.css){if(!(i=n.transform(e.css)))return function(){};e.css=i}if(n.singleton){var a=c++;t=u||(u=v(n)),r=L.bind(null,t,a,!1),o=L.bind(null,t,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(n,e.attrs),m(e,n),n}(n),r=function(e,n,t){var r=t.css,o=t.sourceMap,i=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,t,n),o=function(){h(t),t.href&&URL.revokeObjectURL(t.href)}):(t=v(n),r=function(e,n){var t=n.css,r=n.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){h(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||(n.singleton=a()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=p(e,n);return d(t,n),function(e){for(var r=[],o=0;o<t.length;o++){var a=t[o];(s=i[a.id]).refs--,r.push(s)}e&&d(p(e,n),n);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}};var w,g=(w=[],function(e,n){return w[e]=n,w.filter(Boolean).join("\n")});function L(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}},,,,function(e,n,t){"use strict";t.r(n);t(6);function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(new(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.loops=[]}var n,o,i;return n=e,(o=[{key:"Init",value:function(){this.CreateMenu(),this.AddCloseRendererToMenu(),this.PopulateMenu(),this.CreateOpenMenuButton()}},{key:"CreateMenu",value:function(){this.menu=document.createElement("ul"),this.menu.setAttribute("id","menu"),this.menu.setAttribute("class","show"),document.body.appendChild(this.menu)}},{key:"AddCloseRendererToMenu",value:function(){var e=this;this.menu.appendChild(this.MenuElement("Close rendering",function(n){e.DestroyScene(),e.SelectMenuVoice(n.target)}))}},{key:"PopulateMenu",value:function(){this.loops.push(this.AddLoopButton("Cube Loop","CubeLoop.js")),this.loops.push(this.AddLoopButton("Grid Loop 0","GridLoop.js")),this.loops.push(this.AddLoopButton("Skyscrapers","SkyscrapersLoop.js"))}},{key:"AddLoopButton",value:function(e,n){var t=this,r=this.MenuElement(e,function(e){return t.StartLoop(e.target)});return r.setAttribute("loopName",n),this.menu.appendChild(r)}},{key:"MenuElement",value:function(e,n){var t=document.createElement("li");return t.innerHTML=e,t.addEventListener("click",n),t}},{key:"StartLoop",value:function(e){var n=this;this.SelectMenuVoice(e),t(9)("./"+e.getAttribute("loopname")).then(function(e){var t=e.default;n.InstantiateLoop(t)})}},{key:"SelectMenuVoice",value:function(e){var n=!0,t=!1,r=void 0;try{for(var o,i=this.menu.childNodes[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){o.value.classList.remove("selected")}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}e.classList.add("selected")}},{key:"InstantiateLoop",value:function(e){var n=this;this.DestroyScene(),Promise.all([t.e(0),t.e(4)]).then(t.bind(null,10)).then(function(t){n.basicScene=new t.default,n.basicScene.InitScene(),n.loop=new e(n.basicScene),n.basicScene.Add(n.loop)})}},{key:"CreateOpenMenuButton",value:function(){var e=this,n=document.createElement("a");n.innerHTML="&#9776",n.setAttribute("id","menu-ctrl"),n.addEventListener("click",function(){return e.ShowHideMenu()}),document.body.appendChild(n)}},{key:"ShowHideMenu",value:function(){var e=this.menu.getAttribute("class");this.menu.classList.remove(e),this.menu.offsetWidth,this.menu.classList.add("hide"===e?"show":"hide")}},{key:"DestroyScene",value:function(){this.basicScene&&(this.basicScene.Destroy(),this.basicScene=null)}}])&&r(n.prototype,o),i&&r(n,i),e}())).Init()},function(e,n,t){var r=t(7);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0};t(1)(r,o);r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(void 0)).push([e.i,"body {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n    background-color: lightgray;\r\n}\r\n\r\ncanvas {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: -10;\r\n}\r\n\r\n\r\n#menu {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100vh;\r\n    background: white;\r\n    padding: 0.5em 2em 0 1.0em;\r\n    margin: 0;\r\n    display: flex;\r\n    flex-flow: column;\r\n    font-size: 3em;\r\n    opacity: 0.7;\r\n}\r\n\r\n\r\n@media only screen \r\nand (min-device-width: 768px) \r\nand (max-device-width: 1024px)\r\nand (-webkit-min-device-pixel-ratio: 2) { \r\n    #menu {\r\n        font-size: 1.3em;\r\n    }\r\n}\r\n\r\n@media only screen  \r\nand (max-device-width: 500px)\r\nand (-webkit-min-device-pixel-ratio: 3)\r\nand (orientation: portrait) { \r\n      #menu {\r\n          font-size: 1.35em;\r\n      }\r\n  }\r\n\r\n@media only screen  \r\nand (max-device-width: 1024px)\r\nand (-webkit-min-device-pixel-ratio: 3)\r\nand (orientation: landscape) { \r\n    #menu {\r\n        font-size: 1.35em;\r\n    }\r\n}\r\n\r\n@media only screen \r\nand (min-device-width: 1025px)\r\nand (orientation: landscape) {\r\n    #menu {\r\n        font-size: 1em;\r\n    }\r\n}\r\n\r\n#menu li {\r\n    margin: 0.1em 0;\r\n    list-style: none;\r\n    font-family: monospace;\r\n    font-variant: all-small-caps;\r\n    font-size: 1.3em;\r\n    cursor: pointer;\r\n    position: relative;\r\n    display: block;\r\n    margin-bottom: 0.2em;\r\n    padding: 0.5em 0;\r\n}\r\n\r\n#menu li:hover {\r\n    text-shadow: 2px 2px gray;\r\n    left: -2px;\r\n    top: -2px;\r\n    color: lightgray;\r\n}\r\n\r\n#menu li.selected {\r\n    font-weight: bold;\r\n}\r\n\r\n#menu-ctrl {\r\n    position: absolute;\r\n    left: 0.1em;\r\n    bottom: 0.1em;\r\n    display: block;\r\n    font-size: 2.5em;\r\n    color: #f5f5f5;\r\n    text-shadow: 2px 2px #999;\r\n    cursor: pointer;\r\n    transform: translate(35%, 0) scaleX(1.4);\r\n}\r\n\r\n#menu.show {\r\n    animation-name: menu-anim;\r\n    animation-duration: 0.5s;\r\n    animation-fill-mode: forwards;\r\n    animation-direction: normal;\r\n}\r\n\r\n#menu.hide {\r\n    animation-name: menu-anim;\r\n    animation-duration: 0.5s;\r\n    animation-fill-mode: forwards;\r\n    animation-direction: reverse;\r\n}\r\n\r\n@keyframes menu-anim {\r\n    from {left: -100%}\r\n    to {left: 0vw}\r\n}",""])},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,r=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var o,i=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?t+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,n,t){var r={"./CubeLoop":[3,0,1],"./CubeLoop.js":[3,0,1],"./GridLoop":[4,0,2],"./GridLoop.js":[4,0,2],"./SkyscrapersLoop":[2,0,3],"./SkyscrapersLoop.js":[2,0,3]};function o(e){var n=r[e];return n?Promise.all(n.slice(1).map(t.e)).then(function(){var e=n[0];return t(e)}):Promise.resolve().then(function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n})}o.keys=function(){return Object.keys(r)},o.id=9,e.exports=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmNzcz9mNzNlIiwid2VicGFjazovLy8uL3NyYy9qcy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTG9vcHMgbGF6eSBeXFwuXFwvLiokIG5hbWVzcGFjZSBvYmplY3QiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiaW5zdGFsbGVkTW9kdWxlcyIsIjUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJlIiwicHJvbWlzZXMiLCJpbnN0YWxsZWRDaHVua0RhdGEiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvblNjcmlwdENvbXBsZXRlIiwiaGVhZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsInRpbWVvdXQiLCJuYyIsInNldEF0dHJpYnV0ZSIsInNyYyIsInAiLCIwIiwiMSIsIjIiLCIzIiwiNCIsImpzb25wU2NyaXB0U3JjIiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiY2h1bmsiLCJlcnJvclR5cGUiLCJ0eXBlIiwicmVhbFNyYyIsInRhcmdldCIsImVycm9yIiwiRXJyb3IiLCJyZXF1ZXN0IiwidW5kZWZpbmVkIiwic2V0VGltZW91dCIsImFwcGVuZENoaWxkIiwiYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsIm9lIiwiZXJyIiwiY29uc29sZSIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJzIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImlkIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYXRvYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInNlbGVjdG9yIiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImF0dHJzIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJBcHAiLCJfY2xhc3NDYWxsQ2hlY2siLCJsb29wcyIsIkNyZWF0ZU1lbnUiLCJBZGRDbG9zZVJlbmRlcmVyVG9NZW51IiwiUG9wdWxhdGVNZW51IiwiQ3JlYXRlT3Blbk1lbnVCdXR0b24iLCJtZW51IiwiYm9keSIsIl90aGlzIiwiTWVudUVsZW1lbnQiLCJEZXN0cm95U2NlbmUiLCJTZWxlY3RNZW51Vm9pY2UiLCJBZGRMb29wQnV0dG9uIiwidGV4dCIsImxvb3AiLCJfdGhpczIiLCJtZW51Vm9pY2UiLCJTdGFydExvb3AiLCJhY3Rpb24iLCJlbGVtZW50IiwiaW5uZXJIVE1MIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhcmdldEJ1dHRvbiIsIl90aGlzMyIsImdldEF0dHJpYnV0ZSIsInRoZW4iLCJfcmVmIiwibmV3bG9vcCIsImRlZmF1bHQiLCJJbnN0YW50aWF0ZUxvb3AiLCJzZWxlY3RlZFZvaWNlIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJjbGFzc0xpc3QiLCJyZXR1cm4iLCJhZGQiLCJfdGhpczQiLCJiYXNpY1NjZW5lIiwiSW5pdFNjZW5lIiwiQWRkIiwiX3RoaXM1Iiwib3Blbk1lbnVCdXR0b24iLCJTaG93SGlkZU1lbnUiLCJjdXJyZW50Q2xhc3MiLCJvZmZzZXRXaWR0aCIsIkRlc3Ryb3kiLCJJbml0IiwiaG1yIiwibG9jYWxzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiLi9DdWJlTG9vcCIsIi4vQ3ViZUxvb3AuanMiLCIuL0dyaWRMb29wIiwiLi9HcmlkTG9vcC5qcyIsIi4vU2t5c2NyYXBlcnNMb29wIiwiLi9Ta3lzY3JhcGVyc0xvb3AuanMiLCJ3ZWJwYWNrQXN5bmNDb250ZXh0IiwicmVxIiwiaWRzIiwiY29kZSJdLCJtYXBwaW5n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cURBQUFDLEtBQUFILEdBQ0FILEdBUUFFLEVBRkEsSUFBQUMsRUFBQTVHLFFBQUEsTUFFQTRHLEVBQ0csSUFBQUEsRUFBQTVHLFFBQUEsS0FFSG1HLEVBQUFTLEVBR0FOLEVBQUFNLEVBQUFKLFFBQUEsWUFJQSxPQUFBaEssS0FBQUMsVUFBQWtLLEdBQUEseUJDbkZBLElBQUE1SyxFQUFBLENBQ0FpTCxhQUFBLENBQ0EsRUFDQSxFQUNBLEdBRUFDLGdCQUFBLENBQ0EsRUFDQSxFQUNBLEdBRUFDLGFBQUEsQ0FDQSxFQUNBLEVBQ0EsR0FFQUMsZ0JBQUEsQ0FDQSxFQUNBLEVBQ0EsR0FFQUMsb0JBQUEsQ0FDQSxFQUNBLEVBQ0EsR0FFQUMsdUJBQUEsQ0FDQSxFQUNBLEVBQ0EsSUFHQSxTQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUF6TCxFQUFBd0wsR0FDQSxPQUFBQyxFQU9BalEsUUFBQW9DLElBQUE2TixFQUFBL0wsTUFBQSxHQUFBTSxJQUFBaEYsRUFBQUksSUFBQWlOLEtBQUEsV0FDQSxJQUFBakgsRUFBQXFLLEVBQUEsR0FDQSxPQUFBelEsRUFBQW9HLEtBUkE1RixRQUFBQyxVQUFBNE0sS0FBQSxXQUNBLElBQUFqTixFQUFBLElBQUFtQyxNQUFBLHVCQUFBaU8sRUFBQSxLQUVBLE1BREFwUSxFQUFBc1EsS0FBQSxtQkFDQXRRLElBUUFtUSxFQUFBaEgsS0FBQSxXQUNBLE9BQUFoSyxPQUFBZ0ssS0FBQXZFLElBRUF1TCxFQUFBbkssR0FBQSxFQUNBbEcsRUFBQUQsUUFBQXNRIiwiZmlsZSI6ImpzXFxidW5kbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG5cblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0fTtcblxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0NTogMFxuIFx0fTtcblxuXG5cbiBcdC8vIHNjcmlwdCBwYXRoIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4gXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIi4vanMvXCIgKyAoe1wiMFwiOlwidmVuZG9yc35DdWJlTG9vcH5HcmlkTG9vcH5Ta3lzY3JhcGVyc0xvb3B+YmFzaWMtc2NlbmVcIixcIjFcIjpcIkN1YmVMb29wXCIsXCIyXCI6XCJHcmlkTG9vcFwiLFwiM1wiOlwiU2t5c2NyYXBlcnNMb29wXCIsXCI0XCI6XCJiYXNpYy1zY2VuZVwifVtjaHVua0lkXXx8Y2h1bmtJZCkgKyBcIi5idW5kbGUuanNcIlxuIFx0fVxuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuXG5cbiBcdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXG4gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcbiBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG4gXHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG4gXHRcdFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcblxuIFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuIFx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG5cbiBcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiBcdFx0XHRcdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuIFx0XHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuIFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG4gXHRcdFx0XHRcdHZhciBjaHVuayA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0XHRcdFx0aWYoY2h1bmsgIT09IDApIHtcbiBcdFx0XHRcdFx0XHRpZihjaHVuaykge1xuIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcbiBcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknKTtcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcbiBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9O1xuIFx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuIFx0XHRcdFx0fSwgMTIwMDAwKTtcbiBcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gXHR9O1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm9lID0gZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbihzZWxlY3Rvcikge1xuXHRcdGlmICh0eXBlb2YgbWVtb1tzZWxlY3Rvcl0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGZuLmNhbGwodGhpcywgc2VsZWN0b3IpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmIChzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bc2VsZWN0b3JdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3NlbGVjdG9yXVxuXHR9O1xufSkoZnVuY3Rpb24gKHRhcmdldCkge1xuXHRyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpXG59KTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24pIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG5cdGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmNvbnN0IEN1YmVMb29wID0gJ0N1YmVMb29wLmpzJztcclxuY29uc3QgR3JpZExvb3AgPSAnR3JpZExvb3AuanMnO1xyXG5jb25zdCBTa3lzY3JhcGVyc0xvb3AgPSAnU2t5c2NyYXBlcnNMb29wLmpzJztcclxuXHJcbmNsYXNzIEFwcCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmxvb3BzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdCgpIHtcclxuICAgICAgICB0aGlzLkNyZWF0ZU1lbnUoKTtcclxuICAgICAgICB0aGlzLkFkZENsb3NlUmVuZGVyZXJUb01lbnUoKTtcclxuICAgICAgICB0aGlzLlBvcHVsYXRlTWVudSgpO1xyXG4gICAgICAgIHRoaXMuQ3JlYXRlT3Blbk1lbnVCdXR0b24oKTtcclxuICAgICAgICAvL3RoaXMuU3RhcnRMb29wKCB0aGlzLmxvb3BzW3RoaXMubG9vcHMubGVuZ3RoIC0gMV0gKTtcclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVNZW51KCkge1xyXG4gICAgICAgIHRoaXMubWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgICAgdGhpcy5tZW51LnNldEF0dHJpYnV0ZSgnaWQnLCAnbWVudScpO1xyXG4gICAgICAgIHRoaXMubWVudS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Nob3cnKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMubWVudSk7XHJcbiAgICB9XHJcblxyXG4gICAgQWRkQ2xvc2VSZW5kZXJlclRvTWVudSgpIHtcclxuICAgICAgICB0aGlzLm1lbnUuYXBwZW5kQ2hpbGQodGhpcy5NZW51RWxlbWVudCgnQ2xvc2UgcmVuZGVyaW5nJywgKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5EZXN0cm95U2NlbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5TZWxlY3RNZW51Vm9pY2UoZS50YXJnZXQpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBQb3B1bGF0ZU1lbnUoKSB7XHJcbiAgICAgICAgdGhpcy5sb29wcy5wdXNoKHRoaXMuQWRkTG9vcEJ1dHRvbignQ3ViZSBMb29wJywgQ3ViZUxvb3ApKTtcclxuICAgICAgICB0aGlzLmxvb3BzLnB1c2godGhpcy5BZGRMb29wQnV0dG9uKCdHcmlkIExvb3AgMCcsIEdyaWRMb29wKSk7XHJcbiAgICAgICAgdGhpcy5sb29wcy5wdXNoKHRoaXMuQWRkTG9vcEJ1dHRvbignU2t5c2NyYXBlcnMnLCBTa3lzY3JhcGVyc0xvb3ApKTtcclxuICAgIH1cclxuXHJcbiAgICBBZGRMb29wQnV0dG9uKHRleHQsIGxvb3ApIHtcclxuICAgICAgICBjb25zdCBtZW51Vm9pY2UgPSB0aGlzLk1lbnVFbGVtZW50KFxyXG4gICAgICAgICAgICB0ZXh0LFxyXG4gICAgICAgICAgICBlID0+IHRoaXMuU3RhcnRMb29wKGUudGFyZ2V0KSk7XHJcbiAgICAgICAgbWVudVZvaWNlLnNldEF0dHJpYnV0ZSgnbG9vcE5hbWUnLCBsb29wKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZW51LmFwcGVuZENoaWxkKG1lbnVWb2ljZSk7XHJcbiAgICB9XHJcblxyXG4gICAgTWVudUVsZW1lbnQodGV4dCwgYWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIFN0YXJ0TG9vcCh0YXJnZXRCdXR0b24pIHtcclxuICAgICAgICB0aGlzLlNlbGVjdE1lbnVWb2ljZSh0YXJnZXRCdXR0b24pO1xyXG4gICAgICAgIGltcG9ydChcclxuICAgICAgICAgICAgLyogd2VicGFja0NodW5rTmFtZTogJ1tyZXF1ZXN0XScgKi9cclxuICAgICAgICAgICAgJy4vTG9vcHMvJysgdGFyZ2V0QnV0dG9uLmdldEF0dHJpYnV0ZSgnbG9vcG5hbWUnKSApXHJcbiAgICAgICAgLnRoZW4oKHtkZWZhdWx0OiBuZXdsb29wfSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkluc3RhbnRpYXRlTG9vcChuZXdsb29wKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTZWxlY3RNZW51Vm9pY2Uoc2VsZWN0ZWRWb2ljZSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgdm9pY2Ugb2YgdGhpcy5tZW51LmNoaWxkTm9kZXMpIHtcclxuICAgICAgICAgICAgdm9pY2UuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZWN0ZWRWb2ljZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIEluc3RhbnRpYXRlTG9vcChsb29wKSB7XHJcbiAgICAgICAgdGhpcy5EZXN0cm95U2NlbmUoKTtcclxuICAgICAgICBpbXBvcnQoXHJcbiAgICAgICAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiYmFzaWMtc2NlbmVcIiAqL1xyXG4gICAgICAgICAgICAnLi9PYmplY3RzL0Jhc2ljU2NlbmUuanMnIClcclxuICAgICAgICAudGhlbigobW9kdWxlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFzaWNTY2VuZSA9IG5ldyBtb2R1bGUuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJhc2ljU2NlbmUuSW5pdFNjZW5lKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9vcCA9IG5ldyBsb29wKHRoaXMuYmFzaWNTY2VuZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFzaWNTY2VuZS5BZGQodGhpcy5sb29wKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVPcGVuTWVudUJ1dHRvbigpIHtcclxuICAgICAgICBjb25zdCBvcGVuTWVudUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBvcGVuTWVudUJ1dHRvbi5pbm5lckhUTUwgPSAnJiM5Nzc2JztcclxuICAgICAgICBvcGVuTWVudUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ21lbnUtY3RybCcpO1xyXG4gICAgICAgIG9wZW5NZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5TaG93SGlkZU1lbnUoKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvcGVuTWVudUJ1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgU2hvd0hpZGVNZW51KCkge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRDbGFzcyA9IHRoaXMubWVudS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcbiAgICAgICAgLy8gaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9yZXN0YXJ0LWNzcy1hbmltYXRpb24vXHJcbiAgICAgICAgLy8gbmV4dCB0aHJlZSBsaW5lcyBhcmUgYSB3b3JrYXJvdW5kIHRvIHJldHJpZ2dlciBhbmltXHJcbiAgICAgICAgdGhpcy5tZW51LmNsYXNzTGlzdC5yZW1vdmUoY3VycmVudENsYXNzKTtcclxuICAgICAgICB2b2lkIHRoaXMubWVudS5vZmZzZXRXaWR0aDtcclxuICAgICAgICB0aGlzLm1lbnUuY2xhc3NMaXN0LmFkZChjdXJyZW50Q2xhc3MgPT09ICdoaWRlJyA/ICdzaG93JyA6ICdoaWRlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgRGVzdHJveVNjZW5lKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5iYXNpY1NjZW5lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5iYXNpY1NjZW5lLkRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmJhc2ljU2NlbmUgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XHJcbmFwcC5Jbml0KCk7IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBQcmVwYXJlIGNzc1RyYW5zZm9ybWF0aW9uXG52YXIgdHJhbnNmb3JtO1xuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikodW5kZWZpbmVkKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcclxcbiAgICB3aWR0aDogMTAwdnc7XFxyXFxuICAgIGhlaWdodDogMTAwdmg7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcXHJcXG59XFxyXFxuXFxyXFxuY2FudmFzIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIHotaW5kZXg6IC0xMDtcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuI21lbnUge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXHJcXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XFxyXFxuICAgIHBhZGRpbmc6IDAuNWVtIDJlbSAwIDEuMGVtO1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZmxvdzogY29sdW1uO1xcclxcbiAgICBmb250LXNpemU6IDNlbTtcXHJcXG4gICAgb3BhY2l0eTogMC43O1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG5AbWVkaWEgb25seSBzY3JlZW4gXFxyXFxuYW5kIChtaW4tZGV2aWNlLXdpZHRoOiA3NjhweCkgXFxyXFxuYW5kIChtYXgtZGV2aWNlLXdpZHRoOiAxMDI0cHgpXFxyXFxuYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpIHsgXFxyXFxuICAgICNtZW51IHtcXHJcXG4gICAgICAgIGZvbnQtc2l6ZTogMS4zZW07XFxyXFxuICAgIH1cXHJcXG59XFxyXFxuXFxyXFxuQG1lZGlhIG9ubHkgc2NyZWVuICBcXHJcXG5hbmQgKG1heC1kZXZpY2Utd2lkdGg6IDUwMHB4KVxcclxcbmFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAzKVxcclxcbmFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KSB7IFxcclxcbiAgICAgICNtZW51IHtcXHJcXG4gICAgICAgICAgZm9udC1zaXplOiAxLjM1ZW07XFxyXFxuICAgICAgfVxcclxcbiAgfVxcclxcblxcclxcbkBtZWRpYSBvbmx5IHNjcmVlbiAgXFxyXFxuYW5kIChtYXgtZGV2aWNlLXdpZHRoOiAxMDI0cHgpXFxyXFxuYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDMpXFxyXFxuYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKSB7IFxcclxcbiAgICAjbWVudSB7XFxyXFxuICAgICAgICBmb250LXNpemU6IDEuMzVlbTtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG5AbWVkaWEgb25seSBzY3JlZW4gXFxyXFxuYW5kIChtaW4tZGV2aWNlLXdpZHRoOiAxMDI1cHgpXFxyXFxuYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKSB7XFxyXFxuICAgICNtZW51IHtcXHJcXG4gICAgICAgIGZvbnQtc2l6ZTogMWVtO1xcclxcbiAgICB9XFxyXFxufVxcclxcblxcclxcbiNtZW51IGxpIHtcXHJcXG4gICAgbWFyZ2luOiAwLjFlbSAwO1xcclxcbiAgICBsaXN0LXN0eWxlOiBub25lO1xcclxcbiAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xcclxcbiAgICBmb250LXZhcmlhbnQ6IGFsbC1zbWFsbC1jYXBzO1xcclxcbiAgICBmb250LXNpemU6IDEuM2VtO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDAuMmVtO1xcclxcbiAgICBwYWRkaW5nOiAwLjVlbSAwO1xcclxcbn1cXHJcXG5cXHJcXG4jbWVudSBsaTpob3ZlciB7XFxyXFxuICAgIHRleHQtc2hhZG93OiAycHggMnB4IGdyYXk7XFxyXFxuICAgIGxlZnQ6IC0ycHg7XFxyXFxuICAgIHRvcDogLTJweDtcXHJcXG4gICAgY29sb3I6IGxpZ2h0Z3JheTtcXHJcXG59XFxyXFxuXFxyXFxuI21lbnUgbGkuc2VsZWN0ZWQge1xcclxcbiAgICBmb250LXdlaWdodDogYm9sZDtcXHJcXG59XFxyXFxuXFxyXFxuI21lbnUtY3RybCB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgbGVmdDogMC4xZW07XFxyXFxuICAgIGJvdHRvbTogMC4xZW07XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBmb250LXNpemU6IDIuNWVtO1xcclxcbiAgICBjb2xvcjogI2Y1ZjVmNTtcXHJcXG4gICAgdGV4dC1zaGFkb3c6IDJweCAycHggIzk5OTtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgzNSUsIDApIHNjYWxlWCgxLjQpO1xcclxcbn1cXHJcXG5cXHJcXG4jbWVudS5zaG93IHtcXHJcXG4gICAgYW5pbWF0aW9uLW5hbWU6IG1lbnUtYW5pbTtcXHJcXG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjVzO1xcclxcbiAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcXHJcXG4gICAgYW5pbWF0aW9uLWRpcmVjdGlvbjogbm9ybWFsO1xcclxcbn1cXHJcXG5cXHJcXG4jbWVudS5oaWRlIHtcXHJcXG4gICAgYW5pbWF0aW9uLW5hbWU6IG1lbnUtYW5pbTtcXHJcXG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjVzO1xcclxcbiAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcXHJcXG4gICAgYW5pbWF0aW9uLWRpcmVjdGlvbjogcmV2ZXJzZTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBtZW51LWFuaW0ge1xcclxcbiAgICBmcm9tIHtsZWZ0OiAtMTAwJX1cXHJcXG4gICAgdG8ge2xlZnQ6IDB2d31cXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJ2YXIgbWFwID0ge1xuXHRcIi4vQ3ViZUxvb3BcIjogW1xuXHRcdDMsXG5cdFx0MCxcblx0XHQxXG5cdF0sXG5cdFwiLi9DdWJlTG9vcC5qc1wiOiBbXG5cdFx0Myxcblx0XHQwLFxuXHRcdDFcblx0XSxcblx0XCIuL0dyaWRMb29wXCI6IFtcblx0XHQ0LFxuXHRcdDAsXG5cdFx0MlxuXHRdLFxuXHRcIi4vR3JpZExvb3AuanNcIjogW1xuXHRcdDQsXG5cdFx0MCxcblx0XHQyXG5cdF0sXG5cdFwiLi9Ta3lzY3JhcGVyc0xvb3BcIjogW1xuXHRcdDIsXG5cdFx0MCxcblx0XHQzXG5cdF0sXG5cdFwiLi9Ta3lzY3JhcGVyc0xvb3AuanNcIjogW1xuXHRcdDIsXG5cdFx0MCxcblx0XHQzXG5cdF1cbn07XG5mdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0KHJlcSkge1xuXHR2YXIgaWRzID0gbWFwW3JlcV07XG5cdGlmKCFpZHMpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHRcdHRocm93IGU7XG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIFByb21pc2UuYWxsKGlkcy5zbGljZSgxKS5tYXAoX193ZWJwYWNrX3JlcXVpcmVfXy5lKSkudGhlbihmdW5jdGlvbigpIHtcblx0XHR2YXIgaWQgPSBpZHNbMF07XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xuXHR9KTtcbn1cbndlYnBhY2tBc3luY0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQXN5bmNDb250ZXh0LmlkID0gOTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0FzeW5jQ29udGV4dDsiXSwic291cmNlUm9vdCI6IiJ9