(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{110:function(t,e,r){var a=r(104);a.MTLLoader=function(t){this.manager=void 0!==t?t:a.DefaultLoadingManager},a.MTLLoader.prototype={constructor:a.MTLLoader,load:function(t,e,r,s){var i=this,o=new a.FileLoader(this.manager);o.setPath(this.path),o.load(t,function(t){e(i.parse(t))},r,s)},setPath:function(t){return this.path=t,this},setTexturePath:function(t){return this.texturePath=t,this},setBaseUrl:function(t){return console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(t)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(t){for(var e=t.split("\n"),r={},s=/\s+/,i={},o=0;o<e.length;o++){var n=e[o];if(0!==(n=n.trim()).length&&"#"!==n.charAt(0)){var h=n.indexOf(" "),l=h>=0?n.substring(0,h):n;l=l.toLowerCase();var u=h>=0?n.substring(h+1):"";if(u=u.trim(),"newmtl"===l)r={name:u},i[u]=r;else if(r)if("ka"===l||"kd"===l||"ks"===l){var c=u.split(s,3);r[l]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else r[l]=u}}var p=new a.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return p.setCrossOrigin(this.crossOrigin),p.setManager(this.manager),p.setMaterials(i),p}},a.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:a.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:a.RepeatWrapping},a.MTLLoader.MaterialCreator.prototype={constructor:a.MTLLoader.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var r in t){var a=t[r],s={};for(var i in e[r]=s,a){var o=!0,n=a[i],h=i.toLowerCase();switch(h){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(o=!1)}o&&(s[h]=n)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,r=this.materialsInfo[t],s={name:t,side:this.side};function i(t,r){if(!s[t]){var a,i,o=e.getTextureParams(r,s),n=e.loadTexture((a=e.baseUrl,"string"!=typeof(i=o.url)||""===i?"":/^https?:\/\//i.test(i)?i:a+i));n.repeat.copy(o.scale),n.offset.copy(o.offset),n.wrapS=e.wrap,n.wrapT=e.wrap,s[t]=n}}for(var o in r){var n,h=r[o];if(""!==h)switch(o.toLowerCase()){case"kd":s.color=(new a.Color).fromArray(h);break;case"ks":s.specular=(new a.Color).fromArray(h);break;case"map_kd":i("map",h);break;case"map_ks":i("specularMap",h);break;case"norm":i("normalMap",h);break;case"map_bump":case"bump":i("bumpMap",h);break;case"ns":s.shininess=parseFloat(h);break;case"d":(n=parseFloat(h))<1&&(s.opacity=n,s.transparent=!0);break;case"tr":n=parseFloat(h),this.options&&this.options.invertTrProperty&&(n=1-n),n>0&&(s.opacity=1-n,s.transparent=!0)}}return this.materials[t]=new a.MeshPhongMaterial(s),this.materials[t]},getTextureParams:function(t,e){var r,s={scale:new a.Vector2(1,1),offset:new a.Vector2(0,0)},i=t.split(/\s+/);return(r=i.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(i[r+1]),i.splice(r,2)),(r=i.indexOf("-s"))>=0&&(s.scale.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),(r=i.indexOf("-o"))>=0&&(s.offset.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),s.url=i.join(" ").trim(),s},loadTexture:function(t,e,r,s,i){var o,n=a.Loader.Handlers.get(t),h=void 0!==this.manager?this.manager:a.DefaultLoadingManager;return null===n&&(n=new a.TextureLoader(h)),n.setCrossOrigin&&n.setCrossOrigin(this.crossOrigin),o=n.load(t,r,s,i),void 0!==e&&(o.mapping=e),o}},a.OBJLoader=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,r=/^usemtl /;function s(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var a={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},r&&r.name&&"function"==typeof r.clone){var a=r.clone(0);a.inherited=!0,this.object.materials.push(a)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseNormalIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseUVIndex:function(t,e){var r=parseInt(t,10);return 2*(r>=0?r-1:r+e/2)},addVertex:function(t,e,r){var a=this.vertices,s=this.object.geometry.vertices;s.push(a[t+0],a[t+1],a[t+2]),s.push(a[e+0],a[e+1],a[e+2]),s.push(a[r+0],a[r+1],a[r+2])},addVertexPoint:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,r){var a=this.normals,s=this.object.geometry.normals;s.push(a[t+0],a[t+1],a[t+2]),s.push(a[e+0],a[e+1],a[e+2]),s.push(a[r+0],a[r+1],a[r+2])},addColor:function(t,e,r){var a=this.colors,s=this.object.geometry.colors;s.push(a[t+0],a[t+1],a[t+2]),s.push(a[e+0],a[e+1],a[e+2]),s.push(a[r+0],a[r+1],a[r+2])},addUV:function(t,e,r){var a=this.uvs,s=this.object.geometry.uvs;s.push(a[t+0],a[t+1]),s.push(a[e+0],a[e+1]),s.push(a[r+0],a[r+1])},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,r,a,s,i,o,n,h){var l=this.vertices.length,u=this.parseVertexIndex(t,l),c=this.parseVertexIndex(e,l),p=this.parseVertexIndex(r,l);if(this.addVertex(u,c,p),void 0!==a&&""!==a){var f=this.uvs.length;u=this.parseUVIndex(a,f),c=this.parseUVIndex(s,f),p=this.parseUVIndex(i,f),this.addUV(u,c,p)}if(void 0!==o&&""!==o){var m=this.normals.length;u=this.parseNormalIndex(o,m),c=o===n?u:this.parseNormalIndex(n,m),p=o===h?u:this.parseNormalIndex(h,m),this.addNormal(u,c,p)}this.colors.length>0&&this.addColor(u,c,p)},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,r=0,a=t.length;r<a;r++)this.addVertexPoint(this.parseVertexIndex(t[r],e))},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var r=this.vertices.length,a=this.uvs.length,s=0,i=t.length;s<i;s++)this.addVertexLine(this.parseVertexIndex(t[s],r));var o=0;for(i=e.length;o<i;o++)this.addUVLine(this.parseUVIndex(e[o],a))}};return t.startObject("",!1),t}function i(t){this.manager=void 0!==t?t:a.DefaultLoadingManager,this.materials=null}return i.prototype={constructor:i,load:function(t,e,r,s){var i=this,o=new a.FileLoader(i.manager);o.setPath(this.path),o.load(t,function(t){e(i.parse(t))},r,s)},setPath:function(t){return this.path=t,this},setMaterials:function(t){return this.materials=t,this},parse:function(i){console.time("OBJLoader");var o=new s;-1!==i.indexOf("\r\n")&&(i=i.replace(/\r\n/g,"\n")),-1!==i.indexOf("\\\n")&&(i=i.replace(/\\\n/g,""));for(var n=i.split("\n"),h="",l="",u=[],c="function"==typeof"".trimLeft,p=0,f=n.length;p<f;p++)if(h=n[p],0!==(h=c?h.trimLeft():h.trim()).length&&"#"!==(l=h.charAt(0)))if("v"===l){var m=h.split(/\s+/);switch(m[0]){case"v":o.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),8===m.length&&o.colors.push(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6]));break;case"vn":o.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":o.uvs.push(parseFloat(m[1]),parseFloat(m[2]))}}else if("f"===l){for(var d=h.substr(1).trim().split(/\s+/),v=[],g=0,b=d.length;g<b;g++){var L=d[g];if(L.length>0){var x=L.split("/");v.push(x)}}var w=v[0];for(g=1,b=v.length-1;g<b;g++){var y=v[g],M=v[g+1];o.addFace(w[0],y[0],M[0],w[1],y[1],M[1],w[2],y[2],M[2])}}else if("l"===l){var j=h.substring(1).trim().split(" "),F=[],O=[];if(-1===h.indexOf("/"))F=j;else for(var k=0,C=j.length;k<C;k++){var P=j[k].split("/");""!==P[0]&&F.push(P[0]),""!==P[1]&&O.push(P[1])}o.addLineGeometry(F,O)}else if("p"===l){var V=h.substr(1).trim().split(" ");o.addPointGeometry(V)}else if(null!==(u=t.exec(h))){var I=(" "+u[0].substr(1).trim()).substr(1);o.startObject(I)}else if(r.test(h))o.object.startMaterial(h.substring(7).trim(),o.materialLibraries);else if(e.test(h))o.materialLibraries.push(h.substring(7).trim());else{if("s"!==l){if("\0"===h)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+h+'"')}if((u=h.split(" ")).length>1){var A=u[1].trim().toLowerCase();o.object.smooth="0"!==A&&"off"!==A}else o.object.smooth=!0;(W=o.object.currentMaterial())&&(W.smooth=o.object.smooth)}o.finalize();var T=new a.Group;T.materialLibraries=[].concat(o.materialLibraries);for(p=0,f=o.objects.length;p<f;p++){var B=o.objects[p],U=B.geometry,z=B.materials,E="Line"===U.type,_="Points"===U.type,S=!1;if(0!==U.vertices.length){var G=new a.BufferGeometry;G.addAttribute("position",new a.Float32BufferAttribute(U.vertices,3)),U.normals.length>0?G.addAttribute("normal",new a.Float32BufferAttribute(U.normals,3)):G.computeVertexNormals(),U.colors.length>0&&(S=!0,G.addAttribute("color",new a.Float32BufferAttribute(U.colors,3))),U.uvs.length>0&&G.addAttribute("uv",new a.Float32BufferAttribute(U.uvs,2));for(var J,N=[],D=0,R=z.length;D<R;D++){var H=z[D],W=void 0;if(null!==this.materials)if(W=this.materials.create(H.name),!E||!W||W instanceof a.LineBasicMaterial){if(_&&W&&!(W instanceof a.PointsMaterial)){var Z=new a.PointsMaterial({size:10,sizeAttenuation:!1});q.copy(W),W=Z}}else{var q=new a.LineBasicMaterial;q.copy(W),q.lights=!1,W=q}W||((W=E?new a.LineBasicMaterial:_?new a.PointsMaterial({size:1,sizeAttenuation:!1}):new a.MeshPhongMaterial).name=H.name),W.flatShading=!H.smooth,W.vertexColors=S?a.VertexColors:a.NoColors,N.push(W)}if(N.length>1){for(D=0,R=z.length;D<R;D++){H=z[D];G.addGroup(H.groupStart,H.groupCount,D)}J=E?new a.LineSegments(G,N):_?new a.Points(G,N):new a.Mesh(G,N)}else J=E?new a.LineSegments(G,N[0]):_?new a.Points(G,N[0]):new a.Mesh(G,N[0]);J.name=B.name,T.add(J)}}return console.timeEnd("OBJLoader"),T}},i}(),e.MTLLoader=a.MTLLoader,e.OBJLoader=a.OBJLoader}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtb2JqLW10bC1sb2FkZXIvaW5kZXguanMiXSwibmFtZXMiOlsiVEhSRUUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiTVRMTG9hZGVyIiwibWFuYWdlciIsInRoaXMiLCJ1bmRlZmluZWQiLCJEZWZhdWx0TG9hZGluZ01hbmFnZXIiLCJwcm90b3R5cGUiLCJjb25zdHJ1Y3RvciIsImxvYWQiLCJ1cmwiLCJvbkxvYWQiLCJvblByb2dyZXNzIiwib25FcnJvciIsInNjb3BlIiwibG9hZGVyIiwiRmlsZUxvYWRlciIsInNldFBhdGgiLCJwYXRoIiwidGV4dCIsInBhcnNlIiwic2V0VGV4dHVyZVBhdGgiLCJ0ZXh0dXJlUGF0aCIsInNldEJhc2VVcmwiLCJjb25zb2xlIiwid2FybiIsInNldENyb3NzT3JpZ2luIiwidmFsdWUiLCJjcm9zc09yaWdpbiIsInNldE1hdGVyaWFsT3B0aW9ucyIsIm1hdGVyaWFsT3B0aW9ucyIsImxpbmVzIiwic3BsaXQiLCJpbmZvIiwiZGVsaW1pdGVyX3BhdHRlcm4iLCJtYXRlcmlhbHNJbmZvIiwiaSIsImxlbmd0aCIsImxpbmUiLCJ0cmltIiwiY2hhckF0IiwicG9zIiwiaW5kZXhPZiIsImtleSIsInN1YnN0cmluZyIsInRvTG93ZXJDYXNlIiwibmFtZSIsInNzIiwicGFyc2VGbG9hdCIsIm1hdGVyaWFsQ3JlYXRvciIsIk1hdGVyaWFsQ3JlYXRvciIsInNldE1hbmFnZXIiLCJzZXRNYXRlcmlhbHMiLCJiYXNlVXJsIiwib3B0aW9ucyIsIm1hdGVyaWFscyIsIm1hdGVyaWFsc0FycmF5IiwibmFtZUxvb2t1cCIsInNpZGUiLCJGcm9udFNpZGUiLCJ3cmFwIiwiUmVwZWF0V3JhcHBpbmciLCJjb252ZXJ0IiwiY29udmVydGVkIiwibW4iLCJtYXQiLCJjb3ZtYXQiLCJwcm9wIiwic2F2ZSIsImxwcm9wIiwibm9ybWFsaXplUkdCIiwiaWdub3JlWmVyb1JHQnMiLCJwcmVsb2FkIiwiY3JlYXRlIiwiZ2V0SW5kZXgiLCJtYXRlcmlhbE5hbWUiLCJnZXRBc0FycmF5IiwiaW5kZXgiLCJjcmVhdGVNYXRlcmlhbF8iLCJwYXJhbXMiLCJzZXRNYXBGb3JUeXBlIiwibWFwVHlwZSIsInRleFBhcmFtcyIsImdldFRleHR1cmVQYXJhbXMiLCJtYXAiLCJsb2FkVGV4dHVyZSIsInRlc3QiLCJyZXBlYXQiLCJjb3B5Iiwic2NhbGUiLCJvZmZzZXQiLCJ3cmFwUyIsIndyYXBUIiwibiIsImNvbG9yIiwiQ29sb3IiLCJmcm9tQXJyYXkiLCJzcGVjdWxhciIsInNoaW5pbmVzcyIsIm9wYWNpdHkiLCJ0cmFuc3BhcmVudCIsImludmVydFRyUHJvcGVydHkiLCJNZXNoUGhvbmdNYXRlcmlhbCIsIm1hdFBhcmFtcyIsIlZlY3RvcjIiLCJpdGVtcyIsImJ1bXBTY2FsZSIsInNwbGljZSIsInNldCIsImpvaW4iLCJtYXBwaW5nIiwidGV4dHVyZSIsIkxvYWRlciIsIkhhbmRsZXJzIiwiZ2V0IiwiVGV4dHVyZUxvYWRlciIsIk9CSkxvYWRlciIsIm9iamVjdF9wYXR0ZXJuIiwibWF0ZXJpYWxfbGlicmFyeV9wYXR0ZXJuIiwibWF0ZXJpYWxfdXNlX3BhdHRlcm4iLCJQYXJzZXJTdGF0ZSIsInN0YXRlIiwib2JqZWN0cyIsIm9iamVjdCIsInZlcnRpY2VzIiwibm9ybWFscyIsImNvbG9ycyIsInV2cyIsIm1hdGVyaWFsTGlicmFyaWVzIiwic3RhcnRPYmplY3QiLCJmcm9tRGVjbGFyYXRpb24iLCJwcmV2aW91c01hdGVyaWFsIiwiY3VycmVudE1hdGVyaWFsIiwiX2ZpbmFsaXplIiwiZ2VvbWV0cnkiLCJzbW9vdGgiLCJzdGFydE1hdGVyaWFsIiwibGlicmFyaWVzIiwicHJldmlvdXMiLCJpbmhlcml0ZWQiLCJncm91cENvdW50IiwibWF0ZXJpYWwiLCJtdGxsaWIiLCJBcnJheSIsImlzQXJyYXkiLCJncm91cFN0YXJ0IiwiZ3JvdXBFbmQiLCJjbG9uZSIsImNsb25lZCIsImJpbmQiLCJwdXNoIiwiZW5kIiwibGFzdE11bHRpTWF0ZXJpYWwiLCJtaSIsImRlY2xhcmVkIiwiZmluYWxpemUiLCJwYXJzZVZlcnRleEluZGV4IiwibGVuIiwicGFyc2VJbnQiLCJwYXJzZU5vcm1hbEluZGV4IiwicGFyc2VVVkluZGV4IiwiYWRkVmVydGV4IiwiYSIsImIiLCJjIiwic3JjIiwiZHN0IiwiYWRkVmVydGV4UG9pbnQiLCJhZGRWZXJ0ZXhMaW5lIiwiYWRkTm9ybWFsIiwiYWRkQ29sb3IiLCJhZGRVViIsImFkZFVWTGluZSIsImFkZEZhY2UiLCJ1YSIsInViIiwidWMiLCJuYSIsIm5iIiwibmMiLCJ2TGVuIiwiaWEiLCJpYiIsImljIiwidXZMZW4iLCJuTGVuIiwiYWRkUG9pbnRHZW9tZXRyeSIsInR5cGUiLCJ2aSIsImwiLCJhZGRMaW5lR2VvbWV0cnkiLCJ1dmkiLCJ0aW1lIiwicmVwbGFjZSIsImxpbmVGaXJzdENoYXIiLCJyZXN1bHQiLCJ0cmltTGVmdCIsImRhdGEiLCJ2ZXJ0ZXhEYXRhIiwic3Vic3RyIiwiZmFjZVZlcnRpY2VzIiwiaiIsImpsIiwidmVydGV4IiwidmVydGV4UGFydHMiLCJ2MSIsInYyIiwidjMiLCJsaW5lUGFydHMiLCJsaW5lVmVydGljZXMiLCJsaW5lVVZzIiwibGkiLCJsbGVuIiwicGFydHMiLCJwb2ludERhdGEiLCJleGVjIiwiRXJyb3IiLCJjb250YWluZXIiLCJHcm91cCIsImNvbmNhdCIsImlzTGluZSIsImlzUG9pbnRzIiwiaGFzVmVydGV4Q29sb3JzIiwiYnVmZmVyZ2VvbWV0cnkiLCJCdWZmZXJHZW9tZXRyeSIsImFkZEF0dHJpYnV0ZSIsIkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUiLCJjb21wdXRlVmVydGV4Tm9ybWFscyIsIm1lc2giLCJjcmVhdGVkTWF0ZXJpYWxzIiwibWlMZW4iLCJzb3VyY2VNYXRlcmlhbCIsIkxpbmVCYXNpY01hdGVyaWFsIiwiUG9pbnRzTWF0ZXJpYWwiLCJtYXRlcmlhbFBvaW50cyIsInNpemUiLCJzaXplQXR0ZW51YXRpb24iLCJtYXRlcmlhbExpbmUiLCJsaWdodHMiLCJmbGF0U2hhZGluZyIsInZlcnRleENvbG9ycyIsIlZlcnRleENvbG9ycyIsIk5vQ29sb3JzIiwiYWRkR3JvdXAiLCJMaW5lU2VnbWVudHMiLCJQb2ludHMiLCJNZXNoIiwiYWRkIiwidGltZUVuZCIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI2RUFBQSxJQUFBQSxFQUFZQyxFQUFRLEtBUXBCRCxFQUFBRSxVQUFBLFNBQUFDLEdBRUFDLEtBQUFELGFBQUFFLElBQUFGLElBQUFILEVBQUFNLHVCQUlBTixFQUFBRSxVQUFBSyxVQUFBLENBRUFDLFlBQUFSLEVBQUFFLFVBZUFPLEtBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQSxJQUFBQyxFQUFBVixLQUVBVyxFQUFBLElBQUFmLEVBQUFnQixXQUFBWixLQUFBRCxTQUNBWSxFQUFBRSxRQUFBYixLQUFBYyxNQUNBSCxFQUFBTixLQUFBQyxFQUFBLFNBQUFTLEdBRUFSLEVBQUFHLEVBQUFNLE1BQUFELEtBRUdQLEVBQUFDLElBZ0JISSxRQUFBLFNBQUFDLEdBR0EsT0FEQWQsS0FBQWMsT0FDQWQsTUFrQkFpQixlQUFBLFNBQUFILEdBR0EsT0FEQWQsS0FBQWtCLFlBQUFKLEVBQ0FkLE1BSUFtQixXQUFBLFNBQUFMLEdBSUEsT0FGQU0sUUFBQUMsS0FBQSxpSkFFQXJCLEtBQUFpQixlQUFBSCxJQUlBUSxlQUFBLFNBQUFDLEdBR0EsT0FEQXZCLEtBQUF3QixZQUFBRCxFQUNBdkIsTUFJQXlCLG1CQUFBLFNBQUFGLEdBR0EsT0FEQXZCLEtBQUEwQixnQkFBQUgsRUFDQXZCLE1BZUFnQixNQUFBLFNBQUFELEdBT0EsSUFMQSxJQUFBWSxFQUFBWixFQUFBYSxNQUFBLE1BQ0FDLEVBQUEsR0FDQUMsRUFBQSxNQUNBQyxFQUFBLEdBRUFDLEVBQUEsRUFBa0JBLEVBQUFMLEVBQUFNLE9BQWtCRCxJQUFBLENBRXBDLElBQUFFLEVBQUFQLEVBQUFLLEdBR0EsUUFGQUUsSUFBQUMsUUFFQUYsUUFBQSxNQUFBQyxFQUFBRSxPQUFBLElB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TCxFQUFBekwsTUFJQStGLEVBQUFrRyxhQUFBUixFQUFBaEcsT0FDQU0sRUFBQW1HLGFBQUFsQixFQUFBOU4sRUFBQWlQLGFBQUFqUCxFQUFBa1AsU0FFQWIsRUFBQS9FLEtBQUFULEdBUUEsR0FBQXdGLEVBQUFoTSxPQUFBLEdBRUEsSUFBQW9ILEVBQUEsRUFBQTZFLEVBQUEvSyxFQUFBbEIsT0FBZ0RvSCxFQUFBNkUsRUFBWTdFLElBQUEsQ0FFNUQ4RSxFQUFBaEwsRUFBQWtHLEdBQ0FzRSxFQUFBb0IsU0FBQVosRUFBQXRGLFdBQUFzRixFQUFBM0YsV0FBQWEsR0FNQTJFLEVBRkFSLEVBRUEsSUFBQTVOLEVBQUFvUCxhQUFBckIsRUFBQU0sR0FFTVIsRUFFTixJQUFBN04sRUFBQXFQLE9BQUF0QixFQUFBTSxHQUlBLElBQUFyTyxFQUFBc1AsS0FBQXZCLEVBQUFNLFFBUUFELEVBRkFSLEVBRUEsSUFBQTVOLEVBQUFvUCxhQUFBckIsRUFBQU0sRUFBQSxJQUVNUixFQUVOLElBQUE3TixFQUFBcVAsT0FBQXRCLEVBQUFNLEVBQUEsSUFJQSxJQUFBck8sRUFBQXNQLEtBQUF2QixFQUFBTSxFQUFBLElBTUFELEVBQUF0TCxLQUFBNkUsRUFBQTdFLEtBRUEySyxFQUFBOEIsSUFBQW5CLElBTUEsT0FGQTVNLFFBQUFnTyxRQUFBLGFBRUEvQixJQU1BckcsRUFseEJBLEdBc3hCQXFJLEVBQUF2UCxVQUFBRixFQUFBRSxVQUNBdVAsRUFBQXJJLFVBQUFwSCxFQUFBb0giLCJmaWxlIjoiLi9qcy92ZW5kb3Jzfk9wZW5IZWFkflRyZWVFeGFtcGxlLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBUSFJFRSA9IHJlcXVpcmUoJ3RocmVlJylcblxuLyoqXG4gKiBMb2FkcyBhIFdhdmVmcm9udCAubXRsIGZpbGUgc3BlY2lmeWluZyBtYXRlcmlhbHNcbiAqXG4gKiBAYXV0aG9yIGFuZ2VseHVhbmNoYW5nXG4gKi9cblxuVEhSRUUuTVRMTG9hZGVyID0gZnVuY3Rpb24gKCBtYW5hZ2VyICkge1xuXG5cdHRoaXMubWFuYWdlciA9ICggbWFuYWdlciAhPT0gdW5kZWZpbmVkICkgPyBtYW5hZ2VyIDogVEhSRUUuRGVmYXVsdExvYWRpbmdNYW5hZ2VyO1xuXG59O1xuXG5USFJFRS5NVExMb2FkZXIucHJvdG90eXBlID0ge1xuXG5cdGNvbnN0cnVjdG9yOiBUSFJFRS5NVExMb2FkZXIsXG5cblx0LyoqXG5cdCAqIExvYWRzIGFuZCBwYXJzZXMgYSBNVEwgYXNzZXQgZnJvbSBhIFVSTC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIFVSTCB0byB0aGUgTVRMIGZpbGUuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkxvYWRdIC0gQ2FsbGJhY2sgaW52b2tlZCB3aXRoIHRoZSBsb2FkZWQgb2JqZWN0LlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25Qcm9ncmVzc10gLSBDYWxsYmFjayBmb3IgZG93bmxvYWQgcHJvZ3Jlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkVycm9yXSAtIENhbGxiYWNrIGZvciBkb3dubG9hZCBlcnJvcnMuXG5cdCAqXG5cdCAqIEBzZWUgc2V0UGF0aCBzZXRUZXh0dXJlUGF0aFxuXHQgKlxuXHQgKiBAbm90ZSBJbiBvcmRlciBmb3IgcmVsYXRpdmUgdGV4dHVyZSByZWZlcmVuY2VzIHRvIHJlc29sdmUgY29ycmVjdGx5XG5cdCAqIHlvdSBtdXN0IGNhbGwgc2V0UGF0aCBhbmQvb3Igc2V0VGV4dHVyZVBhdGggZXhwbGljaXRseSBwcmlvciB0byBsb2FkLlxuXHQgKi9cblx0bG9hZDogZnVuY3Rpb24gKCB1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvciApIHtcblxuXHRcdHZhciBzY29wZSA9IHRoaXM7XG5cblx0XHR2YXIgbG9hZGVyID0gbmV3IFRIUkVFLkZpbGVMb2FkZXIoIHRoaXMubWFuYWdlciApO1xuXHRcdGxvYWRlci5zZXRQYXRoKCB0aGlzLnBhdGggKTtcblx0XHRsb2FkZXIubG9hZCggdXJsLCBmdW5jdGlvbiAoIHRleHQgKSB7XG5cblx0XHRcdG9uTG9hZCggc2NvcGUucGFyc2UoIHRleHQgKSApO1xuXG5cdFx0fSwgb25Qcm9ncmVzcywgb25FcnJvciApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIFNldCBiYXNlIHBhdGggZm9yIHJlc29sdmluZyByZWZlcmVuY2VzLlxuXHQgKiBJZiBzZXQgdGhpcyBwYXRoIHdpbGwgYmUgcHJlcGVuZGVkIHRvIGVhY2ggbG9hZGVkIGFuZCBmb3VuZCByZWZlcmVuY2UuXG5cdCAqXG5cdCAqIEBzZWUgc2V0VGV4dHVyZVBhdGhcblx0ICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcblx0ICogQHJldHVybiB7VEhSRUUuTVRMTG9hZGVyfVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiAgICAgbXRsTG9hZGVyLnNldFBhdGgoICdhc3NldHMvb2JqLycgKTtcblx0ICogICAgIG10bExvYWRlci5sb2FkKCAnbXkubXRsJywgLi4uICk7XG5cdCAqL1xuXHRzZXRQYXRoOiBmdW5jdGlvbiAoIHBhdGggKSB7XG5cblx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIFNldCBiYXNlIHBhdGggZm9yIHJlc29sdmluZyB0ZXh0dXJlIHJlZmVyZW5jZXMuXG5cdCAqIElmIHNldCB0aGlzIHBhdGggd2lsbCBiZSBwcmVwZW5kZWQgZm91bmQgdGV4dHVyZSByZWZlcmVuY2UuXG5cdCAqIElmIG5vdCBzZXQgYW5kIHNldFBhdGggaXMsIGl0IHdpbGwgYmUgdXNlZCBhcyB0ZXh0dXJlIGJhc2UgcGF0aC5cblx0ICpcblx0ICogQHNlZSBzZXRQYXRoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG5cdCAqIEByZXR1cm4ge1RIUkVFLk1UTExvYWRlcn1cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIG10bExvYWRlci5zZXRQYXRoKCAnYXNzZXRzL29iai8nICk7XG5cdCAqICAgICBtdGxMb2FkZXIuc2V0VGV4dHVyZVBhdGgoICdhc3NldHMvdGV4dHVyZXMvJyApO1xuXHQgKiAgICAgbXRsTG9hZGVyLmxvYWQoICdteS5tdGwnLCAuLi4gKTtcblx0ICovXG5cdHNldFRleHR1cmVQYXRoOiBmdW5jdGlvbiAoIHBhdGggKSB7XG5cblx0XHR0aGlzLnRleHR1cmVQYXRoID0gcGF0aDtcblx0XHRyZXR1cm4gdGhpcztcblxuXHR9LFxuXG5cdHNldEJhc2VVcmw6IGZ1bmN0aW9uICggcGF0aCApIHtcblxuXHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk1UTExvYWRlcjogLnNldEJhc2VVcmwoKSBpcyBkZXByZWNhdGVkLiBVc2UgLnNldFRleHR1cmVQYXRoKCBwYXRoICkgZm9yIHRleHR1cmUgcGF0aCBvciAuc2V0UGF0aCggcGF0aCApIGZvciBnZW5lcmFsIGJhc2UgcGF0aCBpbnN0ZWFkLicgKTtcblxuXHRcdHJldHVybiB0aGlzLnNldFRleHR1cmVQYXRoKCBwYXRoICk7XG5cblx0fSxcblxuXHRzZXRDcm9zc09yaWdpbjogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuY3Jvc3NPcmlnaW4gPSB2YWx1ZTtcblx0XHRyZXR1cm4gdGhpcztcblxuXHR9LFxuXG5cdHNldE1hdGVyaWFsT3B0aW9uczogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHRoaXMubWF0ZXJpYWxPcHRpb25zID0gdmFsdWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fSxcblxuXHQvKipcblx0ICogUGFyc2VzIGEgTVRMIGZpbGUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gQ29udGVudCBvZiBNVEwgZmlsZVxuXHQgKiBAcmV0dXJuIHtUSFJFRS5NVExMb2FkZXIuTWF0ZXJpYWxDcmVhdG9yfVxuXHQgKlxuXHQgKiBAc2VlIHNldFBhdGggc2V0VGV4dHVyZVBhdGhcblx0ICpcblx0ICogQG5vdGUgSW4gb3JkZXIgZm9yIHJlbGF0aXZlIHRleHR1cmUgcmVmZXJlbmNlcyB0byByZXNvbHZlIGNvcnJlY3RseVxuXHQgKiB5b3UgbXVzdCBjYWxsIHNldFBhdGggYW5kL29yIHNldFRleHR1cmVQYXRoIGV4cGxpY2l0bHkgcHJpb3IgdG8gcGFyc2UuXG5cdCAqL1xuXHRwYXJzZTogZnVuY3Rpb24gKCB0ZXh0ICkge1xuXG5cdFx0dmFyIGxpbmVzID0gdGV4dC5zcGxpdCggJ1xcbicgKTtcblx0XHR2YXIgaW5mbyA9IHt9O1xuXHRcdHZhciBkZWxpbWl0ZXJfcGF0dGVybiA9IC9cXHMrLztcblx0XHR2YXIgbWF0ZXJpYWxzSW5mbyA9IHt9O1xuXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHR2YXIgbGluZSA9IGxpbmVzWyBpIF07XG5cdFx0XHRsaW5lID0gbGluZS50cmltKCk7XG5cblx0XHRcdGlmICggbGluZS5sZW5ndGggPT09IDAgfHwgbGluZS5jaGFyQXQoIDAgKSA9PT0gJyMnICkge1xuXG5cdFx0XHRcdC8vIEJsYW5rIGxpbmUgb3IgY29tbWVudCBpZ25vcmVcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdH1cblxuXHRcdFx0dmFyIHBvcyA9IGxpbmUuaW5kZXhPZiggJyAnICk7XG5cblx0XHRcdHZhciBrZXkgPSAoIHBvcyA+PSAwICkgPyBsaW5lLnN1YnN0cmluZyggMCwgcG9zICkgOiBsaW5lO1xuXHRcdFx0a2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdHZhciB2YWx1ZSA9ICggcG9zID49IDAgKSA/IGxpbmUuc3Vic3RyaW5nKCBwb3MgKyAxICkgOiAnJztcblx0XHRcdHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG5cdFx0XHRpZiAoIGtleSA9PT0gJ25ld210bCcgKSB7XG5cblx0XHRcdFx0Ly8gTmV3IG1hdGVyaWFsXG5cblx0XHRcdFx0aW5mbyA9IHsgbmFtZTogdmFsdWUgfTtcblx0XHRcdFx0bWF0ZXJpYWxzSW5mb1sgdmFsdWUgXSA9IGluZm87XG5cblx0XHRcdH0gZWxzZSBpZiAoIGluZm8gKSB7XG5cblx0XHRcdFx0aWYgKCBrZXkgPT09ICdrYScgfHwga2V5ID09PSAna2QnIHx8IGtleSA9PT0gJ2tzJyApIHtcblxuXHRcdFx0XHRcdHZhciBzcyA9IHZhbHVlLnNwbGl0KCBkZWxpbWl0ZXJfcGF0dGVybiwgMyApO1xuXHRcdFx0XHRcdGluZm9bIGtleSBdID0gWyBwYXJzZUZsb2F0KCBzc1sgMCBdICksIHBhcnNlRmxvYXQoIHNzWyAxIF0gKSwgcGFyc2VGbG9hdCggc3NbIDIgXSApIF07XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGluZm9bIGtleSBdID0gdmFsdWU7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR2YXIgbWF0ZXJpYWxDcmVhdG9yID0gbmV3IFRIUkVFLk1UTExvYWRlci5NYXRlcmlhbENyZWF0b3IoIHRoaXMudGV4dHVyZVBhdGggfHwgdGhpcy5wYXRoLCB0aGlzLm1hdGVyaWFsT3B0aW9ucyApO1xuXHRcdG1hdGVyaWFsQ3JlYXRvci5zZXRDcm9zc09yaWdpbiggdGhpcy5jcm9zc09yaWdpbiApO1xuXHRcdG1hdGVyaWFsQ3JlYXRvci5zZXRNYW5hZ2VyKCB0aGlzLm1hbmFnZXIgKTtcblx0XHRtYXRlcmlhbENyZWF0b3Iuc2V0TWF0ZXJpYWxzKCBtYXRlcmlhbHNJbmZvICk7XG5cdFx0cmV0dXJuIG1hdGVyaWFsQ3JlYXRvcjtcblxuXHR9XG5cbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IFRIUkVFLU1UTExvYWRlci5NYXRlcmlhbENyZWF0b3JcbiAqIEBwYXJhbSBiYXNlVXJsIC0gVXJsIHJlbGF0aXZlIHRvIHdoaWNoIHRleHR1cmVzIGFyZSBsb2FkZWRcbiAqIEBwYXJhbSBvcHRpb25zIC0gU2V0IG9mIG9wdGlvbnMgb24gaG93IHRvIGNvbnN0cnVjdCB0aGUgbWF0ZXJpYWxzXG4gKiAgICAgICAgICAgICAgICAgIHNpZGU6IFdoaWNoIHNpZGUgdG8gYXBwbHkgdGhlIG1hdGVyaWFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIFRIUkVFLkZyb250U2lkZSAoZGVmYXVsdCksIFRIUkVFLkJhY2tTaWRlLCBUSFJFRS5Eb3VibGVTaWRlXG4gKiAgICAgICAgICAgICAgICAgIHdyYXA6IFdoYXQgdHlwZSBvZiB3cmFwcGluZyB0byBhcHBseSBmb3IgdGV4dHVyZXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgVEhSRUUuUmVwZWF0V3JhcHBpbmcgKGRlZmF1bHQpLCBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nLCBUSFJFRS5NaXJyb3JlZFJlcGVhdFdyYXBwaW5nXG4gKiAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZVJHQjogUkdCcyBuZWVkIHRvIGJlIG5vcm1hbGl6ZWQgdG8gMC0xIGZyb20gMC0yNTVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0OiBmYWxzZSwgYXNzdW1lZCB0byBiZSBhbHJlYWR5IG5vcm1hbGl6ZWRcbiAqICAgICAgICAgICAgICAgICAgaWdub3JlWmVyb1JHQnM6IElnbm9yZSB2YWx1ZXMgb2YgUkdCcyAoS2EsS2QsS3MpIHRoYXQgYXJlIGFsbCAwJ3NcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQ6IGZhbHNlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG5USFJFRS5NVExMb2FkZXIuTWF0ZXJpYWxDcmVhdG9yID0gZnVuY3Rpb24gKCBiYXNlVXJsLCBvcHRpb25zICkge1xuXG5cdHRoaXMuYmFzZVVybCA9IGJhc2VVcmwgfHwgJyc7XG5cdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdHRoaXMubWF0ZXJpYWxzSW5mbyA9IHt9O1xuXHR0aGlzLm1hdGVyaWFscyA9IHt9O1xuXHR0aGlzLm1hdGVyaWFsc0FycmF5ID0gW107XG5cdHRoaXMubmFtZUxvb2t1cCA9IHt9O1xuXG5cdHRoaXMuc2lkZSA9ICggdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5zaWRlICkgPyB0aGlzLm9wdGlvbnMuc2lkZSA6IFRIUkVFLkZyb250U2lkZTtcblx0dGhpcy53cmFwID0gKCB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLndyYXAgKSA/IHRoaXMub3B0aW9ucy53cmFwIDogVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG5cbn07XG5cblRIUkVFLk1UTExvYWRlci5NYXRlcmlhbENyZWF0b3IucHJvdG90eXBlID0ge1xuXG5cdGNvbnN0cnVjdG9yOiBUSFJFRS5NVExMb2FkZXIuTWF0ZXJpYWxDcmVhdG9yLFxuXG5cdGNyb3NzT3JpZ2luOiAnQW5vbnltb3VzJyxcblxuXHRzZXRDcm9zc09yaWdpbjogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuY3Jvc3NPcmlnaW4gPSB2YWx1ZTtcblxuXHR9LFxuXG5cdHNldE1hbmFnZXI6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHR0aGlzLm1hbmFnZXIgPSB2YWx1ZTtcblxuXHR9LFxuXG5cdHNldE1hdGVyaWFsczogZnVuY3Rpb24gKCBtYXRlcmlhbHNJbmZvICkge1xuXG5cdFx0dGhpcy5tYXRlcmlhbHNJbmZvID0gdGhpcy5jb252ZXJ0KCBtYXRlcmlhbHNJbmZvICk7XG5cdFx0dGhpcy5tYXRlcmlhbHMgPSB7fTtcblx0XHR0aGlzLm1hdGVyaWFsc0FycmF5ID0gW107XG5cdFx0dGhpcy5uYW1lTG9va3VwID0ge307XG5cblx0fSxcblxuXHRjb252ZXJ0OiBmdW5jdGlvbiAoIG1hdGVyaWFsc0luZm8gKSB7XG5cblx0XHRpZiAoICEgdGhpcy5vcHRpb25zICkgcmV0dXJuIG1hdGVyaWFsc0luZm87XG5cblx0XHR2YXIgY29udmVydGVkID0ge307XG5cblx0XHRmb3IgKCB2YXIgbW4gaW4gbWF0ZXJpYWxzSW5mbyApIHtcblxuXHRcdFx0Ly8gQ29udmVydCBtYXRlcmlhbHMgaW5mbyBpbnRvIG5vcm1hbGl6ZWQgZm9ybSBiYXNlZCBvbiBvcHRpb25zXG5cblx0XHRcdHZhciBtYXQgPSBtYXRlcmlhbHNJbmZvWyBtbiBdO1xuXG5cdFx0XHR2YXIgY292bWF0ID0ge307XG5cblx0XHRcdGNvbnZlcnRlZFsgbW4gXSA9IGNvdm1hdDtcblxuXHRcdFx0Zm9yICggdmFyIHByb3AgaW4gbWF0ICkge1xuXG5cdFx0XHRcdHZhciBzYXZlID0gdHJ1ZTtcblx0XHRcdFx0dmFyIHZhbHVlID0gbWF0WyBwcm9wIF07XG5cdFx0XHRcdHZhciBscHJvcCA9IHByb3AudG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0XHRzd2l0Y2ggKCBscHJvcCApIHtcblxuXHRcdFx0XHRcdGNhc2UgJ2tkJzpcblx0XHRcdFx0XHRjYXNlICdrYSc6XG5cdFx0XHRcdFx0Y2FzZSAna3MnOlxuXG5cdFx0XHRcdFx0XHQvLyBEaWZmdXNlIGNvbG9yIChjb2xvciB1bmRlciB3aGl0ZSBsaWdodCkgdXNpbmcgUkdCIHZhbHVlc1xuXG5cdFx0XHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubm9ybWFsaXplUkdCICkge1xuXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gWyB2YWx1ZVsgMCBdIC8gMjU1LCB2YWx1ZVsgMSBdIC8gMjU1LCB2YWx1ZVsgMiBdIC8gMjU1IF07XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmlnbm9yZVplcm9SR0JzICkge1xuXG5cdFx0XHRcdFx0XHRcdGlmICggdmFsdWVbIDAgXSA9PT0gMCAmJiB2YWx1ZVsgMSBdID09PSAwICYmIHZhbHVlWyAyIF0gPT09IDAgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBpZ25vcmVcblxuXHRcdFx0XHRcdFx0XHRcdHNhdmUgPSBmYWxzZTtcblxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzYXZlICkge1xuXG5cdFx0XHRcdFx0Y292bWF0WyBscHJvcCBdID0gdmFsdWU7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gY29udmVydGVkO1xuXG5cdH0sXG5cblx0cHJlbG9hZDogZnVuY3Rpb24gKCkge1xuXG5cdFx0Zm9yICggdmFyIG1uIGluIHRoaXMubWF0ZXJpYWxzSW5mbyApIHtcblxuXHRcdFx0dGhpcy5jcmVhdGUoIG1uICk7XG5cblx0XHR9XG5cblx0fSxcblxuXHRnZXRJbmRleDogZnVuY3Rpb24gKCBtYXRlcmlhbE5hbWUgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5uYW1lTG9va3VwWyBtYXRlcmlhbE5hbWUgXTtcblxuXHR9LFxuXG5cdGdldEFzQXJyYXk6IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHRmb3IgKCB2YXIgbW4gaW4gdGhpcy5tYXRlcmlhbHNJbmZvICkge1xuXG5cdFx0XHR0aGlzLm1hdGVyaWFsc0FycmF5WyBpbmRleCBdID0gdGhpcy5jcmVhdGUoIG1uICk7XG5cdFx0XHR0aGlzLm5hbWVMb29rdXBbIG1uIF0gPSBpbmRleDtcblx0XHRcdGluZGV4ICsrO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubWF0ZXJpYWxzQXJyYXk7XG5cblx0fSxcblxuXHRjcmVhdGU6IGZ1bmN0aW9uICggbWF0ZXJpYWxOYW1lICkge1xuXG5cdFx0aWYgKCB0aGlzLm1hdGVyaWFsc1sgbWF0ZXJpYWxOYW1lIF0gPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0dGhpcy5jcmVhdGVNYXRlcmlhbF8oIG1hdGVyaWFsTmFtZSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubWF0ZXJpYWxzWyBtYXRlcmlhbE5hbWUgXTtcblxuXHR9LFxuXG5cdGNyZWF0ZU1hdGVyaWFsXzogZnVuY3Rpb24gKCBtYXRlcmlhbE5hbWUgKSB7XG5cblx0XHQvLyBDcmVhdGUgbWF0ZXJpYWxcblxuXHRcdHZhciBzY29wZSA9IHRoaXM7XG5cdFx0dmFyIG1hdCA9IHRoaXMubWF0ZXJpYWxzSW5mb1sgbWF0ZXJpYWxOYW1lIF07XG5cdFx0dmFyIHBhcmFtcyA9IHtcblxuXHRcdFx0bmFtZTogbWF0ZXJpYWxOYW1lLFxuXHRcdFx0c2lkZTogdGhpcy5zaWRlXG5cblx0XHR9O1xuXG5cdFx0ZnVuY3Rpb24gcmVzb2x2ZVVSTCggYmFzZVVybCwgdXJsICkge1xuXG5cdFx0XHRpZiAoIHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHVybCA9PT0gJycgKVxuXHRcdFx0XHRyZXR1cm4gJyc7XG5cblx0XHRcdC8vIEFic29sdXRlIFVSTFxuXHRcdFx0aWYgKCAvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KCB1cmwgKSApIHJldHVybiB1cmw7XG5cblx0XHRcdHJldHVybiBiYXNlVXJsICsgdXJsO1xuXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gc2V0TWFwRm9yVHlwZSggbWFwVHlwZSwgdmFsdWUgKSB7XG5cblx0XHRcdGlmICggcGFyYW1zWyBtYXBUeXBlIF0gKSByZXR1cm47IC8vIEtlZXAgdGhlIGZpcnN0IGVuY291bnRlcmVkIHRleHR1cmVcblxuXHRcdFx0dmFyIHRleFBhcmFtcyA9IHNjb3BlLmdldFRleHR1cmVQYXJhbXMoIHZhbHVlLCBwYXJhbXMgKTtcblx0XHRcdHZhciBtYXAgPSBzY29wZS5sb2FkVGV4dHVyZSggcmVzb2x2ZVVSTCggc2NvcGUuYmFzZVVybCwgdGV4UGFyYW1zLnVybCApICk7XG5cblx0XHRcdG1hcC5yZXBlYXQuY29weSggdGV4UGFyYW1zLnNjYWxlICk7XG5cdFx0XHRtYXAub2Zmc2V0LmNvcHkoIHRleFBhcmFtcy5vZmZzZXQgKTtcblxuXHRcdFx0bWFwLndyYXBTID0gc2NvcGUud3JhcDtcblx0XHRcdG1hcC53cmFwVCA9IHNjb3BlLndyYXA7XG5cblx0XHRcdHBhcmFtc1sgbWFwVHlwZSBdID0gbWFwO1xuXG5cdFx0fVxuXG5cdFx0Zm9yICggdmFyIHByb3AgaW4gbWF0ICkge1xuXG5cdFx0XHR2YXIgdmFsdWUgPSBtYXRbIHByb3AgXTtcblx0XHRcdHZhciBuO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSAnJyApIGNvbnRpbnVlO1xuXG5cdFx0XHRzd2l0Y2ggKCBwcm9wLnRvTG93ZXJDYXNlKCkgKSB7XG5cblx0XHRcdFx0Ly8gTnMgaXMgbWF0ZXJpYWwgc3BlY3VsYXIgZXhwb25lbnRcblxuXHRcdFx0XHRjYXNlICdrZCc6XG5cblx0XHRcdFx0XHQvLyBEaWZmdXNlIGNvbG9yIChjb2xvciB1bmRlciB3aGl0ZSBsaWdodCkgdXNpbmcgUkdCIHZhbHVlc1xuXG5cdFx0XHRcdFx0cGFyYW1zLmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCkuZnJvbUFycmF5KCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAna3MnOlxuXG5cdFx0XHRcdFx0Ly8gU3BlY3VsYXIgY29sb3IgKGNvbG9yIHdoZW4gbGlnaHQgaXMgcmVmbGVjdGVkIGZyb20gc2hpbnkgc3VyZmFjZSkgdXNpbmcgUkdCIHZhbHVlc1xuXHRcdFx0XHRcdHBhcmFtcy5zcGVjdWxhciA9IG5ldyBUSFJFRS5Db2xvcigpLmZyb21BcnJheSggdmFsdWUgKTtcblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ21hcF9rZCc6XG5cblx0XHRcdFx0XHQvLyBEaWZmdXNlIHRleHR1cmUgbWFwXG5cblx0XHRcdFx0XHRzZXRNYXBGb3JUeXBlKCBcIm1hcFwiLCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnbWFwX2tzJzpcblxuXHRcdFx0XHRcdC8vIFNwZWN1bGFyIG1hcFxuXG5cdFx0XHRcdFx0c2V0TWFwRm9yVHlwZSggXCJzcGVjdWxhck1hcFwiLCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnbm9ybSc6XG5cblx0XHRcdFx0XHRzZXRNYXBGb3JUeXBlKCBcIm5vcm1hbE1hcFwiLCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnbWFwX2J1bXAnOlxuXHRcdFx0XHRjYXNlICdidW1wJzpcblxuXHRcdFx0XHRcdC8vIEJ1bXAgdGV4dHVyZSBtYXBcblxuXHRcdFx0XHRcdHNldE1hcEZvclR5cGUoIFwiYnVtcE1hcFwiLCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnbnMnOlxuXG5cdFx0XHRcdFx0Ly8gVGhlIHNwZWN1bGFyIGV4cG9uZW50IChkZWZpbmVzIHRoZSBmb2N1cyBvZiB0aGUgc3BlY3VsYXIgaGlnaGxpZ2h0KVxuXHRcdFx0XHRcdC8vIEEgaGlnaCBleHBvbmVudCByZXN1bHRzIGluIGEgdGlnaHQsIGNvbmNlbnRyYXRlZCBoaWdobGlnaHQuIE5zIHZhbHVlcyBub3JtYWxseSByYW5nZSBmcm9tIDAgdG8gMTAwMC5cblxuXHRcdFx0XHRcdHBhcmFtcy5zaGluaW5lc3MgPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnZCc6XG5cdFx0XHRcdFx0biA9IHBhcnNlRmxvYXQoIHZhbHVlICk7XG5cblx0XHRcdFx0XHRpZiAoIG4gPCAxICkge1xuXG5cdFx0XHRcdFx0XHRwYXJhbXMub3BhY2l0eSA9IG47XG5cdFx0XHRcdFx0XHRwYXJhbXMudHJhbnNwYXJlbnQgPSB0cnVlO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAndHInOlxuXHRcdFx0XHRcdG4gPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmludmVydFRyUHJvcGVydHkgKSBuID0gMSAtIG47XG5cblx0XHRcdFx0XHRpZiAoIG4gPiAwICkge1xuXG5cdFx0XHRcdFx0XHRwYXJhbXMub3BhY2l0eSA9IDEgLSBuO1xuXHRcdFx0XHRcdFx0cGFyYW1zLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHRoaXMubWF0ZXJpYWxzWyBtYXRlcmlhbE5hbWUgXSA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCggcGFyYW1zICk7XG5cdFx0cmV0dXJuIHRoaXMubWF0ZXJpYWxzWyBtYXRlcmlhbE5hbWUgXTtcblxuXHR9LFxuXG5cdGdldFRleHR1cmVQYXJhbXM6IGZ1bmN0aW9uICggdmFsdWUsIG1hdFBhcmFtcyApIHtcblxuXHRcdHZhciB0ZXhQYXJhbXMgPSB7XG5cblx0XHRcdHNjYWxlOiBuZXcgVEhSRUUuVmVjdG9yMiggMSwgMSApLFxuXHRcdFx0b2Zmc2V0OiBuZXcgVEhSRUUuVmVjdG9yMiggMCwgMCApXG5cblx0XHQgfTtcblxuXHRcdHZhciBpdGVtcyA9IHZhbHVlLnNwbGl0KCAvXFxzKy8gKTtcblx0XHR2YXIgcG9zO1xuXG5cdFx0cG9zID0gaXRlbXMuaW5kZXhPZiggJy1ibScgKTtcblxuXHRcdGlmICggcG9zID49IDAgKSB7XG5cblx0XHRcdG1hdFBhcmFtcy5idW1wU2NhbGUgPSBwYXJzZUZsb2F0KCBpdGVtc1sgcG9zICsgMSBdICk7XG5cdFx0XHRpdGVtcy5zcGxpY2UoIHBvcywgMiApO1xuXG5cdFx0fVxuXG5cdFx0cG9zID0gaXRlbXMuaW5kZXhPZiggJy1zJyApO1xuXG5cdFx0aWYgKCBwb3MgPj0gMCApIHtcblxuXHRcdFx0dGV4UGFyYW1zLnNjYWxlLnNldCggcGFyc2VGbG9hdCggaXRlbXNbIHBvcyArIDEgXSApLCBwYXJzZUZsb2F0KCBpdGVtc1sgcG9zICsgMiBdICkgKTtcblx0XHRcdGl0ZW1zLnNwbGljZSggcG9zLCA0ICk7IC8vIHdlIGV4cGVjdCAzIHBhcmFtZXRlcnMgaGVyZSFcblxuXHRcdH1cblxuXHRcdHBvcyA9IGl0ZW1zLmluZGV4T2YoICctbycgKTtcblxuXHRcdGlmICggcG9zID49IDAgKSB7XG5cblx0XHRcdHRleFBhcmFtcy5vZmZzZXQuc2V0KCBwYXJzZUZsb2F0KCBpdGVtc1sgcG9zICsgMSBdICksIHBhcnNlRmxvYXQoIGl0ZW1zWyBwb3MgKyAyIF0gKSApO1xuXHRcdFx0aXRlbXMuc3BsaWNlKCBwb3MsIDQgKTsgLy8gd2UgZXhwZWN0IDMgcGFyYW1ldGVycyBoZXJlIVxuXG5cdFx0fVxuXG5cdFx0dGV4UGFyYW1zLnVybCA9IGl0ZW1zLmpvaW4oICcgJyApLnRyaW0oKTtcblx0XHRyZXR1cm4gdGV4UGFyYW1zO1xuXG5cdH0sXG5cblx0bG9hZFRleHR1cmU6IGZ1bmN0aW9uICggdXJsLCBtYXBwaW5nLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKSB7XG5cblx0XHR2YXIgdGV4dHVyZTtcblx0XHR2YXIgbG9hZGVyID0gVEhSRUUuTG9hZGVyLkhhbmRsZXJzLmdldCggdXJsICk7XG5cdFx0dmFyIG1hbmFnZXIgPSAoIHRoaXMubWFuYWdlciAhPT0gdW5kZWZpbmVkICkgPyB0aGlzLm1hbmFnZXIgOiBUSFJFRS5EZWZhdWx0TG9hZGluZ01hbmFnZXI7XG5cblx0XHRpZiAoIGxvYWRlciA9PT0gbnVsbCApIHtcblxuXHRcdFx0bG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoIG1hbmFnZXIgKTtcblxuXHRcdH1cblxuXHRcdGlmICggbG9hZGVyLnNldENyb3NzT3JpZ2luICkgbG9hZGVyLnNldENyb3NzT3JpZ2luKCB0aGlzLmNyb3NzT3JpZ2luICk7XG5cdFx0dGV4dHVyZSA9IGxvYWRlci5sb2FkKCB1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvciApO1xuXG5cdFx0aWYgKCBtYXBwaW5nICE9PSB1bmRlZmluZWQgKSB0ZXh0dXJlLm1hcHBpbmcgPSBtYXBwaW5nO1xuXG5cdFx0cmV0dXJuIHRleHR1cmU7XG5cblx0fVxuXG59O1xuXG4vKipcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKi9cblxuVEhSRUUuT0JKTG9hZGVyID0gKCBmdW5jdGlvbiAoKSB7XG5cblx0Ly8gbyBvYmplY3RfbmFtZSB8IGcgZ3JvdXBfbmFtZVxuXHR2YXIgb2JqZWN0X3BhdHRlcm4gPSAvXltvZ11cXHMqKC4rKT8vO1xuXHQvLyBtdGxsaWIgZmlsZV9yZWZlcmVuY2Vcblx0dmFyIG1hdGVyaWFsX2xpYnJhcnlfcGF0dGVybiA9IC9ebXRsbGliIC87XG5cdC8vIHVzZW10bCBtYXRlcmlhbF9uYW1lXG5cdHZhciBtYXRlcmlhbF91c2VfcGF0dGVybiA9IC9edXNlbXRsIC87XG5cblx0ZnVuY3Rpb24gUGFyc2VyU3RhdGUoKSB7XG5cblx0XHR2YXIgc3RhdGUgPSB7XG5cdFx0XHRvYmplY3RzOiBbXSxcblx0XHRcdG9iamVjdDoge30sXG5cblx0XHRcdHZlcnRpY2VzOiBbXSxcblx0XHRcdG5vcm1hbHM6IFtdLFxuXHRcdFx0Y29sb3JzOiBbXSxcblx0XHRcdHV2czogW10sXG5cblx0XHRcdG1hdGVyaWFsTGlicmFyaWVzOiBbXSxcblxuXHRcdFx0c3RhcnRPYmplY3Q6IGZ1bmN0aW9uICggbmFtZSwgZnJvbURlY2xhcmF0aW9uICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZSBjdXJyZW50IG9iamVjdCAoaW5pdGlhbCBmcm9tIHJlc2V0KSBpcyBub3QgZnJvbSBhIGcvbyBkZWNsYXJhdGlvbiBpbiB0aGUgcGFyc2VkXG5cdFx0XHRcdC8vIGZpbGUuIFdlIG5lZWQgdG8gdXNlIGl0IGZvciB0aGUgZmlyc3QgcGFyc2VkIGcvbyB0byBrZWVwIHRoaW5ncyBpbiBzeW5jLlxuXHRcdFx0XHRpZiAoIHRoaXMub2JqZWN0ICYmIHRoaXMub2JqZWN0LmZyb21EZWNsYXJhdGlvbiA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHR0aGlzLm9iamVjdC5uYW1lID0gbmFtZTtcblx0XHRcdFx0XHR0aGlzLm9iamVjdC5mcm9tRGVjbGFyYXRpb24gPSAoIGZyb21EZWNsYXJhdGlvbiAhPT0gZmFsc2UgKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBwcmV2aW91c01hdGVyaWFsID0gKCB0aGlzLm9iamVjdCAmJiB0eXBlb2YgdGhpcy5vYmplY3QuY3VycmVudE1hdGVyaWFsID09PSAnZnVuY3Rpb24nID8gdGhpcy5vYmplY3QuY3VycmVudE1hdGVyaWFsKCkgOiB1bmRlZmluZWQgKTtcblxuXHRcdFx0XHRpZiAoIHRoaXMub2JqZWN0ICYmIHR5cGVvZiB0aGlzLm9iamVjdC5fZmluYWxpemUgPT09ICdmdW5jdGlvbicgKSB7XG5cblx0XHRcdFx0XHR0aGlzLm9iamVjdC5fZmluYWxpemUoIHRydWUgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5vYmplY3QgPSB7XG5cdFx0XHRcdFx0bmFtZTogbmFtZSB8fCAnJyxcblx0XHRcdFx0XHRmcm9tRGVjbGFyYXRpb246ICggZnJvbURlY2xhcmF0aW9uICE9PSBmYWxzZSApLFxuXG5cdFx0XHRcdFx0Z2VvbWV0cnk6IHtcblx0XHRcdFx0XHRcdHZlcnRpY2VzOiBbXSxcblx0XHRcdFx0XHRcdG5vcm1hbHM6IFtdLFxuXHRcdFx0XHRcdFx0Y29sb3JzOiBbXSxcblx0XHRcdFx0XHRcdHV2czogW11cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG1hdGVyaWFsczogW10sXG5cdFx0XHRcdFx0c21vb3RoOiB0cnVlLFxuXG5cdFx0XHRcdFx0c3RhcnRNYXRlcmlhbDogZnVuY3Rpb24gKCBuYW1lLCBsaWJyYXJpZXMgKSB7XG5cblx0XHRcdFx0XHRcdHZhciBwcmV2aW91cyA9IHRoaXMuX2ZpbmFsaXplKCBmYWxzZSApO1xuXG5cdFx0XHRcdFx0XHQvLyBOZXcgdXNlbXRsIGRlY2xhcmF0aW9uIG92ZXJ3cml0ZXMgYW4gaW5oZXJpdGVkIG1hdGVyaWFsLCBleGNlcHQgaWYgZmFjZXMgd2VyZSBkZWNsYXJlZFxuXHRcdFx0XHRcdFx0Ly8gYWZ0ZXIgdGhlIG1hdGVyaWFsLCB0aGVuIGl0IG11c3QgYmUgcHJlc2VydmVkIGZvciBwcm9wZXIgTXVsdGlNYXRlcmlhbCBjb250aW51YXRpb24uXG5cdFx0XHRcdFx0XHRpZiAoIHByZXZpb3VzICYmICggcHJldmlvdXMuaW5oZXJpdGVkIHx8IHByZXZpb3VzLmdyb3VwQ291bnQgPD0gMCApICkge1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMubWF0ZXJpYWxzLnNwbGljZSggcHJldmlvdXMuaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YXIgbWF0ZXJpYWwgPSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4OiB0aGlzLm1hdGVyaWFscy5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdG5hbWU6IG5hbWUgfHwgJycsXG5cdFx0XHRcdFx0XHRcdG10bGxpYjogKCBBcnJheS5pc0FycmF5KCBsaWJyYXJpZXMgKSAmJiBsaWJyYXJpZXMubGVuZ3RoID4gMCA/IGxpYnJhcmllc1sgbGlicmFyaWVzLmxlbmd0aCAtIDEgXSA6ICcnICksXG5cdFx0XHRcdFx0XHRcdHNtb290aDogKCBwcmV2aW91cyAhPT0gdW5kZWZpbmVkID8gcHJldmlvdXMuc21vb3RoIDogdGhpcy5zbW9vdGggKSxcblx0XHRcdFx0XHRcdFx0Z3JvdXBTdGFydDogKCBwcmV2aW91cyAhPT0gdW5kZWZpbmVkID8gcHJldmlvdXMuZ3JvdXBFbmQgOiAwICksXG5cdFx0XHRcdFx0XHRcdGdyb3VwRW5kOiAtIDEsXG5cdFx0XHRcdFx0XHRcdGdyb3VwQ291bnQ6IC0gMSxcblx0XHRcdFx0XHRcdFx0aW5oZXJpdGVkOiBmYWxzZSxcblxuXHRcdFx0XHRcdFx0XHRjbG9uZTogZnVuY3Rpb24gKCBpbmRleCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdHZhciBjbG9uZWQgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpbmRleDogKCB0eXBlb2YgaW5kZXggPT09ICdudW1iZXInID8gaW5kZXggOiB0aGlzLmluZGV4ICksXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRtdGxsaWI6IHRoaXMubXRsbGliLFxuXHRcdFx0XHRcdFx0XHRcdFx0c21vb3RoOiB0aGlzLnNtb290aCxcblx0XHRcdFx0XHRcdFx0XHRcdGdyb3VwU3RhcnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRncm91cEVuZDogLSAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0Z3JvdXBDb3VudDogLSAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0aW5oZXJpdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0Y2xvbmVkLmNsb25lID0gdGhpcy5jbG9uZS5iaW5kKCBjbG9uZWQgKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2xvbmVkO1xuXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdHRoaXMubWF0ZXJpYWxzLnB1c2goIG1hdGVyaWFsICk7XG5cblx0XHRcdFx0XHRcdHJldHVybiBtYXRlcmlhbDtcblxuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRjdXJyZW50TWF0ZXJpYWw6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLm1hdGVyaWFscy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm1hdGVyaWFsc1sgdGhpcy5tYXRlcmlhbHMubGVuZ3RoIC0gMSBdO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0X2ZpbmFsaXplOiBmdW5jdGlvbiAoIGVuZCApIHtcblxuXHRcdFx0XHRcdFx0dmFyIGxhc3RNdWx0aU1hdGVyaWFsID0gdGhpcy5jdXJyZW50TWF0ZXJpYWwoKTtcblx0XHRcdFx0XHRcdGlmICggbGFzdE11bHRpTWF0ZXJpYWwgJiYgbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBFbmQgPT09IC0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRsYXN0TXVsdGlNYXRlcmlhbC5ncm91cEVuZCA9IHRoaXMuZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoIC8gMztcblx0XHRcdFx0XHRcdFx0bGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBDb3VudCA9IGxhc3RNdWx0aU1hdGVyaWFsLmdyb3VwRW5kIC0gbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBTdGFydDtcblx0XHRcdFx0XHRcdFx0bGFzdE11bHRpTWF0ZXJpYWwuaW5oZXJpdGVkID0gZmFsc2U7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSWdub3JlIG9iamVjdHMgdGFpbCBtYXRlcmlhbHMgaWYgbm8gZmFjZSBkZWNsYXJhdGlvbnMgZm9sbG93ZWQgdGhlbSBiZWZvcmUgYSBuZXcgby9nIHN0YXJ0ZWQuXG5cdFx0XHRcdFx0XHRpZiAoIGVuZCAmJiB0aGlzLm1hdGVyaWFscy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHRcdFx0XHRcdGZvciAoIHZhciBtaSA9IHRoaXMubWF0ZXJpYWxzLmxlbmd0aCAtIDE7IG1pID49IDA7IG1pIC0tICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0aGlzLm1hdGVyaWFsc1sgbWkgXS5ncm91cENvdW50IDw9IDAgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMubWF0ZXJpYWxzLnNwbGljZSggbWksIDEgKTtcblxuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gR3VhcmFudGVlIGF0IGxlYXN0IG9uZSBlbXB0eSBtYXRlcmlhbCwgdGhpcyBtYWtlcyB0aGUgY3JlYXRpb24gbGF0ZXIgbW9yZSBzdHJhaWdodCBmb3J3YXJkLlxuXHRcdFx0XHRcdFx0aWYgKCBlbmQgJiYgdGhpcy5tYXRlcmlhbHMubGVuZ3RoID09PSAwICkge1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMubWF0ZXJpYWxzLnB1c2goIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRzbW9vdGg6IHRoaXMuc21vb3RoXG5cdFx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gbGFzdE11bHRpTWF0ZXJpYWw7XG5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gSW5oZXJpdCBwcmV2aW91cyBvYmplY3RzIG1hdGVyaWFsLlxuXHRcdFx0XHQvLyBTcGVjIHRlbGxzIHVzIHRoYXQgYSBkZWNsYXJlZCBtYXRlcmlhbCBtdXN0IGJlIHNldCB0byBhbGwgb2JqZWN0cyB1bnRpbCBhIG5ldyBtYXRlcmlhbCBpcyBkZWNsYXJlZC5cblx0XHRcdFx0Ly8gSWYgYSB1c2VtdGwgZGVjbGFyYXRpb24gaXMgZW5jb3VudGVyZWQgd2hpbGUgdGhpcyBuZXcgb2JqZWN0IGlzIGJlaW5nIHBhcnNlZCwgaXQgd2lsbFxuXHRcdFx0XHQvLyBvdmVyd3JpdGUgdGhlIGluaGVyaXRlZCBtYXRlcmlhbC4gRXhjZXB0aW9uIGJlaW5nIHRoYXQgdGhlcmUgd2FzIGFscmVhZHkgZmFjZSBkZWNsYXJhdGlvbnNcblx0XHRcdFx0Ly8gdG8gdGhlIGluaGVyaXRlZCBtYXRlcmlhbCwgdGhlbiBpdCB3aWxsIGJlIHByZXNlcnZlZCBmb3IgcHJvcGVyIE11bHRpTWF0ZXJpYWwgY29udGludWF0aW9uLlxuXG5cdFx0XHRcdGlmICggcHJldmlvdXNNYXRlcmlhbCAmJiBwcmV2aW91c01hdGVyaWFsLm5hbWUgJiYgdHlwZW9mIHByZXZpb3VzTWF0ZXJpYWwuY2xvbmUgPT09ICdmdW5jdGlvbicgKSB7XG5cblx0XHRcdFx0XHR2YXIgZGVjbGFyZWQgPSBwcmV2aW91c01hdGVyaWFsLmNsb25lKCAwICk7XG5cdFx0XHRcdFx0ZGVjbGFyZWQuaW5oZXJpdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLm9iamVjdC5tYXRlcmlhbHMucHVzaCggZGVjbGFyZWQgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5vYmplY3RzLnB1c2goIHRoaXMub2JqZWN0ICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdGZpbmFsaXplOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0aWYgKCB0aGlzLm9iamVjdCAmJiB0eXBlb2YgdGhpcy5vYmplY3QuX2ZpbmFsaXplID09PSAnZnVuY3Rpb24nICkge1xuXG5cdFx0XHRcdFx0dGhpcy5vYmplY3QuX2ZpbmFsaXplKCB0cnVlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9LFxuXG5cdFx0XHRwYXJzZVZlcnRleEluZGV4OiBmdW5jdGlvbiAoIHZhbHVlLCBsZW4gKSB7XG5cblx0XHRcdFx0dmFyIGluZGV4ID0gcGFyc2VJbnQoIHZhbHVlLCAxMCApO1xuXHRcdFx0XHRyZXR1cm4gKCBpbmRleCA+PSAwID8gaW5kZXggLSAxIDogaW5kZXggKyBsZW4gLyAzICkgKiAzO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRwYXJzZU5vcm1hbEluZGV4OiBmdW5jdGlvbiAoIHZhbHVlLCBsZW4gKSB7XG5cblx0XHRcdFx0dmFyIGluZGV4ID0gcGFyc2VJbnQoIHZhbHVlLCAxMCApO1xuXHRcdFx0XHRyZXR1cm4gKCBpbmRleCA+PSAwID8gaW5kZXggLSAxIDogaW5kZXggKyBsZW4gLyAzICkgKiAzO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRwYXJzZVVWSW5kZXg6IGZ1bmN0aW9uICggdmFsdWUsIGxlbiApIHtcblxuXHRcdFx0XHR2YXIgaW5kZXggPSBwYXJzZUludCggdmFsdWUsIDEwICk7XG5cdFx0XHRcdHJldHVybiAoIGluZGV4ID49IDAgPyBpbmRleCAtIDEgOiBpbmRleCArIGxlbiAvIDIgKSAqIDI7XG5cblx0XHRcdH0sXG5cblx0XHRcdGFkZFZlcnRleDogZnVuY3Rpb24gKCBhLCBiLCBjICkge1xuXG5cdFx0XHRcdHZhciBzcmMgPSB0aGlzLnZlcnRpY2VzO1xuXHRcdFx0XHR2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudmVydGljZXM7XG5cblx0XHRcdFx0ZHN0LnB1c2goIHNyY1sgYSArIDAgXSwgc3JjWyBhICsgMSBdLCBzcmNbIGEgKyAyIF0gKTtcblx0XHRcdFx0ZHN0LnB1c2goIHNyY1sgYiArIDAgXSwgc3JjWyBiICsgMSBdLCBzcmNbIGIgKyAyIF0gKTtcblx0XHRcdFx0ZHN0LnB1c2goIHNyY1sgYyArIDAgXSwgc3JjWyBjICsgMSBdLCBzcmNbIGMgKyAyIF0gKTtcblxuXHRcdFx0fSxcblxuXHRcdFx0YWRkVmVydGV4UG9pbnQ6IGZ1bmN0aW9uICggYSApIHtcblxuXHRcdFx0XHR2YXIgc3JjID0gdGhpcy52ZXJ0aWNlcztcblx0XHRcdFx0dmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5LnZlcnRpY2VzO1xuXG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGEgKyAwIF0sIHNyY1sgYSArIDEgXSwgc3JjWyBhICsgMiBdICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdGFkZFZlcnRleExpbmU6IGZ1bmN0aW9uICggYSApIHtcblxuXHRcdFx0XHR2YXIgc3JjID0gdGhpcy52ZXJ0aWNlcztcblx0XHRcdFx0dmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5LnZlcnRpY2VzO1xuXG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGEgKyAwIF0sIHNyY1sgYSArIDEgXSwgc3JjWyBhICsgMiBdICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdGFkZE5vcm1hbDogZnVuY3Rpb24gKCBhLCBiLCBjICkge1xuXG5cdFx0XHRcdHZhciBzcmMgPSB0aGlzLm5vcm1hbHM7XG5cdFx0XHRcdHZhciBkc3QgPSB0aGlzLm9iamVjdC5nZW9tZXRyeS5ub3JtYWxzO1xuXG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGEgKyAwIF0sIHNyY1sgYSArIDEgXSwgc3JjWyBhICsgMiBdICk7XG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGIgKyAwIF0sIHNyY1sgYiArIDEgXSwgc3JjWyBiICsgMiBdICk7XG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGMgKyAwIF0sIHNyY1sgYyArIDEgXSwgc3JjWyBjICsgMiBdICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdGFkZENvbG9yOiBmdW5jdGlvbiAoIGEsIGIsIGMgKSB7XG5cblx0XHRcdFx0dmFyIHNyYyA9IHRoaXMuY29sb3JzO1xuXHRcdFx0XHR2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkuY29sb3JzO1xuXG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGEgKyAwIF0sIHNyY1sgYSArIDEgXSwgc3JjWyBhICsgMiBdICk7XG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGIgKyAwIF0sIHNyY1sgYiArIDEgXSwgc3JjWyBiICsgMiBdICk7XG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGMgKyAwIF0sIHNyY1sgYyArIDEgXSwgc3JjWyBjICsgMiBdICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdGFkZFVWOiBmdW5jdGlvbiAoIGEsIGIsIGMgKSB7XG5cblx0XHRcdFx0dmFyIHNyYyA9IHRoaXMudXZzO1xuXHRcdFx0XHR2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudXZzO1xuXG5cdFx0XHRcdGRzdC5wdXNoKCBzcmNbIGEgKyAwIF0sIHNyY1sgYSArIDEgXSApO1xuXHRcdFx0XHRkc3QucHVzaCggc3JjWyBiICsgMCBdLCBzcmNbIGIgKyAxIF0gKTtcblx0XHRcdFx0ZHN0LnB1c2goIHNyY1sgYyArIDAgXSwgc3JjWyBjICsgMSBdICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdGFkZFVWTGluZTogZnVuY3Rpb24gKCBhICkge1xuXG5cdFx0XHRcdHZhciBzcmMgPSB0aGlzLnV2cztcblx0XHRcdFx0dmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5LnV2cztcblxuXHRcdFx0XHRkc3QucHVzaCggc3JjWyBhICsgMCBdLCBzcmNbIGEgKyAxIF0gKTtcblxuXHRcdFx0fSxcblxuXHRcdFx0YWRkRmFjZTogZnVuY3Rpb24gKCBhLCBiLCBjLCB1YSwgdWIsIHVjLCBuYSwgbmIsIG5jICkge1xuXG5cdFx0XHRcdHZhciB2TGVuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG5cblx0XHRcdFx0dmFyIGlhID0gdGhpcy5wYXJzZVZlcnRleEluZGV4KCBhLCB2TGVuICk7XG5cdFx0XHRcdHZhciBpYiA9IHRoaXMucGFyc2VWZXJ0ZXhJbmRleCggYiwgdkxlbiApO1xuXHRcdFx0XHR2YXIgaWMgPSB0aGlzLnBhcnNlVmVydGV4SW5kZXgoIGMsIHZMZW4gKTtcblxuXHRcdFx0XHR0aGlzLmFkZFZlcnRleCggaWEsIGliLCBpYyApO1xuXG5cdFx0XHRcdGlmICggdWEgIT09IHVuZGVmaW5lZCAmJiB1YSAhPT0gJycgKSB7XG5cblx0XHRcdFx0XHR2YXIgdXZMZW4gPSB0aGlzLnV2cy5sZW5ndGg7XG5cdFx0XHRcdFx0aWEgPSB0aGlzLnBhcnNlVVZJbmRleCggdWEsIHV2TGVuICk7XG5cdFx0XHRcdFx0aWIgPSB0aGlzLnBhcnNlVVZJbmRleCggdWIsIHV2TGVuICk7XG5cdFx0XHRcdFx0aWMgPSB0aGlzLnBhcnNlVVZJbmRleCggdWMsIHV2TGVuICk7XG5cdFx0XHRcdFx0dGhpcy5hZGRVViggaWEsIGliLCBpYyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIG5hICE9PSB1bmRlZmluZWQgJiYgbmEgIT09ICcnICkge1xuXG5cdFx0XHRcdFx0Ly8gTm9ybWFscyBhcmUgbWFueSB0aW1lcyB0aGUgc2FtZS4gSWYgc28sIHNraXAgZnVuY3Rpb24gY2FsbCBhbmQgcGFyc2VJbnQuXG5cdFx0XHRcdFx0dmFyIG5MZW4gPSB0aGlzLm5vcm1hbHMubGVuZ3RoO1xuXHRcdFx0XHRcdGlhID0gdGhpcy5wYXJzZU5vcm1hbEluZGV4KCBuYSwgbkxlbiApO1xuXG5cdFx0XHRcdFx0aWIgPSBuYSA9PT0gbmIgPyBpYSA6IHRoaXMucGFyc2VOb3JtYWxJbmRleCggbmIsIG5MZW4gKTtcblx0XHRcdFx0XHRpYyA9IG5hID09PSBuYyA/IGlhIDogdGhpcy5wYXJzZU5vcm1hbEluZGV4KCBuYywgbkxlbiApO1xuXG5cdFx0XHRcdFx0dGhpcy5hZGROb3JtYWwoIGlhLCBpYiwgaWMgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCB0aGlzLmNvbG9ycy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRcdFx0dGhpcy5hZGRDb2xvciggaWEsIGliLCBpYyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSxcblxuXHRcdFx0YWRkUG9pbnRHZW9tZXRyeTogZnVuY3Rpb24gKCB2ZXJ0aWNlcyApIHtcblxuXHRcdFx0XHR0aGlzLm9iamVjdC5nZW9tZXRyeS50eXBlID0gJ1BvaW50cyc7XG5cblx0XHRcdFx0dmFyIHZMZW4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcblxuXHRcdFx0XHRmb3IgKCB2YXIgdmkgPSAwLCBsID0gdmVydGljZXMubGVuZ3RoOyB2aSA8IGw7IHZpICsrICkge1xuXG5cdFx0XHRcdFx0dGhpcy5hZGRWZXJ0ZXhQb2ludCggdGhpcy5wYXJzZVZlcnRleEluZGV4KCB2ZXJ0aWNlc1sgdmkgXSwgdkxlbiApICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9LFxuXG5cdFx0XHRhZGRMaW5lR2VvbWV0cnk6IGZ1bmN0aW9uICggdmVydGljZXMsIHV2cyApIHtcblxuXHRcdFx0XHR0aGlzLm9iamVjdC5nZW9tZXRyeS50eXBlID0gJ0xpbmUnO1xuXG5cdFx0XHRcdHZhciB2TGVuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG5cdFx0XHRcdHZhciB1dkxlbiA9IHRoaXMudXZzLmxlbmd0aDtcblxuXHRcdFx0XHRmb3IgKCB2YXIgdmkgPSAwLCBsID0gdmVydGljZXMubGVuZ3RoOyB2aSA8IGw7IHZpICsrICkge1xuXG5cdFx0XHRcdFx0dGhpcy5hZGRWZXJ0ZXhMaW5lKCB0aGlzLnBhcnNlVmVydGV4SW5kZXgoIHZlcnRpY2VzWyB2aSBdLCB2TGVuICkgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yICggdmFyIHV2aSA9IDAsIGwgPSB1dnMubGVuZ3RoOyB1dmkgPCBsOyB1dmkgKysgKSB7XG5cblx0XHRcdFx0XHR0aGlzLmFkZFVWTGluZSggdGhpcy5wYXJzZVVWSW5kZXgoIHV2c1sgdXZpIF0sIHV2TGVuICkgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH07XG5cblx0XHRzdGF0ZS5zdGFydE9iamVjdCggJycsIGZhbHNlICk7XG5cblx0XHRyZXR1cm4gc3RhdGU7XG5cblx0fVxuXG5cdC8vXG5cblx0ZnVuY3Rpb24gT0JKTG9hZGVyKCBtYW5hZ2VyICkge1xuXG5cdFx0dGhpcy5tYW5hZ2VyID0gKCBtYW5hZ2VyICE9PSB1bmRlZmluZWQgKSA/IG1hbmFnZXIgOiBUSFJFRS5EZWZhdWx0TG9hZGluZ01hbmFnZXI7XG5cblx0XHR0aGlzLm1hdGVyaWFscyA9IG51bGw7XG5cblx0fVxuXG5cdE9CSkxvYWRlci5wcm90b3R5cGUgPSB7XG5cblx0XHRjb25zdHJ1Y3RvcjogT0JKTG9hZGVyLFxuXG5cdFx0bG9hZDogZnVuY3Rpb24gKCB1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvciApIHtcblxuXHRcdFx0dmFyIHNjb3BlID0gdGhpcztcblxuXHRcdFx0dmFyIGxvYWRlciA9IG5ldyBUSFJFRS5GaWxlTG9hZGVyKCBzY29wZS5tYW5hZ2VyICk7XG5cdFx0XHRsb2FkZXIuc2V0UGF0aCggdGhpcy5wYXRoICk7XG5cdFx0XHRsb2FkZXIubG9hZCggdXJsLCBmdW5jdGlvbiAoIHRleHQgKSB7XG5cblx0XHRcdFx0b25Mb2FkKCBzY29wZS5wYXJzZSggdGV4dCApICk7XG5cblx0XHRcdH0sIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKTtcblxuXHRcdH0sXG5cblx0XHRzZXRQYXRoOiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0XHR0aGlzLnBhdGggPSB2YWx1ZTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHR9LFxuXG5cdFx0c2V0TWF0ZXJpYWxzOiBmdW5jdGlvbiAoIG1hdGVyaWFscyApIHtcblxuXHRcdFx0dGhpcy5tYXRlcmlhbHMgPSBtYXRlcmlhbHM7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0fSxcblxuXHRcdHBhcnNlOiBmdW5jdGlvbiAoIHRleHQgKSB7XG5cblx0XHRcdGNvbnNvbGUudGltZSggJ09CSkxvYWRlcicgKTtcblxuXHRcdFx0dmFyIHN0YXRlID0gbmV3IFBhcnNlclN0YXRlKCk7XG5cblx0XHRcdGlmICggdGV4dC5pbmRleE9mKCAnXFxyXFxuJyApICE9PSAtIDEgKSB7XG5cblx0XHRcdFx0Ly8gVGhpcyBpcyBmYXN0ZXIgdGhhbiBTdHJpbmcuc3BsaXQgd2l0aCByZWdleCB0aGF0IHNwbGl0cyBvbiBib3RoXG5cdFx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIC9cXHJcXG4vZywgJ1xcbicgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHRleHQuaW5kZXhPZiggJ1xcXFxcXG4nICkgIT09IC0gMSApIHtcblxuXHRcdFx0XHQvLyBqb2luIGxpbmVzIHNlcGFyYXRlZCBieSBhIGxpbmUgY29udGludWF0aW9uIGNoYXJhY3RlciAoXFwpXG5cdFx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIC9cXFxcXFxuL2csICcnICk7XG5cblx0XHRcdH1cblxuXHRcdFx0dmFyIGxpbmVzID0gdGV4dC5zcGxpdCggJ1xcbicgKTtcblx0XHRcdHZhciBsaW5lID0gJycsIGxpbmVGaXJzdENoYXIgPSAnJztcblx0XHRcdHZhciBsaW5lTGVuZ3RoID0gMDtcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcblxuXHRcdFx0Ly8gRmFzdGVyIHRvIGp1c3QgdHJpbSBsZWZ0IHNpZGUgb2YgdGhlIGxpbmUuIFVzZSBpZiBhdmFpbGFibGUuXG5cdFx0XHR2YXIgdHJpbUxlZnQgPSAoIHR5cGVvZiAnJy50cmltTGVmdCA9PT0gJ2Z1bmN0aW9uJyApO1xuXG5cdFx0XHRmb3IgKCB2YXIgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRcdGxpbmUgPSBsaW5lc1sgaSBdO1xuXG5cdFx0XHRcdGxpbmUgPSB0cmltTGVmdCA/IGxpbmUudHJpbUxlZnQoKSA6IGxpbmUudHJpbSgpO1xuXG5cdFx0XHRcdGxpbmVMZW5ndGggPSBsaW5lLmxlbmd0aDtcblxuXHRcdFx0XHRpZiAoIGxpbmVMZW5ndGggPT09IDAgKSBjb250aW51ZTtcblxuXHRcdFx0XHRsaW5lRmlyc3RDaGFyID0gbGluZS5jaGFyQXQoIDAgKTtcblxuXHRcdFx0XHQvLyBAdG9kbyBpbnZva2UgcGFzc2VkIGluIGhhbmRsZXIgaWYgYW55XG5cdFx0XHRcdGlmICggbGluZUZpcnN0Q2hhciA9PT0gJyMnICkgY29udGludWU7XG5cblx0XHRcdFx0aWYgKCBsaW5lRmlyc3RDaGFyID09PSAndicgKSB7XG5cblx0XHRcdFx0XHR2YXIgZGF0YSA9IGxpbmUuc3BsaXQoIC9cXHMrLyApO1xuXG5cdFx0XHRcdFx0c3dpdGNoICggZGF0YVsgMCBdICkge1xuXG5cdFx0XHRcdFx0XHRjYXNlICd2Jzpcblx0XHRcdFx0XHRcdFx0c3RhdGUudmVydGljZXMucHVzaChcblx0XHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KCBkYXRhWyAxIF0gKSxcblx0XHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KCBkYXRhWyAyIF0gKSxcblx0XHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KCBkYXRhWyAzIF0gKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGRhdGEubGVuZ3RoID09PSA4ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0c3RhdGUuY29sb3JzLnB1c2goXG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KCBkYXRhWyA0IF0gKSxcblx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlRmxvYXQoIGRhdGFbIDUgXSApLFxuXHRcdFx0XHRcdFx0XHRcdFx0cGFyc2VGbG9hdCggZGF0YVsgNiBdIClcblxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgJ3ZuJzpcblx0XHRcdFx0XHRcdFx0c3RhdGUubm9ybWFscy5wdXNoKFxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlRmxvYXQoIGRhdGFbIDEgXSApLFxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlRmxvYXQoIGRhdGFbIDIgXSApLFxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlRmxvYXQoIGRhdGFbIDMgXSApXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAndnQnOlxuXHRcdFx0XHRcdFx0XHRzdGF0ZS51dnMucHVzaChcblx0XHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KCBkYXRhWyAxIF0gKSxcblx0XHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KCBkYXRhWyAyIF0gKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBsaW5lRmlyc3RDaGFyID09PSAnZicgKSB7XG5cblx0XHRcdFx0XHR2YXIgbGluZURhdGEgPSBsaW5lLnN1YnN0ciggMSApLnRyaW0oKTtcblx0XHRcdFx0XHR2YXIgdmVydGV4RGF0YSA9IGxpbmVEYXRhLnNwbGl0KCAvXFxzKy8gKTtcblx0XHRcdFx0XHR2YXIgZmFjZVZlcnRpY2VzID0gW107XG5cblx0XHRcdFx0XHQvLyBQYXJzZSB0aGUgZmFjZSB2ZXJ0ZXggZGF0YSBpbnRvIGFuIGVhc3kgdG8gd29yayB3aXRoIGZvcm1hdFxuXG5cdFx0XHRcdFx0Zm9yICggdmFyIGogPSAwLCBqbCA9IHZlcnRleERhdGEubGVuZ3RoOyBqIDwgamw7IGogKysgKSB7XG5cblx0XHRcdFx0XHRcdHZhciB2ZXJ0ZXggPSB2ZXJ0ZXhEYXRhWyBqIF07XG5cblx0XHRcdFx0XHRcdGlmICggdmVydGV4Lmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdFx0XHRcdFx0dmFyIHZlcnRleFBhcnRzID0gdmVydGV4LnNwbGl0KCAnLycgKTtcblx0XHRcdFx0XHRcdFx0ZmFjZVZlcnRpY2VzLnB1c2goIHZlcnRleFBhcnRzICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERyYXcgYW4gZWRnZSBiZXR3ZWVuIHRoZSBmaXJzdCB2ZXJ0ZXggYW5kIGFsbCBzdWJzZXF1ZW50IHZlcnRpY2VzIHRvIGZvcm0gYW4gbi1nb25cblxuXHRcdFx0XHRcdHZhciB2MSA9IGZhY2VWZXJ0aWNlc1sgMCBdO1xuXG5cdFx0XHRcdFx0Zm9yICggdmFyIGogPSAxLCBqbCA9IGZhY2VWZXJ0aWNlcy5sZW5ndGggLSAxOyBqIDwgamw7IGogKysgKSB7XG5cblx0XHRcdFx0XHRcdHZhciB2MiA9IGZhY2VWZXJ0aWNlc1sgaiBdO1xuXHRcdFx0XHRcdFx0dmFyIHYzID0gZmFjZVZlcnRpY2VzWyBqICsgMSBdO1xuXG5cdFx0XHRcdFx0XHRzdGF0ZS5hZGRGYWNlKFxuXHRcdFx0XHRcdFx0XHR2MVsgMCBdLCB2MlsgMCBdLCB2M1sgMCBdLFxuXHRcdFx0XHRcdFx0XHR2MVsgMSBdLCB2MlsgMSBdLCB2M1sgMSBdLFxuXHRcdFx0XHRcdFx0XHR2MVsgMiBdLCB2MlsgMiBdLCB2M1sgMiBdXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGxpbmVGaXJzdENoYXIgPT09ICdsJyApIHtcblxuXHRcdFx0XHRcdHZhciBsaW5lUGFydHMgPSBsaW5lLnN1YnN0cmluZyggMSApLnRyaW0oKS5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHR2YXIgbGluZVZlcnRpY2VzID0gW10sIGxpbmVVVnMgPSBbXTtcblxuXHRcdFx0XHRcdGlmICggbGluZS5pbmRleE9mKCBcIi9cIiApID09PSAtIDEgKSB7XG5cblx0XHRcdFx0XHRcdGxpbmVWZXJ0aWNlcyA9IGxpbmVQYXJ0cztcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdGZvciAoIHZhciBsaSA9IDAsIGxsZW4gPSBsaW5lUGFydHMubGVuZ3RoOyBsaSA8IGxsZW47IGxpICsrICkge1xuXG5cdFx0XHRcdFx0XHRcdHZhciBwYXJ0cyA9IGxpbmVQYXJ0c1sgbGkgXS5zcGxpdCggXCIvXCIgKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIHBhcnRzWyAwIF0gIT09IFwiXCIgKSBsaW5lVmVydGljZXMucHVzaCggcGFydHNbIDAgXSApO1xuXHRcdFx0XHRcdFx0XHRpZiAoIHBhcnRzWyAxIF0gIT09IFwiXCIgKSBsaW5lVVZzLnB1c2goIHBhcnRzWyAxIF0gKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0YXRlLmFkZExpbmVHZW9tZXRyeSggbGluZVZlcnRpY2VzLCBsaW5lVVZzICk7XG5cblx0XHRcdFx0fSBlbHNlIGlmICggbGluZUZpcnN0Q2hhciA9PT0gJ3AnICkge1xuXG5cdFx0XHRcdFx0dmFyIGxpbmVEYXRhID0gbGluZS5zdWJzdHIoIDEgKS50cmltKCk7XG5cdFx0XHRcdFx0dmFyIHBvaW50RGF0YSA9IGxpbmVEYXRhLnNwbGl0KCBcIiBcIiApO1xuXG5cdFx0XHRcdFx0c3RhdGUuYWRkUG9pbnRHZW9tZXRyeSggcG9pbnREYXRhICk7XG5cblx0XHRcdFx0fSBlbHNlIGlmICggKCByZXN1bHQgPSBvYmplY3RfcGF0dGVybi5leGVjKCBsaW5lICkgKSAhPT0gbnVsbCApIHtcblxuXHRcdFx0XHRcdC8vIG8gb2JqZWN0X25hbWVcblx0XHRcdFx0XHQvLyBvclxuXHRcdFx0XHRcdC8vIGcgZ3JvdXBfbmFtZVxuXG5cdFx0XHRcdFx0Ly8gV09SS0FST1VORDogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Mjg2OVxuXHRcdFx0XHRcdC8vIHZhciBuYW1lID0gcmVzdWx0WyAwIF0uc3Vic3RyKCAxICkudHJpbSgpO1xuXHRcdFx0XHRcdHZhciBuYW1lID0gKCBcIiBcIiArIHJlc3VsdFsgMCBdLnN1YnN0ciggMSApLnRyaW0oKSApLnN1YnN0ciggMSApO1xuXG5cdFx0XHRcdFx0c3RhdGUuc3RhcnRPYmplY3QoIG5hbWUgKTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRlcmlhbF91c2VfcGF0dGVybi50ZXN0KCBsaW5lICkgKSB7XG5cblx0XHRcdFx0XHQvLyBtYXRlcmlhbFxuXG5cdFx0XHRcdFx0c3RhdGUub2JqZWN0LnN0YXJ0TWF0ZXJpYWwoIGxpbmUuc3Vic3RyaW5nKCA3ICkudHJpbSgpLCBzdGF0ZS5tYXRlcmlhbExpYnJhcmllcyApO1xuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGVyaWFsX2xpYnJhcnlfcGF0dGVybi50ZXN0KCBsaW5lICkgKSB7XG5cblx0XHRcdFx0XHQvLyBtdGwgZmlsZVxuXG5cdFx0XHRcdFx0c3RhdGUubWF0ZXJpYWxMaWJyYXJpZXMucHVzaCggbGluZS5zdWJzdHJpbmcoIDcgKS50cmltKCkgKTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBsaW5lRmlyc3RDaGFyID09PSAncycgKSB7XG5cblx0XHRcdFx0XHRyZXN1bHQgPSBsaW5lLnNwbGl0KCAnICcgKTtcblxuXHRcdFx0XHRcdC8vIHNtb290aCBzaGFkaW5nXG5cblx0XHRcdFx0XHQvLyBAdG9kbyBIYW5kbGUgZmlsZXMgdGhhdCBoYXZlIHZhcnlpbmcgc21vb3RoIHZhbHVlcyBmb3IgYSBzZXQgb2YgZmFjZXMgaW5zaWRlIG9uZSBnZW9tZXRyeSxcblx0XHRcdFx0XHQvLyBidXQgZG9lcyBub3QgZGVmaW5lIGEgdXNlbXRsIGZvciBlYWNoIGZhY2Ugc2V0LlxuXHRcdFx0XHRcdC8vIFRoaXMgc2hvdWxkIGJlIGRldGVjdGVkIGFuZCBhIGR1bW15IG1hdGVyaWFsIGNyZWF0ZWQgKGxhdGVyIE11bHRpTWF0ZXJpYWwgYW5kIGdlb21ldHJ5IGdyb3VwcykuXG5cdFx0XHRcdFx0Ly8gVGhpcyByZXF1aXJlcyBzb21lIGNhcmUgdG8gbm90IGNyZWF0ZSBleHRyYSBtYXRlcmlhbCBvbiBlYWNoIHNtb290aCB2YWx1ZSBmb3IgXCJub3JtYWxcIiBvYmogZmlsZXMuXG5cdFx0XHRcdFx0Ly8gd2hlcmUgZXhwbGljaXQgdXNlbXRsIGRlZmluZXMgZ2VvbWV0cnkgZ3JvdXBzLlxuXHRcdFx0XHRcdC8vIEV4YW1wbGUgYXNzZXQ6IGV4YW1wbGVzL21vZGVscy9vYmovY2VyYmVydXMvQ2VyYmVydXMub2JqXG5cblx0XHRcdFx0XHQvKlxuXHRcdFx0XHRcdCAqIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9kYXRhZm9ybWF0cy9vYmovXG5cdFx0XHRcdFx0ICogb3Jcblx0XHRcdFx0XHQgKiBodHRwOi8vd3d3LmNzLnV0YWguZWR1L35ib3Vsb3MvY3MzNTA1L29ial9zcGVjLnBkZlxuXHRcdFx0XHRcdCAqXG5cdFx0XHRcdFx0ICogRnJvbSBjaGFwdGVyIFwiR3JvdXBpbmdcIiBTeW50YXggZXhwbGFuYXRpb24gXCJzIGdyb3VwX251bWJlclwiOlxuXHRcdFx0XHRcdCAqIFwiZ3JvdXBfbnVtYmVyIGlzIHRoZSBzbW9vdGhpbmcgZ3JvdXAgbnVtYmVyLiBUbyB0dXJuIG9mZiBzbW9vdGhpbmcgZ3JvdXBzLCB1c2UgYSB2YWx1ZSBvZiAwIG9yIG9mZi5cblx0XHRcdFx0XHQgKiBQb2x5Z29uYWwgZWxlbWVudHMgdXNlIGdyb3VwIG51bWJlcnMgdG8gcHV0IGVsZW1lbnRzIGluIGRpZmZlcmVudCBzbW9vdGhpbmcgZ3JvdXBzLiBGb3IgZnJlZS1mb3JtXG5cdFx0XHRcdFx0ICogc3VyZmFjZXMsIHNtb290aGluZyBncm91cHMgYXJlIGVpdGhlciB0dXJuZWQgb24gb3Igb2ZmOyB0aGVyZSBpcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gdmFsdWVzIGdyZWF0ZXJcblx0XHRcdFx0XHQgKiB0aGFuIDAuXCJcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRpZiAoIHJlc3VsdC5sZW5ndGggPiAxICkge1xuXG5cdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSByZXN1bHRbIDEgXS50cmltKCkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHN0YXRlLm9iamVjdC5zbW9vdGggPSAoIHZhbHVlICE9PSAnMCcgJiYgdmFsdWUgIT09ICdvZmYnICk7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyBaQnJ1c2ggY2FuIHByb2R1Y2UgXCJzXCIgbGluZXMgIzExNzA3XG5cdFx0XHRcdFx0XHRzdGF0ZS5vYmplY3Quc21vb3RoID0gdHJ1ZTtcblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgbWF0ZXJpYWwgPSBzdGF0ZS5vYmplY3QuY3VycmVudE1hdGVyaWFsKCk7XG5cdFx0XHRcdFx0aWYgKCBtYXRlcmlhbCApIG1hdGVyaWFsLnNtb290aCA9IHN0YXRlLm9iamVjdC5zbW9vdGg7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIEhhbmRsZSBudWxsIHRlcm1pbmF0ZWQgZmlsZXMgd2l0aG91dCBleGNlcHRpb25cblx0XHRcdFx0XHRpZiAoIGxpbmUgPT09ICdcXDAnICkgY29udGludWU7XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5PQkpMb2FkZXI6IFVuZXhwZWN0ZWQgbGluZTogXCInICsgbGluZSArICdcIicgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0c3RhdGUuZmluYWxpemUoKTtcblxuXHRcdFx0dmFyIGNvbnRhaW5lciA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuXHRcdFx0Y29udGFpbmVyLm1hdGVyaWFsTGlicmFyaWVzID0gW10uY29uY2F0KCBzdGF0ZS5tYXRlcmlhbExpYnJhcmllcyApO1xuXG5cdFx0XHRmb3IgKCB2YXIgaSA9IDAsIGwgPSBzdGF0ZS5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdFx0dmFyIG9iamVjdCA9IHN0YXRlLm9iamVjdHNbIGkgXTtcblx0XHRcdFx0dmFyIGdlb21ldHJ5ID0gb2JqZWN0Lmdlb21ldHJ5O1xuXHRcdFx0XHR2YXIgbWF0ZXJpYWxzID0gb2JqZWN0Lm1hdGVyaWFscztcblx0XHRcdFx0dmFyIGlzTGluZSA9ICggZ2VvbWV0cnkudHlwZSA9PT0gJ0xpbmUnICk7XG5cdFx0XHRcdHZhciBpc1BvaW50cyA9ICggZ2VvbWV0cnkudHlwZSA9PT0gJ1BvaW50cycgKTtcblx0XHRcdFx0dmFyIGhhc1ZlcnRleENvbG9ycyA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIFNraXAgby9nIGxpbmUgZGVjbGFyYXRpb25zIHRoYXQgZGlkIG5vdCBmb2xsb3cgd2l0aCBhbnkgZmFjZXNcblx0XHRcdFx0aWYgKCBnZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGggPT09IDAgKSBjb250aW51ZTtcblxuXHRcdFx0XHR2YXIgYnVmZmVyZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblxuXHRcdFx0XHRidWZmZXJnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBnZW9tZXRyeS52ZXJ0aWNlcywgMyApICk7XG5cblx0XHRcdFx0aWYgKCBnZW9tZXRyeS5ub3JtYWxzLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdFx0XHRidWZmZXJnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdub3JtYWwnLCBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggZ2VvbWV0cnkubm9ybWFscywgMyApICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGJ1ZmZlcmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggZ2VvbWV0cnkuY29sb3JzLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdFx0XHRoYXNWZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuXHRcdFx0XHRcdGJ1ZmZlcmdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ2NvbG9yJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIGdlb21ldHJ5LmNvbG9ycywgMyApICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggZ2VvbWV0cnkudXZzLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdFx0XHRidWZmZXJnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICd1dicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBnZW9tZXRyeS51dnMsIDIgKSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgbWF0ZXJpYWxzXG5cblx0XHRcdFx0dmFyIGNyZWF0ZWRNYXRlcmlhbHMgPSBbXTtcblxuXHRcdFx0XHRmb3IgKCB2YXIgbWkgPSAwLCBtaUxlbiA9IG1hdGVyaWFscy5sZW5ndGg7IG1pIDwgbWlMZW47IG1pICsrICkge1xuXG5cdFx0XHRcdFx0dmFyIHNvdXJjZU1hdGVyaWFsID0gbWF0ZXJpYWxzWyBtaSBdO1xuXHRcdFx0XHRcdHZhciBtYXRlcmlhbCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICggdGhpcy5tYXRlcmlhbHMgIT09IG51bGwgKSB7XG5cblx0XHRcdFx0XHRcdG1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbHMuY3JlYXRlKCBzb3VyY2VNYXRlcmlhbC5uYW1lICk7XG5cblx0XHRcdFx0XHRcdC8vIG10bCBldGMuIGxvYWRlcnMgcHJvYmFibHkgY2FuJ3QgY3JlYXRlIGxpbmUgbWF0ZXJpYWxzIGNvcnJlY3RseSwgY29weSBwcm9wZXJ0aWVzIHRvIGEgbGluZSBtYXRlcmlhbC5cblx0XHRcdFx0XHRcdGlmICggaXNMaW5lICYmIG1hdGVyaWFsICYmICEgKCBtYXRlcmlhbCBpbnN0YW5jZW9mIFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0dmFyIG1hdGVyaWFsTGluZSA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCgpO1xuXHRcdFx0XHRcdFx0XHRtYXRlcmlhbExpbmUuY29weSggbWF0ZXJpYWwgKTtcblx0XHRcdFx0XHRcdFx0bWF0ZXJpYWxMaW5lLmxpZ2h0cyA9IGZhbHNlOyAvLyBUT0ZJWFxuXHRcdFx0XHRcdFx0XHRtYXRlcmlhbCA9IG1hdGVyaWFsTGluZTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggaXNQb2ludHMgJiYgbWF0ZXJpYWwgJiYgISAoIG1hdGVyaWFsIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRzTWF0ZXJpYWwgKSApIHtcblxuXHRcdFx0XHRcdFx0XHR2YXIgbWF0ZXJpYWxQb2ludHMgPSBuZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwoIHsgc2l6ZTogMTAsIHNpemVBdHRlbnVhdGlvbjogZmFsc2UgfSApO1xuXHRcdFx0XHRcdFx0XHRtYXRlcmlhbExpbmUuY29weSggbWF0ZXJpYWwgKTtcblx0XHRcdFx0XHRcdFx0bWF0ZXJpYWwgPSBtYXRlcmlhbFBvaW50cztcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAhIG1hdGVyaWFsICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIGlzTGluZSApIHtcblxuXHRcdFx0XHRcdFx0XHRtYXRlcmlhbCA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCgpO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBpc1BvaW50cyApIHtcblxuXHRcdFx0XHRcdFx0XHRtYXRlcmlhbCA9IG5ldyBUSFJFRS5Qb2ludHNNYXRlcmlhbCggeyBzaXplOiAxLCBzaXplQXR0ZW51YXRpb246IGZhbHNlIH0gKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCgpO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG1hdGVyaWFsLm5hbWUgPSBzb3VyY2VNYXRlcmlhbC5uYW1lO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSBzb3VyY2VNYXRlcmlhbC5zbW9vdGggPyBmYWxzZSA6IHRydWU7XG5cdFx0XHRcdFx0bWF0ZXJpYWwudmVydGV4Q29sb3JzID0gaGFzVmVydGV4Q29sb3JzID8gVEhSRUUuVmVydGV4Q29sb3JzIDogVEhSRUUuTm9Db2xvcnM7XG5cblx0XHRcdFx0XHRjcmVhdGVkTWF0ZXJpYWxzLnB1c2goIG1hdGVyaWFsICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENyZWF0ZSBtZXNoXG5cblx0XHRcdFx0dmFyIG1lc2g7XG5cblx0XHRcdFx0aWYgKCBjcmVhdGVkTWF0ZXJpYWxzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdFx0XHRmb3IgKCB2YXIgbWkgPSAwLCBtaUxlbiA9IG1hdGVyaWFscy5sZW5ndGg7IG1pIDwgbWlMZW47IG1pICsrICkge1xuXG5cdFx0XHRcdFx0XHR2YXIgc291cmNlTWF0ZXJpYWwgPSBtYXRlcmlhbHNbIG1pIF07XG5cdFx0XHRcdFx0XHRidWZmZXJnZW9tZXRyeS5hZGRHcm91cCggc291cmNlTWF0ZXJpYWwuZ3JvdXBTdGFydCwgc291cmNlTWF0ZXJpYWwuZ3JvdXBDb3VudCwgbWkgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggaXNMaW5lICkge1xuXG5cdFx0XHRcdFx0XHRtZXNoID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyggYnVmZmVyZ2VvbWV0cnksIGNyZWF0ZWRNYXRlcmlhbHMgKTtcblxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIGlzUG9pbnRzICkge1xuXG5cdFx0XHRcdFx0XHRtZXNoID0gbmV3IFRIUkVFLlBvaW50cyggYnVmZmVyZ2VvbWV0cnksIGNyZWF0ZWRNYXRlcmlhbHMgKTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggYnVmZmVyZ2VvbWV0cnksIGNyZWF0ZWRNYXRlcmlhbHMgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0aWYgKCBpc0xpbmUgKSB7XG5cblx0XHRcdFx0XHRcdG1lc2ggPSBuZXcgVEhSRUUuTGluZVNlZ21lbnRzKCBidWZmZXJnZW9tZXRyeSwgY3JlYXRlZE1hdGVyaWFsc1sgMCBdICk7XG5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBpc1BvaW50cyApIHtcblxuXHRcdFx0XHRcdFx0bWVzaCA9IG5ldyBUSFJFRS5Qb2ludHMoIGJ1ZmZlcmdlb21ldHJ5LCBjcmVhdGVkTWF0ZXJpYWxzWyAwIF0gKTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdG1lc2ggPSBuZXcgVEhSRUUuTWVzaCggYnVmZmVyZ2VvbWV0cnksIGNyZWF0ZWRNYXRlcmlhbHNbIDAgXSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtZXNoLm5hbWUgPSBvYmplY3QubmFtZTtcblxuXHRcdFx0XHRjb250YWluZXIuYWRkKCBtZXNoICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc29sZS50aW1lRW5kKCAnT0JKTG9hZGVyJyApO1xuXG5cdFx0XHRyZXR1cm4gY29udGFpbmVyO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0cmV0dXJuIE9CSkxvYWRlcjtcblxufSApKCk7XG5cbmV4cG9ydHMuTVRMTG9hZGVyID0gVEhSRUUuTVRMTG9hZGVyO1xuZXhwb3J0cy5PQkpMb2FkZXIgPSBUSFJFRS5PQkpMb2FkZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9